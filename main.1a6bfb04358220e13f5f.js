(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return a}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Object(r.e)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6Uf2":function(t,e,n){"use strict";(function(t){var e,r=n("zIRd"),i=n("mrSG"),o=n("qOnz"),s=n("q/0M"),a=n("/6Yf"),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.J)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.D)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),c=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),l=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new c},h=l("localStorage"),f=l("sessionStorage"),d=new s.b("@firebase/database"),p=(e=1,function(){return e++}),g=function(t){var e=Object(o.I)(t),n=new o.d;n.update(e);var r=n.digest();return o.h.encodeByteArray(r)},v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=v.apply(null,i):n+="object"==typeof i?Object(o.J)(i):i,n+=" "}return n},b=null,m=!0,y=function(t,e){Object(o.f)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(d.logLevel=s.a.VERBOSE,b=d.log.bind(d),e&&f.set("logging_enabled",!0)):"function"==typeof t?b=t:(b=null,f.remove("logging_enabled"))},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===m&&(m=!1,null===b&&!0===f.get("logging_enabled")&&y(!0)),b){var n=v.apply(null,t);b(n)}},w=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];_.apply(void 0,Object(i.f)([t],Object(i.e)(e)))}},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,Object(i.f)([],Object(i.e)(t)));d.error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,Object(i.f)([],Object(i.e)(t)));throw d.error(n),new Error(n)},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+v.apply(void 0,Object(i.f)([],Object(i.e)(t)));d.warn(n)},E=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",S="[MAX_NAME]",x=function(t,e){if(t===e)return 0;if(t===T||e===S)return-1;if(e===T||t===S)return 1;var n=D(t),r=D(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},P=function(t,e){return t===e?0:t<e?-1:1},A=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.J)(e))},k=function(t){if("object"!=typeof t||null===t)return Object(o.J)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Object(o.J)(e[i]),r+=":",r+=k(t[e[i]]);return r+"}"},j=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function N(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L=function(t){var e,n,r,i,s;Object(o.f)(!E(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(s=0;s<64;s+=8){var l=parseInt(u.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},R=new RegExp("^-?(0*)\\d{1,10}$"),D=function(t){if(R.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},M=function(t){try{t()}catch(e){setTimeout((function(){throw C("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},U=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},F=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function V(){return new F("")}function K(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function q(t){return t.pieces_.length-t.pieceNum_}function H(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new F(t.pieces_,e)}function B(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function z(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function G(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function J(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new F(e,0)}function W(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof F)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new F(n,0)}function Q(t){return t.pieceNum_>=t.pieces_.length}function Y(t,e){var n=K(t),r=K(e);if(null===n)return e;if(n===r)return Y(H(t),H(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function $(t,e){for(var n=G(t,0),r=G(e,0),i=0;i<n.length&&i<r.length;i++){var o=x(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function X(t,e){if(q(t)!==q(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Z(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(q(t)>q(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var tt=function(){return function(t,e){this.errorPrefix_=e,this.parts_=G(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.H)(this.parts_[n]);et(this)}}();function et(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+nt(t))}function nt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var rt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,it="websocket",ot="long_polling",st=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function at(t,e,n){var r;if(Object(o.f)("string"==typeof e,"typeof type must == string"),Object(o.f)("object"==typeof n,"typeof params must == object"),e===it)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==ot)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return N(n,(function(t,e){i.push(t+"="+e)})),r+i.join("&")}var ut,ct,lt,ht,ft,dt,pt,gt=function(t,e){var n=vt(t),r=n.namespace;return"firebase.com"===n.domain&&I(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||I("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&C("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new st(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new F(n.pathString)}},vt=function(t){var e="",n="",r="",o="",s="",a=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=Object(i.g)(t.split("&")),s=o.next();!s.done;s=o.next()){var a=s.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):C("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(a="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:o,namespace:s}},bt=/[\[\].#$\/\u0000-\u001F\u007F]/,mt=/[\[\].#$\u0000-\u001F\u007F]/,yt=10485760,_t=function(t){return"string"==typeof t&&0!==t.length&&!bt.test(t)},wt=function(t){return"string"==typeof t&&0!==t.length&&!mt.test(t)},Ot=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!E(t)||t&&"object"==typeof t&&Object(o.k)(t,".sv")},It=function(t,e,n,r,i){i&&void 0===n||Ct(Object(o.o)(t,e,i),n,r)},Ct=function(t,e,n){var r=n instanceof F?new tt(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+nt(r));if("function"==typeof e)throw new Error(t+"contains a function "+nt(r)+" with contents = "+e.toString());if(E(e))throw new Error(t+"contains "+e.toString()+" "+nt(r));if("string"==typeof e&&e.length>yt/3&&Object(o.H)(e)>yt)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+nt(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,s=!1;if(N(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!_t(e)))throw new Error(t+" contains an invalid key ("+e+") "+nt(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,u;u=e,(a=r).parts_.length>0&&(a.byteLength_+=1),a.parts_.push(u),a.byteLength_+=Object(o.H)(u),et(a),Ct(t,n,r),function(t){var e=t.parts_.pop();t.byteLength_-=Object(o.H)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)})),i&&s)throw new Error(t+' contains ".value" child '+nt(r)+" in addition to actual children.")}},Et=function(t,e,n,r,i){if(!i||void 0!==n){var s=Object(o.o)(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];N(n,(function(t,e){var n=new F(t);if(Ct(s,e,W(r,n)),".priority"===B(n)&&!Ot(e))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=G(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!_t(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort($);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&Z(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,a)}},Tt=function(t,e,n,r){if(!r||void 0!==n){if(E(n))throw new Error(Object(o.o)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ot(n))throw new Error(Object(o.o)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},St=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.o)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},xt=function(t,e,n,r){if(!(r&&void 0===n||_t(n)))throw new Error(Object(o.o)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Pt=function(t,e,n,r){if(!(r&&void 0===n||wt(n)))throw new Error(Object(o.o)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},At=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Pt(t,e,n,r)},kt=function(t,e){if(".info"===K(e))throw new Error(t+" failed = Can't modify data under /.info/")},jt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!_t(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wt(t)}(r))throw new Error(Object(o.o)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Nt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.o)(t,e,r)+"must be a boolean.")},Lt=function(t){return"number"==typeof t?"number:"+L(t):"string:"+t},Rt=function(t){if(t.isLeafNode()){var e=t.val();Object(o.f)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(o.k)(e,".sv"),"Priority must be a string or number.")}else Object(o.f)(t===ut||t.isEmpty(),"priority of unexpected type.");Object(o.f)(t===ut||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Dt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.f)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Rt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return ct},set:function(t){ct=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Q(e)?this:".priority"===K(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=K(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.f)(".priority"!==r||1===q(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(H(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Lt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?L(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.f)(i>=0,"Unknown leaf type: "+n),Object(o.f)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Mt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ut=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Vt.EMPTY_NODE,this.right=null!=o?o:Vt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Vt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Vt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ft=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ut(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Vt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ut.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ut.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Mt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Mt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ft,t}(),Kt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),qt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Kt(T,t),r=new Kt(T,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Kt.MIN},t}(),Ht=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Kt.MIN},e.prototype.maxPost=function(){return new Kt(S,new Dt("[PRIORITY-POST]",ht))},e.prototype.makePost=function(t,e){var n=lt(t);return new Kt(e,new Dt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(qt)),Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return ft},set:function(t){ft=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return x(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.g)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Kt.MIN},e.prototype.maxPost=function(){return new Kt(S,ft)},e.prototype.makePost=function(t,e){return Object(o.f)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Kt(t,ft)},e.prototype.toString=function(){return".key"},e}(qt),zt=new Bt,Gt=Math.log(2),Jt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Gt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Wt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Ut(s,o.node,Ut.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],s=n?n(o):o,new Ut(s,o.node,Ut.BLACK,c,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),l=t[o],h=n?n(l):l;u(new Ut(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,Ut.BLACK):(a(h,Ut.BLACK),a(h,Ut.RED))}return o}(new Jt(t.length));return new Vt(r||e,o)},Qt={},Yt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.f)(Qt&&Ht,"ChildrenNode.ts has not been loaded"),dt=dt||new t({".priority":Qt},{".priority":Ht})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.G)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Vt?e:null},t.prototype.hasIndex=function(t){return Object(o.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.f)(e!==zt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,u=n.getIterator(Kt.Wrap),c=u.getNext();c;)a=a||e.isDefinedOn(c.node),s.push(c),c=u.getNext();r=a?Wt(s,e.getCompare()):Qt;var l=e.toString(),h=Object(i.a)({},this.indexSet_);h[l]=e;var f=Object(i.a)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.E)(this.indexes_,(function(t,i){var s=Object(o.G)(r.indexSet_,i);if(Object(o.f)(s,"Missing index implementation for "+i),t===Qt){if(s.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(Kt.Wrap),c=u.getNext();c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),Wt(a,s.getCompare())}return Qt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Kt(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.E)(this.indexes_,(function(t){if(t===Qt)return t;var r=n.get(e.name);return r?t.remove(new Kt(e.name,r)):t})),this.indexSet_)},t}();function $t(t,e){return x(t.name,e.name)}function Xt(t,e){return x(t,e)}var Zt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Rt(this.priorityNode_),this.children_.isEmpty()&&Object(o.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return pt||(pt=new t(new Vt(Xt),null,Yt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||pt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?pt:e},t.prototype.getChild=function(t){var e=K(t);return null===e?this:this.getImmediateChild(e).getChild(H(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.f)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Kt(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?pt:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=K(t);if(null===n)return e;Object(o.f)(".priority"!==K(t)||1===q(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(H(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ht,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Lt(this.getPriority().val())+":"),this.forEachChild(Ht,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Kt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Kt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Kt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Kt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Kt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===te?-1:0},t.prototype.withIndex=function(e){if(e===zt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===zt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Ht),r=e.getIterator(Ht),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===zt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),te=new(function(t){function e(){return t.call(this,new Vt(Xt),Zt.EMPTY_NODE,Yt.Default)||this}return Object(i.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Zt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Zt));function ee(t,e){if(void 0===e&&(e=null),null===t)return Zt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.f)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Dt(t,ee(e));if(t instanceof Array){var n=Zt.EMPTY_NODE;return N(t,(function(e,r){if(Object(o.k)(t,e)&&"."!==e.substring(0,1)){var i=ee(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(ee(e))}var r=[],i=!1;if(N(t,(function(t,e){if("."!==t.substring(0,1)){var n=ee(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Kt(t,n)))}})),0===r.length)return Zt.EMPTY_NODE;var s=Wt(r,$t,(function(t){return t.name}),Xt);if(i){var a=Wt(r,Ht.getCompare());return new Zt(s,ee(e),new Yt({".priority":a},{".priority":Ht}))}return new Zt(s,ee(e),Yt.Default)}Object.defineProperties(Kt,{MIN:{value:new Kt(T,Zt.EMPTY_NODE)},MAX:{value:new Kt(S,te)}}),Bt.__EMPTY_NODE=Zt.EMPTY_NODE,Dt.__childrenNodeConstructor=Zt,ut=te,ht=te,lt=ee;var ne=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function re(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var ie,oe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ne.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(Q(this.path)){if(null!=this.affectedTree.value)return Object(o.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new F(e));return new t(V(),n,this.revert)}return Object(o.f)(K(this.path)===e,"operationForChild called for unrelated child."),new t(H(this.path),this.affectedTree,this.revert)},t}(),se=function(){function t(t,e){void 0===e&&(ie||(ie=new Vt(P)),e=ie),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return N(e,(function(t,e){n=n.set(new F(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:V(),value:this.value};if(Q(t))return null;var n=K(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(H(t),e);return null!=i?{path:W(new F(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(Q(e))return this;var n=K(e),r=this.children.get(n);return null!==r?r.subtree(H(e)):new t(null)},t.prototype.set=function(e,n){if(Q(e))return new t(n,this.children);var r=K(e),i=(this.children.get(r)||new t(null)).set(H(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(Q(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=K(e),r=this.children.get(n);if(r){var i=r.remove(H(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(Q(t))return this.value;var e=K(t),n=this.children.get(e);return n?n.get(H(t)):null},t.prototype.setTree=function(e,n){if(Q(e))return n;var r,i=K(e),o=(this.children.get(i)||new t(null)).setTree(H(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(V(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(W(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,V(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(Q(t))return null;var i=K(t),o=this.children.get(i);return o?o.findOnPath_(H(t),W(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,V(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(Q(e))return this;this.value&&r(n,this.value);var i=K(e),o=this.children.get(i);return o?o.foreachOnPath_(H(e),W(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(V(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(W(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),ae=function(){function t(t,e){this.source=t,this.path=e,this.type=ne.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Q(this.path)?new t(this.source,V()):new t(this.source,H(this.path))},t}(),ue=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ne.OVERWRITE}return t.prototype.operationForChild=function(e){return Q(this.path)?new t(this.source,V(),this.snap.getImmediateChild(e)):new t(this.source,H(this.path),this.snap)},t}(),ce=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ne.MERGE}return t.prototype.operationForChild=function(e){if(Q(this.path)){var n=this.children.subtree(new F(e));return n.isEmpty()?null:n.value?new ue(this.source,V(),n.value):new t(this.source,V(),n)}return Object(o.f)(K(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,H(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),le=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(Q(t))return this.isFullyInitialized()&&!this.filtered_;var e=K(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),he=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new le(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new le(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t}();function fe(t){return{type:"value",snapshotNode:t}}function de(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function pe(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ge(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var ve=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){Object(o.f)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(pe(e,a)):Object(o.f)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(de(e,n)):s.trackChildChange(ge(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Ht,(function(t,r){e.hasChild(t)||n.trackChildChange(pe(t,r))})),e.isLeafNode()||e.forEachChild(Ht,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ge(e,r,i))}else n.trackChildChange(de(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Zt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),be=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.f)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(o.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,ge(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,pe(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,de(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw Object(o.g)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ge(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),me=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),ye=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new le(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),_e=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),we=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){Object(o.f)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Object(o.f)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var s,a,u=new be;if(n.type===ne.OVERWRITE){var c=n;c.source.fromUser?s=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):(Object(o.f)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered()&&!Q(c.path),s=this.applyServerOverwrite_(e,c.path,c.snap,r,i,a,u))}else if(n.type===ne.MERGE){var l=n;l.source.fromUser?s=this.applyUserMerge_(e,l.path,l.children,r,i,u):(Object(o.f)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered(),s=this.applyServerMerge_(e,l.path,l.children,r,i,a,u))}else if(n.type===ne.ACK_USER_WRITE){var h=n;s=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==ne.LISTEN_COMPLETE)throw Object(o.g)("Unknown operation type: "+n.type);s=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,s,f),new _e(s,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(fe(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var s=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,u=void 0;if(Q(e))if(Object(o.f)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=n.calcCompleteEventChildren(c instanceof Zt?c:Zt.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=K(e);if(".priority"===f){Object(o.f)(1===q(e),"Can't have a priority with additional path components");var d=s.getNode();u=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,d,u);a=null!=p?this.filter_.updatePriority(d,p):s.getNode()}else{var g=H(e),v=void 0;if(s.isCompleteForChild(f)){u=t.getServerCache().getNode();var b=n.calcEventCacheAfterServerOverwrite(e,s.getNode(),u);v=null!=b?s.getNode().getImmediateChild(f).updateChild(g,b):s.getNode().getImmediateChild(f)}else v=n.calcCompleteChild(f,t.getServerCache());a=null!=v?this.filter_.updateChild(s.getNode(),f,v,g,r,i):s.getNode()}}return t.updateEventSnap(a,s.isFullyInitialized()||Q(e),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(Q(e))a=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);a=c.updateFullNode(u.getNode(),l,null)}else{var h=K(e);if(!u.isCompleteForPath(e)&&q(e)>1)return t;var f=H(e),d=u.getNode().getImmediateChild(h).updateChild(f,n);a=".priority"===h?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),h,d,f,me,null)}var p=t.updateServerSnap(a,u.isFullyInitialized()||Q(e),c.filtersNodes()),g=new ye(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,g,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,u=t.getEventCache(),c=new ye(r,t,i);if(Q(e))a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=K(e);if(".priority"===l)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered());else{var h=H(e),f=u.getNode().getImmediateChild(l),d=void 0;if(Q(h))d=n;else{var p=c.getCompleteChild(l);d=null!=p?".priority"===B(h)&&p.getChild(J(h)).isEmpty()?p:p.updateChild(h,n):Zt.EMPTY_NODE}if(f.equals(d))s=t;else{var g=this.filter_.updateChild(u.getNode(),l,d,h,c,o);s=t.updateEventSnap(g,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,u=e;return r.foreach((function(r,c){var l=W(n,r);t.cacheHasChild_(e,K(l))&&(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),r.foreach((function(r,c){var l=W(n,r);t.cacheHasChild_(e,K(l))||(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=Q(e)?n:new se(null).setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(u,n);c=a.applyServerOverwrite_(c,new F(e),h,r,i,o,s)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&void 0===n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=a.applyMerge_(h,n);c=a.applyServerOverwrite_(c,new F(e),f,r,i,o,s)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(Q(e)&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(Q(e)){var u=new se(null);return a.getNode().forEachChild(zt,(function(t,e){u=u.set(new F(t),e)})),this.applyServerMerge_(t,e,u,r,i,s,o)}return t}var c=new se(null);return n.foreach((function(t,n){var r=W(e,t);a.isCompleteForPath(r)&&(c=c.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||Q(e),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,me,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var s;if(null!=n.shadowingWrite(e))return t;var a=new ye(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(Q(e)||".priority"===K(e)){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();Object(o.f)(h instanceof Zt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}c=this.filter_.updateFullNode(u,l=l,i)}else{var f=K(e),d=n.calcCompleteChild(f,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?this.filter_.updateChild(u,f,d,H(e),a,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,Zt.EMPTY_NODE,H(e),a,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,s,i))}return s=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(V()),t.updateEventSnap(c,s,this.filter_.filtersNodes())},t}(),Oe=function(){return function(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}}();function Ie(t,e,n,r,i,s){var a=r.filter((function(t){return t.type===n}));a.sort((function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(o.g)("Should only compare child_ events.");var r=new Kt(e.childName,e.snapshotNode),i=new Kt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)})),a.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);i.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}var Ce,Ee,Te="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Se=(Ce=0,Ee=[],function(t){var e,n=t===Ce;Ce=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=Te.charAt(t%64),t=Math.floor(t/64);Object(o.f)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===Ee[e];e--)Ee[e]=0;Ee[e]++}else for(e=0;e<12;e++)Ee[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=Te.charAt(Ee[e]);return Object(o.f)(20===i.length,"nextPushId: Length should be 20."),i}),xe=function(t){if("2147483647"===t)return"-";var e=D(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return S;var o=Te.charAt(Te.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},Pe=function(t){if("-2147483648"===t)return T;var e=D(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Te.charAt(Te.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))},Ae=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?x(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Kt.MIN},e.prototype.maxPost=function(){return Kt.MAX},e.prototype.makePost=function(t,e){var n=ee(t);return new Kt(e,n)},e.prototype.toString=function(){return".value"},e}(qt)),ke=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.f)(!Q(e)&&".priority"!==K(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(i.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=ee(t),r=Zt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Kt(e,r)},e.prototype.maxPost=function(){var t=Zt.EMPTY_NODE.updateChild(this.indexPath_,te);return new Kt(S,t)},e.prototype.toString=function(){return G(this.indexPath_,0).join("/")},e}(qt),je=function(){function t(e){this.indexedFilter_=new ve(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Kt(e,n))||(n=Zt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Zt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Zt.EMPTY_NODE);var i=this;return e.forEachChild(Ht,(function(t,e){i.matches(new Kt(t,e))||(r=r.updateImmediateChild(t,Zt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Ne=function(){function t(t){this.rangedFilter_=new je(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Kt(e,n))||(n=Zt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Zt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Zt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Zt.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,Zt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var u=t;Object(o.f)(u.numChildren()===this.limit_,"");var c=new Kt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:s(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(ge(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(pe(e,f));var g=u.updateImmediateChild(e,Zt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(de(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}return n.isEmpty()?t:h&&s(l,c)>=0?(null!=i&&(i.trackChildChange(pe(l.name,l.node)),i.trackChildChange(de(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,Zt.EMPTY_NODE)):t},t}(),Le=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ht}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:S},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ht},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Re(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function De(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Me(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ue(t,e,n){var r;return t.index_===zt?("string"==typeof e&&(e=xe(e)),r=Me(t,e,n)):r=Me(t,e,null==n?S:xe(n)),r.startAfterSet_=!0,r}function Fe(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ve(t,e,n){var r;return t.index_===zt?("string"==typeof e&&(e=Pe(e)),r=Fe(t,e,n)):r=Fe(t,e,null==n?T:Pe(n)),r.endBeforeSet_=!0,r}function Ke(t,e){var n=t.copy();return n.index_=e,n}function qe(t){var e,n={};return t.isDefault()||(t.index_===Ht?e="$priority":t.index_===Ae?e="$value":t.index_===zt?e="$key":(Object(o.f)(t.index_ instanceof ke,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(o.J)(e),t.startSet_&&(n.startAt=Object(o.J)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(o.J)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(o.J)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(o.J)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}var He,Be=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_.getQueryParams(),i=new ve(r.getIndex()),o=(n=r).loadsAllData()?new ve(n.getIndex()):n.hasLimit()?new Ne(n):new je(n);this.processor_=new we(o);var s=e.getServerCache(),a=e.getEventCache(),u=i.updateFullNode(Zt.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Zt.EMPTY_NODE,a.getNode(),null),l=new le(u,s.isFullyInitialized(),i.filtersNodes()),h=new le(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=new he(h,l),this.eventGenerator_=new Oe(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteNode=function(){return this.viewCache_.getCompleteEventSnap()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!Q(t)&&!e.getImmediateChild(K(t)).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){Object(o.f)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],s=0;s<this.eventRegistrations_.length;++s){var a=this.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(s+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ne.MERGE&&null!==t.source.queryId&&(Object(o.f)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Object(o.f)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),Object(o.f)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ht,(function(t,e){n.push(de(t,e))})),e.isFullyInitialized()&&n.push(fe(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return function(t,e,n,r){var i=[],o=[];return e.forEach((function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})})),Ie(t,i,"child_removed",e,r,n),Ie(t,i,"child_added",e,r,n),Ie(t,i,"child_moved",o,r,n),Ie(t,i,"child_changed",e,r,n),Ie(t,i,"value",e,r,n),i}(this.eventGenerator_,t,e,n?[n]:this.eventRegistrations_)},t}(),ze=function(){return function(){this.views=new Map}}();function Ge(t,e,n,r){var s,a,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return Object(o.f)(null!=c,"SyncTree gave us an op for an invalid query."),c.applyOperation(e,n,r)}var l=[];try{for(var h=Object(i.g)(t.views.values()),f=h.next();!f.done;f=h.next())l=l.concat((c=f.value).applyOperation(e,n,r))}catch(d){s={error:d}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}return l}function Je(t,e,n,r,i){var o=e.queryIdentifier(),s=t.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),u=!1;a?u=!0:r instanceof Zt?(a=n.calcCompleteEventChildren(r),u=!1):(a=Zt.EMPTY_NODE,u=!1);var c=new he(new le(a,u,!1),new le(r,i,!1));return new Be(e,c)}return s}function We(t){var e,n,r=[];try{for(var o=Object(i.g)(t.views.values()),s=o.next();!s.done;s=o.next()){var a=s.value;a.getQuery().getQueryParams().loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}function Qe(t,e){var n,r,o=null;try{for(var s=Object(i.g)(t.views.values()),a=s.next();!a.done;a=s.next())o=o||a.value.getCompleteServerCache(e)}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}function Ye(t,e){if(e.getQueryParams().loadsAllData())return Ze(t);var n=e.queryIdentifier();return t.views.get(n)}function $e(t,e){return null!=Ye(t,e)}function Xe(t){return null!=Ze(t)}function Ze(t){var e,n;try{for(var r=Object(i.g)(t.views.values()),o=r.next();!o.done;o=r.next()){var s=o.value;if(s.getQuery().getQueryParams().loadsAllData())return s}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var tn=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new se(null))},t}();function en(t,e,n){if(Q(e))return new tn(new se(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=Y(i,e);return o=o.updateChild(s,n),new tn(t.writeTree_.set(i,o))}var a=new se(n),u=t.writeTree_.setTree(e,a);return new tn(u)}function nn(t,e,n){var r=t;return N(n,(function(t,n){r=en(r,W(e,t),n)})),r}function rn(t,e){if(Q(e))return tn.empty();var n=t.writeTree_.setTree(e,new se(null));return new tn(n)}function on(t,e){return null!=sn(t,e)}function sn(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Y(n.path,e)):null}function an(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ht,(function(t,n){e.push(new Kt(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Kt(t,n.value))})),e}function un(t,e){if(Q(e))return t;var n=sn(t,e);return new tn(null!=n?new se(n):t.writeTree_.subtree(e))}function cn(t){return t.writeTree_.isEmpty()}function ln(t,e){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(Object(o.f)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):r=t(W(e,n),s,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(W(e,".priority"),i)),r}(V(),t.writeTree_,e)}var hn=function(){function t(){this.visibleWrites_=tn.empty(),this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new fn(t,this)},t.prototype.addOverwrite=function(t,e,n,r){Object(o.f)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=en(this.visibleWrites_,t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){Object(o.f)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=nn(this.visibleWrites_,t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Object(o.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,s=!1,a=this.allWrites_.length-1;i&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?i=!1:Z(r.path,u.path)&&(s=!0)),a--}return!!i&&(s?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=rn(this.visibleWrites_,r.path):N(r.children,(function(t){e.visibleWrites_=rn(e.visibleWrites_,W(r.path,t))})),!0))},t.prototype.getCompleteWriteData=function(t){return sn(this.visibleWrites_,t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=un(this.visibleWrites_,e);return!i&&cn(o)?n:i||null!=n||on(o,V())?ln(t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Z(t.path,e)||Z(e,t.path))}),e),n||Zt.EMPTY_NODE):null}var s=sn(this.visibleWrites_,e);if(null!=s)return s;var a=un(this.visibleWrites_,e);return cn(a)?n:null!=n||on(a,V())?ln(a,n||Zt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Zt.EMPTY_NODE,r=sn(this.visibleWrites_,t);if(r)return r.isLeafNode()||r.forEachChild(Ht,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=un(this.visibleWrites_,t);return e.forEachChild(Ht,(function(t,e){var r=ln(un(i,new F(t)),e);n=n.updateImmediateChild(t,r)})),an(i).forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return an(un(this.visibleWrites_,t)).forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){Object(o.f)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=W(t,e);if(on(this.visibleWrites_,i))return null;var s=un(this.visibleWrites_,i);return cn(s)?r.getChild(e):ln(s,r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=W(t,e),i=sn(this.visibleWrites_,r);return null!=i?i:n.isCompleteForChild(e)?ln(un(this.visibleWrites_,r),n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return sn(this.visibleWrites_,t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=un(this.visibleWrites_,t),u=sn(a,V());if(null!=u)s=u;else{if(null==e)return[];s=ln(a,e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return Z(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Z(W(t.path,n),e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,V()),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=tn.empty(),i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,u=void 0;if(s.snap)Z(n,a)?r=en(r,u=Y(n,a),s.snap):Z(a,n)&&(u=Y(a,n),r=en(r,V(),s.snap.getChild(u)));else{if(!s.children)throw Object(o.g)("WriteRecord should have .snap or .children");if(Z(n,a))r=nn(r,u=Y(n,a),s.children);else if(Z(a,n))if(Q(u=Y(a,n)))r=nn(r,V(),s.children);else{var c=Object(o.G)(s.children,K(u));if(c){var l=c.getChild(H(u));r=en(r,V(),l)}}}}}return r},t}(),fn=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(W(this.treePath_,t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(W(this.treePath_,e),this.writeTree_)},t}(),dn=1,pn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new se(null),this.pendingWriteTree_=new hn,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function gn(t,e,n,r,i){return t.pendingWriteTree_.addOverwrite(e,n,r,i),i?wn(t,new ue({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function vn(t,e,n){void 0===n&&(n=!1);var r=t.pendingWriteTree_.getWrite(e);if(t.pendingWriteTree_.removeWrite(e)){var i=new se(null);return null!=r.snap?i=i.set(V(),!0):N(r.children,(function(t){i=i.set(new F(t),!0)})),wn(t,new oe(r.path,i,n))}return[]}function bn(t,e,n){return wn(t,new ue({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function mn(t,e,n,r){var s=e.path,a=t.syncPointTree_.get(s),u=[];if(a&&("default"===e.queryIdentifier()||$e(a,e))){var c=function(t,e,n,r){var s,a,u=e.queryIdentifier(),c=[],l=[],h=Xe(t);if("default"===u)try{for(var f=Object(i.g)(t.views.entries()),d=f.next();!d.done;d=f.next()){var p,g=Object(i.e)(d.value,2),v=g[0];l=l.concat((p=g[1]).removeEventRegistration(n,r)),p.isEmpty()&&(t.views.delete(v),p.getQuery().getQueryParams().loadsAllData()||c.push(p.getQuery()))}}catch(b){s={error:b}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(s)throw s.error}}else(p=t.views.get(u))&&(l=l.concat(p.removeEventRegistration(n,r)),p.isEmpty()&&(t.views.delete(u),p.getQuery().getQueryParams().loadsAllData()||c.push(p.getQuery())));return h&&!Xe(t)&&c.push(new(Object(o.f)(He,"Reference.ts has not been loaded"),He)(e.repo,e.path)),{removed:c,events:l}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(s));var l=c.removed;u=c.events;var h=-1!==l.findIndex((function(t){return t.getQueryParams().loadsAllData()})),f=t.syncPointTree_.findOnPath(s,(function(t,e){return Xe(e)}));if(h&&!f){var d=t.syncPointTree_.subtree(s);if(!d.isEmpty())for(var p=function(t){return t.fold((function(t,e,n){if(e&&Xe(e))return[Ze(e)];var r=[];return e&&(r=We(e)),N(n,(function(t,e){r=r.concat(e)})),r}))}(d),g=0;g<p.length;++g){var v=p[g],b=v.getQuery(),m=On(t,v);t.listenProvider_.startListening(xn(b),In(t,b),m.hashFn,m.onComplete)}}!f&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(xn(e),null):l.forEach((function(e){var n=t.queryToTagMap.get(Cn(e));t.listenProvider_.stopListening(xn(e),n)}))),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=Cn(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return u}function yn(t,e,n){var r=e.path,i=null,s=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Y(t,r);i=i||Qe(e,n),s=s||Xe(e)}));var a,u=t.syncPointTree_.get(r);u?(s=s||Xe(u),i=i||Qe(u,V())):(u=new ze,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=Zt.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=Qe(e,V());n&&(i=i.updateImmediateChild(t,n))})));var c=$e(u,e);if(!c&&!e.getQueryParams().loadsAllData()){var l=Cn(e);Object(o.f)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=dn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var f=function(t,e,n,r,i,o){var s=Je(t,e,r,i,o);return t.views.has(e.queryIdentifier())||t.views.set(e.queryIdentifier(),s),s.addEventRegistration(n),s.getInitialEvents(n)}(u,e,n,t.pendingWriteTree_.childWrites(r),i,a);if(!c&&!s){var d=Ye(u,e);f=f.concat(function(t,e,n){var r=e.path,i=In(t,e),s=On(t,n),a=t.listenProvider_.startListening(xn(e),i,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(i)Object(o.f)(!Xe(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(t,e,n){if(!Q(t)&&e&&Xe(e))return[Ze(e).getQuery()];var r=[];return e&&(r=r.concat(We(e).map((function(t){return t.getQuery()})))),N(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(xn(h),In(t,h))}return a}(t,e,d))}return f}function _n(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(function(t,n){var r=Qe(n,Y(t,e));if(r)return r}));return r.calcCompleteEventCache(e,i,n,!0)}function wn(t,e){return function t(e,n,r,i){if(Q(e.path))return function t(e,n,r,i){var o=n.get(V());null==r&&null!=o&&(r=Qe(o,V()));var s=[];return n.children.inorderTraversal((function(n,o){var a=r?r.getImmediateChild(n):null,u=i.child(n),c=e.operationForChild(n);c&&(s=s.concat(t(c,o,a,u)))})),o&&(s=s.concat(Ge(o,e,i,r))),s}(e,n,r,i);var o=n.get(V());null==r&&null!=o&&(r=Qe(o,V()));var s=[],a=K(e.path),u=e.operationForChild(a),c=n.children.get(a);if(c&&u){var l=r?r.getImmediateChild(a):null,h=i.child(a);s=s.concat(t(u,c,l,h))}return o&&(s=s.concat(Ge(o,e,i,r))),s}(e,t.syncPointTree_,null,t.pendingWriteTree_.childWrites(V()))}function On(t,e){var n=e.getQuery(),r=In(t,n);return{hashFn:function(){return(e.getServerCache()||Zt.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=En(t,n);if(r){var i=Tn(r),o=i.path,s=i.queryId,a=Y(o,e);return Sn(t,o,new ae(re(s),a))}return[]}(t,n.path,r):function(t,e){return wn(t,new ae({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return mn(t,n,null,i)}}}function In(t,e){var n=Cn(e);return t.queryToTagMap.get(n)}function Cn(t){return t.path.toString()+"$"+t.queryIdentifier()}function En(t,e){return t.tagToQueryMap.get(e)}function Tn(t){var e=t.indexOf("$");return Object(o.f)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new F(t.substr(0,e))}}function Sn(t,e,n){var r=t.syncPointTree_.get(e);return Object(o.f)(r,"Missing sync point for query tag that we're tracking"),Ge(r,n,t.pendingWriteTree_.childWrites(e),null)}function xn(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t}var Pn=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),An=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=W(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return _n(this.syncTree_,this.path_)},t}(),kn=function(t,e,n){return t&&"object"==typeof t?(Object(o.f)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?jn(t[".sv"],e,n):"object"==typeof t[".sv"]?Nn(t[".sv"],e):void Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},jn=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.f)(!1,"Unexpected server value: "+t)}},Nn=function(t,e,n){t.hasOwnProperty("increment")||Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(o.f)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.f)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},Ln=function(t,e,n,r){return Dn(e,new An(n,t),r)},Rn=function(t,e,n){return Dn(t,new Pn(e),n)};function Dn(t,e,n){var r,i=t.getPriority().val(),o=kn(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=kn(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Dt(a,ee(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Dt(o))),u.forEachChild(Ht,(function(t,i){var o=Dn(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}function Mn(){return{value:null,children:new Map}}function Un(t,e,n){if(Q(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=K(e);t.children.has(r)||t.children.set(r,Mn()),Un(t.children.get(r),e=H(e),n)}}function Fn(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}(t,(function(t,r){Fn(r,new F(e.toString()+"/"+t),n)}))}var Vn=function(){function t(){this.rootNode_=Zt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Kn=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.m)(this.counters_)},t}(),qn={},Hn={};function Bn(t){var e=t.toString();return qn[e]||(qn[e]=new Kn),qn[e]}var zn=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(i.a)({},t);return this.last_&&N(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Gn=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new zn(t);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;N(e,(function(e,i){i>0&&Object(o.k)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Jn=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Wn(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||X(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Qn(t,e,n){Wn(t,n),$n(t,(function(t){return X(t,e)}))}function Yn(t,e,n){Wn(t,n),$n(t,(function(t){return Z(t,e)||Z(e,t)}))}function $n(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(Xn(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Xn(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();b&&_("event: "+n.toString()),M(r)}}}var Zn=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(i.f)([],Object(i.e)(this.listeners_[t])),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.f)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),tr=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Zn),er=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.x)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Zn),nr=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&M((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),rr="start",ir="close",or=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(t),this.stats_=Bn(e),this.urlFn=function(t){return at(e,ot,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new nr(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(o.z)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new sr((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,5),o=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===rr)n.id=s,n.password=a;else{if(o!==ir)throw new Error("Unrecognized command received: "+o);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,2),o=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,s)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&rt.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(o.z)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.i)(e),r=j(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.z)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.J)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),sr=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.z)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){_("frame writing exception"),u.stack&&_(u.stack),_(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||_("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(o.z)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){_("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),ar="";function ur(t){ar=t}var cr=null;"undefined"!=typeof MozWebSocket?cr=MozWebSocket:"undefined"!=typeof WebSocket&&(cr=WebSocket);var lr=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=Bn(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(o.z)()&&"undefined"!=typeof location&&location.hostname&&rt.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),at(t,it,r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.z)()){var r={headers:{"User-Agent":"Firebase/5/"+ar+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new cr(this.connURL,[],r)}else this.mySock=new cr(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(u){this.log_("Error instantiating WebSocket.");var a=u.message||u.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==cr&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.D)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(o.f)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=j(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),hr=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[or,lr]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=lr&&lr.isAvailable(),s=o&&!lr.previouslyFailed();if(e.webSocketOnly&&(o||C("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[lr];else{var a=this.transports_=[];try{for(var u=Object(i.g)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),fr=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new hr(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=U((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=A("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?O("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):O("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&C("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),dr=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),pr=1e3,gr=function(t){function e(n,r,i,s,a,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=s,l.onServerInfoUpdate_=a,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=w("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=pr,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(o.z)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),tr.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&er.getInstance().on("online",l.onOnline_,l),l}return Object(i.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.J)(i)),Object(o.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new o.a,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[s];void 0!==t&&i===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),s=t.path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.f)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(o.k)(t,"w")){var n=Object(o.G)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();C("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.q)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.C)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.J)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):O("Unrecognized action received from server: "+Object(o.J)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=pr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=pr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(o.f)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(t){c?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,l=new fr(s,a.repoInfo_,a.applicationId_,n,r,i,(function(t){C(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")}),u))})).then(null,(function(e){a.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&C(e),h())}))}},e.prototype.interrupt=function(t){_("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){_("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.u)(this.interruptReasons_)&&(this.reconnectDelay_=pr,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return k(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new F(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){_("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=Object(i.g)(this.listens.values()),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,Object(i.g)(a.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.z)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+ar.replace(/\./g,"-")]=1,Object(o.x)()?t["framework.cordova"]=1:Object(o.A)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=er.getInstance().currentlyOnline();return Object(o.u)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(dr),vr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(i.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.f)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=qe(t.getQueryParams());this.restRequest_(a+".json",l,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(o.G)(s.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=qe(t.getQueryParams()),r=t.path.toString(),i=new o.a;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var s=i&&i.accessToken;s&&(e.auth=s);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.F)(e);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=Object(o.D)(u.responseText)}catch(e){C("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&C("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()}))},e}(dr),br=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(o.K)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(o.K)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(o.K)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(o.K)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(o.K)("DataSnapshot.child",0,1,arguments.length),e=String(e),Pt("DataSnapshot.child",1,e,!1);var n=new F(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Ht)},t.prototype.hasChild=function(t){Object(o.K)("DataSnapshot.hasChild",1,1,arguments.length),Pt("DataSnapshot.hasChild",1,t,!1);var e=new F(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(o.K)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(o.K)("DataSnapshot.forEach",1,1,arguments.length),Object(o.L)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Ht))}))},t.prototype.hasChildren=function(){return Object(o.K)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.K)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(o.K)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),mr=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function yr(t,e){for(var n=e instanceof F?e:new F(e),r=t,i=K(n);null!==i;){var s=Object(o.G)(r.node.children,i)||{children:{},childCount:0};r=new mr(i,r,s),i=K(n=H(n))}return r}function _r(t){return t.node.value}function wr(t,e){t.node.value=e,function t(e){null!==e.parent&&function(e,n,r){var i=function(t){return void 0===_r(t)&&!Or(t)}(r),s=Object(o.k)(e.node.children,n);i&&s?(delete e.node.children[n],e.node.childCount--,t(e)):i||s||(e.node.children[n]=r.node,e.node.childCount++,t(e))}(e.parent,e.name,e)}(t)}function Or(t){return t.node.childCount>0}function Ir(t,e){N(t.node.children,(function(n,r){e(new mr(n,t,r))}))}function Cr(t){return new F(null===t.parent?t.name:Cr(t.parent)+"/"+t.name)}var Er="repo_interrupt",Tr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Jn,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mn(),this.transactionQueueTree_=new mr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Sr(t){var e=t.infoData_.getNode(new F(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function xr(t){return(e=(e={timestamp:Sr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Pr(t,e,n,r,i){t.dataUpdateCount++;var s=new F(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var u=Object(o.E)(n,(function(t){return ee(t)}));a=function(t,e,n,r){var i=En(t,r);if(i){var o=Tn(i),s=o.path,a=o.queryId,u=Y(s,e),c=se.fromObject(n);return Sn(t,s,new ce(re(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{var c=ee(n);a=function(t,e,n,r){var i=En(t,r);if(null!=i){var o=Tn(i),s=o.path,a=o.queryId,u=Y(s,e);return Sn(t,s,new ue(re(a),u,n))}return[]}(t.serverSyncTree_,s,c,i)}else if(r){var l=Object(o.E)(n,(function(t){return ee(t)}));a=function(t,e,n){var r=se.fromObject(n);return wn(t,new ce({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{var h=ee(n);a=bn(t.serverSyncTree_,s,h)}var f=s;a.length>0&&(f=Qr(t,s)),Yn(t.eventQueue_,f,a)}function Ar(t,e){kr(t,"connected",e),!1===e&&function(t){Hr(t,"onDisconnectEvents");var e=xr(t),n=Mn();Fn(t.onDisconnect_,V(),(function(r,i){var o=Ln(r,i,t.serverSyncTree_,e);Un(n,r,o)}));var r=[];Fn(n,V(),(function(e,n){r=r.concat(bn(t.serverSyncTree_,e,n));var i=Zr(t,e);Qr(t,i)})),t.onDisconnect_=Mn(),Yn(t.eventQueue_,V(),r)}(t)}function kr(t,e,n){var r=new F("/.info/"+e),i=ee(n);t.infoData_.updateSnapshot(r,i);var o=bn(t.infoSyncTree_,r,i);Yn(t.eventQueue_,r,o)}function jr(t){return t.nextWriteId_++}function Nr(t,e,n,r,i){Hr(t,"set",{path:e.toString(),value:n,priority:r});var o=xr(t),s=ee(n,r),a=_n(t.serverSyncTree_,e),u=Rn(s,a,o),c=jr(t),l=gn(t.serverSyncTree_,e,u,c,!0);Wn(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),(function(n,r){var o="ok"===n;o||C("set at "+e+" failed: "+n);var s=vn(t.serverSyncTree_,c,!o);Yn(t.eventQueue_,e,s),Br(0,i,n,r)}));var h=Zr(t,e);Qr(t,h),Yn(t.eventQueue_,h,[])}function Lr(t,e,n,r){Hr(t,"update",{path:e.toString(),value:n});var i=!0,o=xr(t),s={};if(N(n,(function(n,r){i=!1,s[n]=Ln(W(e,n),ee(r),t.serverSyncTree_,o)})),i)_("update() called with empty data.  Don't do anything."),Br(0,r,"ok",void 0);else{var a=jr(t),u=function(t,e,n,r){t.pendingWriteTree_.addMerge(e,n,r);var i=se.fromObject(n);return wn(t,new ce({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,a);Wn(t.eventQueue_,u),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||C("update at "+e+" failed: "+n);var s=vn(t.serverSyncTree_,a,!o),u=s.length>0?Qr(t,e):e;Yn(t.eventQueue_,u,s),Br(0,r,n,i)})),N(n,(function(n){var r=Zr(t,W(e,n));Qr(t,r)})),Yn(t.eventQueue_,e,[])}}function Rr(t,e,n){t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&function t(e,n){if(Q(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var r=e.value;return e.value=null,r.forEachChild(Ht,(function(t,n){Un(e,new F(t),n)})),t(e,n)}if(e.children.size>0){var i=K(n);return n=H(n),e.children.has(i)&&t(e.children.get(i),n)&&e.children.delete(i),0===e.children.size}return!0}(t.onDisconnect_,e),Br(0,n,r,i)}))}function Dr(t,e,n,r){var i=ee(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&Un(t.onDisconnect_,e,i),Br(0,r,n,o)}))}function Mr(t,e,n,r,i){var o=ee(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&Un(t.onDisconnect_,e,o),Br(0,i,n,r)}))}function Ur(t,e,n,r){if(Object(o.u)(n))return _("onDisconnect().update() called with empty data.  Don't do anything."),void Br(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&N(n,(function(n,r){var i=ee(r);Un(t.onDisconnect_,W(e,n),i)})),Br(0,r,i,o)}))}function Fr(t,e,n){var r;r=".info"===K(e.path)?yn(t.infoSyncTree_,e,n):yn(t.serverSyncTree_,e,n),Qn(t.eventQueue_,e.path,r)}function Vr(t,e,n){var r;r=".info"===K(e.path)?mn(t.infoSyncTree_,e,n):mn(t.serverSyncTree_,e,n),Qn(t.eventQueue_,e.path,r)}function Kr(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Er)}function qr(t){t.persistentConnection_&&t.persistentConnection_.resume(Er)}function Hr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),_.apply(void 0,Object(i.f)([r],Object(i.e)(e)))}function Br(t,e,n,r){e&&M((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function zr(t){return t.__database||(t.__database=new gi(t))}function Gr(t,e,n,r,i){Hr(t,"transaction on "+e);var s=function(){},a=new ci(t,e);a.on("value",s);var u={path:e,update:n,onComplete:r,status:null,order:p(),applyLocally:i,retryCount:0,unwatcher:function(){a.off("value",s)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=Jr(t,e,void 0);u.currentInputSnapshot=c;var l=u.update(c.val());if(void 0===l){if(u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete){var h=new br(u.currentInputSnapshot,new ci(t,u.path),Ht);u.onComplete(null,!1,h)}}else{Ct("transaction failed: Data returned ",l,u.path),u.status=0;var f=yr(t.transactionQueueTree_,e),d=_r(f)||[];d.push(u),wr(f,d);var g=void 0;"object"==typeof l&&null!==l&&Object(o.k)(l,".priority")?(g=Object(o.G)(l,".priority"),Object(o.f)(Ot(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):g=(_n(t.serverSyncTree_,e)||Zt.EMPTY_NODE).getPriority().val();var v=xr(t),b=ee(l,g),m=Rn(b,c,v);u.currentOutputSnapshotRaw=b,u.currentOutputSnapshotResolved=m,u.currentWriteId=jr(t);var y=gn(t.serverSyncTree_,e,m,u.currentWriteId,u.applyLocally);Yn(t.eventQueue_,e,y),Wr(t,t.transactionQueueTree_)}}function Jr(t,e,n){return _n(t.serverSyncTree_,e,n)||Zt.EMPTY_NODE}function Wr(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||Xr(t,e),_r(e)){var n=$r(t,e);Object(o.f)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),i=Jr(t,e,r),s=i,a=i.hash(),u=0;u<n.length;u++){var c=n[u];Object(o.f)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Y(e,c.path);s=s.updateChild(l,c.currentOutputSnapshotRaw)}var h=s.val(!0),f=e;t.server_.put(f.toString(),h,(function(r){Hr(t,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<n.length;s++){if(n[s].status=2,i=i.concat(vn(t.serverSyncTree_,n[s].currentWriteId)),n[s].onComplete){var a=n[s].currentOutputSnapshotResolved,u=new ci(t,n[s].path),c=new br(a,u,Ht);o.push(n[s].onComplete.bind(null,null,!0,c))}n[s].unwatcher()}for(Xr(t,yr(t.transactionQueueTree_,e)),Wr(t,t.transactionQueueTree_),Yn(t.eventQueue_,e,i),s=0;s<o.length;s++)M(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)n[s].status=3===n[s].status?4:0;else for(C("transaction at "+f.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;Qr(t,e)}}),a)}(t,Cr(e),n)}else Or(e)&&Ir(e,(function(e){Wr(t,e)}))}function Qr(t,e){var n=Yr(t,e),r=Cr(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],s=e.filter((function(t){return 0===t.status})).map((function(t){return t.currentWriteId})),a=0;a<e.length;a++){var u=e[a],c=Y(n,u.path),l=!1,h=void 0;if(Object(o.f)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,h=u.abortReason,i=i.concat(vn(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,h="maxretry",i=i.concat(vn(t.serverSyncTree_,u.currentWriteId,!0));else{var f=Jr(t,u.path,s);u.currentInputSnapshot=f;var d=e[a].update(f.val());if(void 0!==d){Ct("transaction failed: Data returned ",d,u.path);var p=ee(d);"object"==typeof d&&null!=d&&Object(o.k)(d,".priority")||(p=p.updatePriority(f.getPriority()));var g=u.currentWriteId,v=xr(t),b=Rn(p,f,v);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=b,u.currentWriteId=jr(t),s.splice(s.indexOf(g),1),i=(i=i.concat(gn(t.serverSyncTree_,u.path,b,u.currentWriteId,u.applyLocally))).concat(vn(t.serverSyncTree_,g,!0))}else l=!0,h="nodata",i=i.concat(vn(t.serverSyncTree_,u.currentWriteId,!0))}if(Yn(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete))if("nodata"===h){var m=new ci(t,e[a].path),y=new br(e[a].currentInputSnapshot,m,Ht);r.push(e[a].onComplete.bind(null,null,!1,y))}else r.push(e[a].onComplete.bind(null,new Error(h),!1,null))}for(Xr(t,t.transactionQueueTree_),a=0;a<r.length;a++)M(r[a]);Wr(t,t.transactionQueueTree_)}}(t,$r(t,n),r),r}function Yr(t,e){var n,r=t.transactionQueueTree_;for(n=K(e);null!==n&&void 0===_r(r);)r=yr(r,n),n=K(e=H(e));return r}function $r(t,e){var n=[];return function t(e,n,r){var i=_r(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);Ir(n,(function(n){t(e,n,r)}))}(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function Xr(t,e){var n=_r(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,wr(e,n.length>0?n:void 0)}Ir(e,(function(e){Xr(t,e)}))}function Zr(t,e){var n=Cr(Yr(t,e)),r=yr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,(function(e){ti(t,e)})),ti(t,r),function t(e,n,r,i){r&&!i&&n(e),Ir(e,(function(e){t(e,n,!0,i)})),r&&i&&n(e)}(r,(function(e){ti(t,e)})),n}function ti(t,e){var n=_r(e);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(o.f)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(o.f)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(vn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?wr(e,void 0):n.length=s+1,Yn(t.eventQueue_,Cr(e),i),a=0;a<r.length;a++)M(r[a])}}var ei,ni=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(o.K)("OnDisconnect.cancel",0,1,arguments.length),Object(o.L)("OnDisconnect.cancel",1,t,!0);var e=new o.a;return Rr(this.repo_,this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(o.K)("OnDisconnect.remove",0,1,arguments.length),kt("OnDisconnect.remove",this.path_),Object(o.L)("OnDisconnect.remove",1,t,!0);var e=new o.a;return Dr(this.repo_,this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(o.K)("OnDisconnect.set",1,2,arguments.length),kt("OnDisconnect.set",this.path_),It("OnDisconnect.set",1,t,this.path_,!1),Object(o.L)("OnDisconnect.set",2,e,!0);var n=new o.a;return Dr(this.repo_,this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(o.K)("OnDisconnect.setWithPriority",2,3,arguments.length),kt("OnDisconnect.setWithPriority",this.path_),It("OnDisconnect.setWithPriority",1,t,this.path_,!1),Tt("OnDisconnect.setWithPriority",2,e,!1),Object(o.L)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return Mr(this.repo_,this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(o.K)("OnDisconnect.update",1,2,arguments.length),kt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,C("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Et("OnDisconnect.update",1,t,this.path_,!1),Object(o.L)("OnDisconnect.update",2,e,!0);var i=new o.a;return Ur(this.repo_,this.path_,t,i.wrapCallback(e)),i.promise},t}(),ri=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.K)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),ii=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.J)(this.snapshot.exportVal())},t}(),oi=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),si=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new ii("value",this,new br(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new oi(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),ai=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.k)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new oi(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.f)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new ii(t.type,this,new br(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),ui=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.f)(ei,"Reference.ts has not been loaded"),ei},set:function(t){ei=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===zt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==T)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==S)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Ht){if(null!=e&&!Ot(e)||null!=n&&!Ot(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.f)(t.getIndex()instanceof ke||t.getIndex()===Ae,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(o.K)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(o.K)("Query.on",2,4,arguments.length),St("Query.on",1,e,!1),Object(o.L)("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new si(t,e||null,n||null);Fr(this.repo,this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new ai(t,e,n);Fr(this.repo,this,r)},t.prototype.off=function(t,e,n){Object(o.K)("Query.off",0,3,arguments.length),St("Query.off",1,t,!0),Object(o.L)("Query.off",2,e,!0),Object(o.M)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var s=e||null;r=new si(s,null,n||null)}else t&&(e&&((i={})[t]=e),r=new ai(i,null,n||null));Vr(this.repo,this,r)},t.prototype.get=function(){return null!=(n=function(t,e){var n=e.path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=Y(t,n);r=r||Qe(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||Qe(i,V()):(i=new ze,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new le(r,!0,!1):null;return Je(i,e,t.pendingWriteTree_.childWrites(e.path),o?s.getNode():Zt.EMPTY_NODE,o).getCompleteNode()}((t=this.repo).serverSyncTree_,e=this))?Promise.resolve(new br(n,e.getRef(),e.getQueryParams().getIndex())):t.server_.get(e).then((function(n){var r=ee(n),i=bn(t.serverSyncTree_,e.path,r);return Qn(t.eventQueue_,e.path,i),Promise.resolve(new br(r,e.getRef(),e.getQueryParams().getIndex()))}),(function(n){return Hr(t,"get for query "+Object(o.J)(e)+" failed: "+n),Promise.reject(new Error(n))}));var t,e,n},t.prototype.once=function(e,n,r,i){var s=this;Object(o.K)("Query.once",1,4,arguments.length),St("Query.once",1,e,!1),Object(o.L)("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.a;c.promise.catch((function(){}));var l=function(t){u&&(u=!1,s.off(e,l),n&&n.bind(a.context)(t),c.resolve(t))};return this.on(e,l,(function(t){s.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),c.reject(t)})),c.promise},t.prototype.limitToFirst=function(e){if(Object(o.K)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,Re(this.queryParams_,e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(o.K)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,De(this.queryParams_,e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(o.K)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Pt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new F(e);if(Q(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new ke(n),i=Ke(this.queryParams_,r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(o.K)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=Ke(this.queryParams_,zt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(o.K)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=Ke(this.queryParams_,Ht);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(o.K)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=Ke(this.queryParams_,Ae);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.startAt",0,2,arguments.length),It("Query.startAt",1,e,this.path,!0),xt("Query.startAt",2,n,!0);var r=Me(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.startAfter=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.startAfter",0,2,arguments.length),It("Query.startAfter",1,e,this.path,!1),xt("Query.startAfter",2,n,!0);var r=Ue(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.endAt",0,2,arguments.length),It("Query.endAt",1,e,this.path,!0),xt("Query.endAt",2,n,!0);var r=Fe(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endBefore=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.endBefore",0,2,arguments.length),It("Query.endBefore",1,e,this.path,!1),xt("Query.endBefore",2,n,!0);var r=Ve(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(o.K)("Query.equalTo",1,2,arguments.length),It("Query.equalTo",1,t,this.path,!1),xt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(o.K)("Query.toString",0,0,arguments.length),this.repo.toString()+z(this.path)},t.prototype.toJSON=function(){return Object(o.K)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return function(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Ht&&(e.i=t.index_.toString()),e}(this.queryParams_)},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=k(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(o.K)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=X(this.path,e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&i&&s},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(o.L)(t,3,r.cancel,!0),r.context=n,Object(o.M)(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(o.o)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),ci=function(t){function e(e,n){if(!(e instanceof Tr))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,new Le,!1)||this}return Object(i.c)(e,t),e.prototype.getKey=function(){return Object(o.K)("Reference.key",0,0,arguments.length),Q(this.path)?null:B(this.path)},e.prototype.child=function(t){return Object(o.K)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof F||(null===K(this.path)?At("Reference.child",1,t,!1):Pt("Reference.child",1,t,!1)),new e(this.repo,W(this.path,t))},e.prototype.getParent=function(){Object(o.K)("Reference.parent",0,0,arguments.length);var t=J(this.path);return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(o.K)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return zr(this.repo)},e.prototype.set=function(t,e){Object(o.K)("Reference.set",1,2,arguments.length),kt("Reference.set",this.path),It("Reference.set",1,t,this.path,!1),Object(o.L)("Reference.set",2,e,!0);var n=new o.a;return Nr(this.repo,this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(o.K)("Reference.update",1,2,arguments.length),kt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,C("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Et("Reference.update",1,t,this.path,!1),Object(o.L)("Reference.update",2,e,!0);var i=new o.a;return Lr(this.repo,this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(o.K)("Reference.setWithPriority",2,3,arguments.length),kt("Reference.setWithPriority",this.path),It("Reference.setWithPriority",1,t,this.path,!1),Tt("Reference.setWithPriority",2,e,!1),Object(o.L)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return Nr(this.repo,this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(o.K)("Reference.remove",0,1,arguments.length),kt("Reference.remove",this.path),Object(o.L)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(o.K)("Reference.transaction",1,3,arguments.length),kt("Reference.transaction",this.path),Object(o.L)("Reference.transaction",1,t,!1),Object(o.L)("Reference.transaction",2,e,!0),Nt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.a;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new ri(n,i)),"function"==typeof e&&e(t,n,i)};return Gr(this.repo,this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Object(o.K)("Reference.setPriority",1,2,arguments.length),kt("Reference.setPriority",this.path),Tt("Reference.setPriority",1,t,!1),Object(o.L)("Reference.setPriority",2,e,!0);var n=new o.a;return Nr(this.repo,W(this.path,".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(o.K)("Reference.push",0,2,arguments.length),kt("Reference.push",this.path),It("Reference.push",1,t,this.path,!0),Object(o.L)("Reference.push",2,e,!0);var n,r=Sr(this.repo),i=Se(r),s=this.child(i),a=this.child(i);return n=null!=t?s.set(t,e).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),s},e.prototype.onDisconnect=function(){return kt("Reference.onDisconnect",this.path),new ni(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(ui);ui.__referenceConstructor=ci,function(t){Object(o.f)(!He,"__referenceConstructor has already been defined"),He=t}(ci);var li=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';C(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),hi=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),fi={},di=!1;function pi(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||I("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=gt(i,r),u=a.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(s=!0,u=(a=gt(i="http://"+c+"?ns="+u.namespace,r)).repoInfo):s=!a.repoInfo.secure;var l=r&&s?new hi:new li(t,e);return jt("Invalid Firebase Database URL",1,a),Q(a.path)||I("Database URL must point to the root of a Firebase Database (not including a child path)."),zr(function(t,e,n){var r=Object(o.G)(fi,e.name);r||(fi[e.name]=r={});var i=Object(o.G)(r,t.toURLString());return i&&I("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Tr(t,di,e,n),r[t.toURLString()]=i,i}(u,t,l))}var gi=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i.b)(e,void 0,void 0,(function(){return Object(i.d)(this,(function(t){var e,n;return this.checkDeleted_("delete"),e=this.repo_,(n=Object(o.G)(fi,e.app.name))&&Object(o.G)(n,e.key)===e||I("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),Kr(e),delete n[e.key],this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof Tr||I("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(function(t){if(t.stats_=Bn(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new vr(t.repoInfo_,(function(e,n,r,i){Pr(t,e,n,r,i)}),t.authTokenProvider_),setTimeout((function(){return Ar(t,!0)}),0);else{var e=t.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.J)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new gr(t.repoInfo_,t.app.options.appId,(function(e,n,r,i){Pr(t,e,n,r,i)}),(function(e){Ar(t,e)}),(function(e){!function(t,e){N(e,(function(e,n){kr(t,e,n)}))}(t,e)}),t.authTokenProvider_,e),t.server_=t.persistentConnection_}var n,r;t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.statsReporter_=(n=function(){return new Gn(t.stats_,t.server_)},r=t.repoInfo_.toString(),Hn[r]||(Hn[r]=n()),Hn[r]),t.infoData_=new Vn,t.infoSyncTree_=new pn({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e.path);return s.isEmpty()||(o=bn(t.infoSyncTree_,e.path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),kr(t,"connected",!1),t.serverSyncTree_=new pn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);Yn(t.eventQueue_,e.path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this.repoInternal_),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new ci(this.repo_,V())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?I("Cannot call useEmulator() after instance has already been initialized."):function(t,e,n){t.repoInfo_=new st(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new hi)}(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(o.K)("database.ref",0,1,arguments.length),t instanceof ci?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(o.K)(e,1,1,arguments.length);var n=gt(t,this.repo_.repoInfo_.nodeAdmin);jt(e,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||I(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&I("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(o.K)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),Kr(this.repo_)},t.prototype.goOnline=function(){Object(o.K)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),qr(this.repo_)},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),vi=Object.freeze({__proto__:null,forceLongPolling:function(){lr.forceDisallow(),or.forceAllow()},forceWebSockets:function(){or.forceDisallow()},isWebSocketsAvailable:function(){return lr.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new zn(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);N(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t.repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t.repo,e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t.repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,i=t.namespace,o=t.nodeAdmin,s=void 0!==o&&o;ur(t.version);var u=new a.c("auth-internal",new a.b("database-standalone"));return u.setComponent(new a.a("auth-internal",(function(){return r}),"PRIVATE")),{instance:pi(e,u,n,s),namespace:i}}}),bi=gr;gr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},gr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var mi=Object.freeze({__proto__:null,DataConnection:bi,RealTimeConnection:fr,hijackHash:function(t){var e=gr.prototype.put;return gr.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){gr.prototype.put=e}},ConnectionTarget:st,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){!function(t){di=t}(t)}}),yi=gi.ServerValue;!function(e){ur(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new a.a("database",(function(t,e){return pi(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),e,void 0)}),"PUBLIC").setServiceProps({Reference:ci,Query:ui,Database:gi,DataSnapshot:br,enableLogging:y,INTERNAL:vi,ServerValue:yi,TEST_ACCESS:mi}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.9.5"),Object(o.z)()&&(t.exports=n)}(r.a)}).call(this,n("3UD+")(t))},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.3.0","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return bo})),n.d(e,"b",(function(){return Ra})),n.d(e,"c",(function(){return Aa})),n.d(e,"d",(function(){return xa})),n.d(e,"e",(function(){return Pa})),n.d(e,"f",(function(){return Eu})),n.d(e,"g",(function(){return gu})),n.d(e,"h",(function(){return Xi})),n.d(e,"i",(function(){return Ga})),n.d(e,"j",(function(){return gs})),n.d(e,"k",(function(){return Ua})),n.d(e,"l",(function(){return vs})),n.d(e,"m",(function(){return xn})),n.d(e,"n",(function(){return fa})),n.d(e,"o",(function(){return tt})),n.d(e,"p",(function(){return m})),n.d(e,"q",(function(){return Z})),n.d(e,"r",(function(){return vo})),n.d(e,"s",(function(){return Rs})),n.d(e,"t",(function(){return Ds})),n.d(e,"u",(function(){return Ma})),n.d(e,"v",(function(){return gt})),n.d(e,"w",(function(){return bu})),n.d(e,"x",(function(){return pt})),n.d(e,"y",(function(){return lu})),n.d(e,"z",(function(){return Qa})),n.d(e,"A",(function(){return y})),n.d(e,"B",(function(){return La})),n.d(e,"C",(function(){return Na})),n.d(e,"D",(function(){return _s})),n.d(e,"E",(function(){return ms})),n.d(e,"F",(function(){return ys})),n.d(e,"G",(function(){return Os})),n.d(e,"H",(function(){return vr})),n.d(e,"I",(function(){return w})),n.d(e,"J",(function(){return _u})),n.d(e,"K",(function(){return Vs})),n.d(e,"L",(function(){return ru})),n.d(e,"M",(function(){return to})),n.d(e,"N",(function(){return Cs})),n.d(e,"O",(function(){return Is})),n.d(e,"P",(function(){return qs})),n.d(e,"Q",(function(){return It})),n.d(e,"R",(function(){return hu})),n.d(e,"S",(function(){return Gn})),n.d(e,"T",(function(){return U})),n.d(e,"U",(function(){return zn})),n.d(e,"V",(function(){return Iu})),n.d(e,"W",(function(){return su})),n.d(e,"X",(function(){return Da})),n.d(e,"Y",(function(){return eo})),n.d(e,"Z",(function(){return ia})),n.d(e,"ab",(function(){return pr})),n.d(e,"bb",(function(){return $n})),n.d(e,"cb",(function(){return Dn})),n.d(e,"db",(function(){return Un})),n.d(e,"eb",(function(){return qn})),n.d(e,"fb",(function(){return Vn})),n.d(e,"gb",(function(){return Fn})),n.d(e,"hb",(function(){return Kn})),n.d(e,"ib",(function(){return ta})),n.d(e,"jb",(function(){return Ou})),n.d(e,"kb",(function(){return ea})),n.d(e,"lb",(function(){return na})),n.d(e,"mb",(function(){return Mn})),n.d(e,"nb",(function(){return z})),n.d(e,"ob",(function(){return So})),n.d(e,"pb",(function(){return qo})),n.d(e,"qb",(function(){return Ko})),n.d(e,"rb",(function(){return Zs})),n.d(e,"sb",(function(){return ee})),n.d(e,"tb",(function(){return R})),n.d(e,"ub",(function(){return Rn})),n.d(e,"vb",(function(){return _o})),n.d(e,"wb",(function(){return Qt})),n.d(e,"xb",(function(){return fs})),n.d(e,"yb",(function(){return Rr})),n.d(e,"zb",(function(){return Ao})),n.d(e,"Ab",(function(){return Yo})),n.d(e,"Bb",(function(){return Ca})),n.d(e,"Cb",(function(){return St})),n.d(e,"Db",(function(){return Lt})),n.d(e,"Eb",(function(){return E})),n.d(e,"Fb",(function(){return T})),n.d(e,"Gb",(function(){return kt})),n.d(e,"Hb",(function(){return Rt})),n.d(e,"Ib",(function(){return No})),n.d(e,"Jb",(function(){return Fo})),n.d(e,"Kb",(function(){return Uo})),n.d(e,"Lb",(function(){return Mo})),n.d(e,"Mb",(function(){return Vo})),n.d(e,"Nb",(function(){return Cn})),n.d(e,"Ob",(function(){return is})),n.d(e,"Pb",(function(){return lt})),n.d(e,"Qb",(function(){return Lo})),n.d(e,"Rb",(function(){return Sa})),n.d(e,"Sb",(function(){return Ho})),n.d(e,"Tb",(function(){return Ea})),n.d(e,"Ub",(function(){return Go})),n.d(e,"Vb",(function(){return Ro})),n.d(e,"Wb",(function(){return ha})),n.d(e,"Xb",(function(){return Ia})),n.d(e,"Yb",(function(){return jo})),n.d(e,"Zb",(function(){return ye})),n.d(e,"ac",(function(){return br})),n.d(e,"bc",(function(){return jt})),n.d(e,"cc",(function(){return ko})),n.d(e,"dc",(function(){return es})),n.d(e,"ec",(function(){return ns}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){return{toString:t}.toString()}const v="__parameters__";function b(t,e,n){return g(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(v)?t[v]:Object.defineProperty(t,v,{value:[]})[v];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const m=b("Inject",t=>({token:t})),y=b("Optional"),_=b("Self"),w=b("SkipSelf");var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function I(t){for(let e in t)if(t[e]===I)return e;throw Error("Could not find renamed property on target object.")}function C(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function S(t){return x(t,t[A])||x(t,t[N])}function x(t,e){return e&&e.token===t?e:null}function P(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(L))?t[k]:null}const A=I({"\u0275prov":I}),k=I({"\u0275inj":I}),j=I({"\u0275provFallback":I}),N=I({ngInjectableDef:I}),L=I({ngInjectorDef:I});function R(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(R).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function D(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const M=I({__forward_ref__:I});function U(t){return t.__forward_ref__=U,t.toString=function(){return R(this())},t}function F(t){return V(t)?t():t}function V(t){return"function"==typeof t&&t.hasOwnProperty(M)&&t.__forward_ref__===U}const K="undefined"!=typeof globalThis&&globalThis,q="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,z=K||B||q||H,G=I({"\u0275cmp":I}),J=I({"\u0275dir":I}),W=I({"\u0275pipe":I}),Q=I({"\u0275mod":I}),Y=I({"\u0275loc":I}),$=I({"\u0275fac":I}),X=I({__NG_ELEMENT_ID__:I});class Z{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const tt=new Z("INJECTOR",-1),et={},nt=/\n/gm,rt="__source",it=I({provide:String,useValue:I});let ot,st=void 0;function at(t){const e=st;return st=t,e}function ut(t){const e=ot;return ot=t,e}function ct(t,e=O.Default){if(void 0===st)throw new Error("inject() must be called from an injection context");return null===st?ht(t,void 0,e):st.get(t,e&O.Optional?null:void 0,e)}function lt(t,e=O.Default){return(ot||ct)(F(t),e)}function ht(t,e,n){const r=S(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&O.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${R(t)}]`)}function ft(t){const e=[];for(let n=0;n<t.length;n++){const r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof y||"Optional"===i.ngMetadataName||i===y?n|=O.Optional:i instanceof w||"SkipSelf"===i.ngMetadataName||i===w?n|=O.SkipSelf:i instanceof _||"Self"===i.ngMetadataName||i===_?n|=O.Self:t=i instanceof m||i===m?i.token:i}e.push(lt(t,n))}else e.push(lt(r))}return e}class dt{get(t,e=et){if(e===et){const e=new Error(`NullInjectorError: No provider for ${R(t)}!`);throw e.name="NullInjectorError",e}return e}}class pt{}class gt{}function vt(t,e){t.forEach(t=>Array.isArray(t)?vt(t,e):e(t))}function bt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yt(t,e,n){let r=wt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function _t(t,e){const n=wt(t,e);if(n>=0)return t[1|n]}function wt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var Ot=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),It=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Ct={},Et=[];let Tt=0;function St(t){return g(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ot.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Et,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||It.Emulated,id:"c",styles:t.styles||Et,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Tt++,n.inputs=Nt(t.inputs,e),n.outputs=Nt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(xt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Pt):null,n})}function xt(t){return Dt(t)||function(t){return t[J]||null}(t)}function Pt(t){return function(t){return t[W]||null}(t)}const At={};function kt(t){const e={type:t.type,bootstrap:t.bootstrap||Et,declarations:t.declarations||Et,imports:t.imports||Et,exports:t.exports||Et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g(()=>{At[t.id]=t.type}),e}function jt(t,e){return g(()=>{const n=Ut(t,!0);n.declarations=e.declarations||Et,n.imports=e.imports||Et,n.exports=e.exports||Et})}function Nt(t,e){if(null==t)return Ct;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Lt=St;function Rt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dt(t){return t[G]||null}function Mt(t,e){return t.hasOwnProperty($)?t[$]:null}function Ut(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${R(t)} does not have '\u0275mod' property.`);return n}const Ft=20,Vt=10;function Kt(t){return Array.isArray(t)&&"object"==typeof t[1]}function qt(t){return Array.isArray(t)&&!0===t[1]}function Ht(t){return 0!=(8&t.flags)}function Bt(t){return 2==(2&t.flags)}function zt(t){return 1==(1&t.flags)}function Gt(t){return null!==t.template}function Jt(t){return 0!=(512&t[2])}class Wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Qt(){return Yt}function Yt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Xt),$t}function $t(){const t=Zt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Ct)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Xt(t,e,n,r){const i=Zt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Ct,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Wt(u&&u.currentValue,e,s===Ct),t[r]=e}function Zt(t){return t.__ngSimpleChanges__||null}Qt.ngInherit=!0;let te=void 0;function ee(t){te=t}function ne(t){return!!t.listen}const re={createRenderer:(t,e)=>void 0!==te?te:"undefined"!=typeof document?document:void 0};function ie(t){for(;Array.isArray(t);)t=t[0];return t}function oe(t,e){return ie(e[t+Ft])}function se(t,e){return ie(e[t.index])}function ae(t,e){return t.data[e+Ft]}function ue(t,e){const n=e[t];return Kt(n)?n:n[0]}function ce(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function le(t){return 4==(4&t[2])}function he(t){return 128==(128&t[2])}function fe(t,e){return null===t||null==e?null:t[e]}function de(t){t[18]=0}function pe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ge={lFrame:Ne(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ve(){return ge.bindingsEnabled}function be(){return ge.lFrame.lView}function me(){return ge.lFrame.tView}function ye(t){ge.lFrame.contextLView=t}function _e(){return ge.lFrame.currentTNode}function we(t,e){ge.lFrame.currentTNode=t,ge.lFrame.isParent=e}function Oe(){return ge.lFrame.isParent}function Ie(){return ge.checkNoChangesMode}function Ce(t){ge.checkNoChangesMode=t}function Ee(){return ge.lFrame.bindingIndex++}function Te(t,e){const n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,Se(e)}function Se(t){ge.lFrame.currentDirectiveIndex=t}function xe(){return ge.lFrame.currentQueryIndex}function Pe(t){ge.lFrame.currentQueryIndex=t}function Ae(t,e){const n=je();ge.lFrame=n,n.currentTNode=e,n.lView=t}function ke(t){const e=je(),n=t[1];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function je(){const t=ge.lFrame,e=null===t?null:t.child;return null===e?Ne(t):e}function Ne(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Le(){const t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Re=Le;function De(){const t=Le();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Me(){return ge.lFrame.selectedIndex}function Ue(t){ge.lFrame.selectedIndex=t}function Fe(){const t=ge.lFrame;return ae(t.tView,t.selectedIndex)}function Ve(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ke(t,e,n){Be(t,e,3,n)}function qe(t,e,n,r){(3&t[2])===n&&Be(t,e,n,r)}function He(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Be(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(ze(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function ze(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ge=-1;class Je{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function We(t,e,n){const r=ne(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ye(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Qe(t){return 3===t||4===t||6===t}function Ye(t){return 64===t.charCodeAt(0)}function $e(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Xe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Xe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ze(t){return t!==Ge}function tn(t){return 32767&t}function en(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}function nn(t){return"string"==typeof t?t:null==t?"":""+t}function rn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():nn(t)}const on=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function sn(t){return t instanceof Function?t():t}let an=!0;function un(t){const e=an;return an=t,e}let cn=0;function ln(t,e){const n=fn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,hn(r.data,t),hn(e,null),hn(r.blueprint,null));const i=dn(t,e),o=t.injectorIndex;if(Ze(i)){const t=tn(i),n=en(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function hn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function fn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function dn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ge;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ge}function pn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=cn++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function gn(t,e,n,r=O.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Ae(e,t);try{const t=i();if(null!=t||r&O.Optional)return t;throw new Error(`No provider for ${rn(n)}!`)}finally{Re()}}else if("number"==typeof i){if(-1===i)return new On(t,e);let o=null,s=fn(t,e),a=Ge,u=r&O.Host?e[16][6]:null;for((-1===s||r&O.SkipSelf)&&(a=-1===s?dn(t,e):e[s+8],a!==Ge&&wn(r,!1)?(o=e[1],s=tn(a),e=en(a,e)):s=-1);-1!==s;){const t=e[1];if(_n(i,s,t.data)){const t=bn(s,e,n,o,r,u);if(t!==vn)return t}a=e[s+8],a!==Ge&&wn(r,e[1].data[s+8]===u)&&_n(i,s,e)?(o=t,s=tn(a),e=en(a,e)):s=-1}}}if(r&O.Optional&&void 0===i&&(i=null),0==(r&(O.Self|O.Host))){const t=e[9],o=ut(void 0);try{return t?t.get(n,i,r&O.Optional):ht(n,i,r&O.Optional)}finally{ut(o)}}if(r&O.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${rn(n)}]`)}const vn={};function bn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=mn(a,s,n,null==r?Bt(a)&&an:r!=s&&2===a.type,i&O.Host&&o===a);return null!==u?yn(e,s,u,a):vn}function mn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Gt(t)&&t.type===n)return u}return null}function yn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Je){const s=i;if(s.resolving)throw new Error("Circular dep for "+rn(o[n]));const a=un(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?ut(s.injectImpl):null;Ae(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Yt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&ut(u),un(a),s.resolving=!1,Re()}}return i}function _n(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function wn(t,e){return!(t&O.Self||t&O.Host&&e)}class On{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return gn(this._tNode,this._lView,t,void 0,e)}}function In(t){const e=t;if(V(t))return()=>{const t=In(F(e));return t?t():null};let n=Mt(e);if(null===n){const t=P(e);n=t&&t.factory}return n||null}function Cn(t){return g(()=>{const e=t.prototype.constructor,n=e[$]||In(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[$]||In(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function En(t){return t.ngDebugContext}function Tn(t){return t.ngOriginalError}function Sn(t,...e){t.error(...e)}class xn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Sn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?En(t)?En(t):this._findContext(Tn(t)):null}_findOriginalError(t){let e=Tn(t);for(;e&&Tn(e);)e=Tn(e);return e}}class Pn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class An extends Pn{getTypeName(){return"HTML"}}class kn extends Pn{getTypeName(){return"Style"}}class jn extends Pn{getTypeName(){return"Script"}}class Nn extends Pn{getTypeName(){return"URL"}}class Ln extends Pn{getTypeName(){return"ResourceURL"}}function Rn(t){return t instanceof Pn?t.changingThisBreaksApplicationSecurity:t}function Dn(t,e){const n=Mn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Mn(t){return t instanceof Pn&&t.getTypeName()||null}function Un(t){return new An(t)}function Fn(t){return new kn(t)}function Vn(t){return new jn(t)}function Kn(t){return new Nn(t)}function qn(t){return new Ln(t)}let Hn=!0,Bn=!1;function zn(){return Bn=!0,Hn}function Gn(){if(Bn)throw new Error("Cannot enable prod mode after platform setup.");Hn=!1}class Jn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Wn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $n(t){return(t=String(t)).match(Qn)||t.match(Yn)?t:(zn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Xn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const tr=Xn("area,br,col,hr,img,wbr"),er=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nr=Xn("rp,rt"),rr=Zn(nr,er),ir=Zn(tr,Zn(er,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zn(nr,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rr),or=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sr=Xn("srcset"),ar=Zn(or,sr,Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ur=Xn("script,style,template");class cr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ir.hasOwnProperty(e))return this.sanitizedSomething=!0,!ur.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!ar.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;or[o]&&(s=$n(s)),sr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>$n(t.trim())).join(", ")),this.buf.push(" ",e,'="',fr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ir.hasOwnProperty(e)&&!tr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(fr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const lr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hr=/([^\#-~ |!])/g;function fr(t){return t.replace(/&/g,"&amp;").replace(lr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(hr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dr;function pr(t,e){let n=null;try{dr=dr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Jn:new Wn(t)}(t);let r=e?String(e):"";n=dr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=dr.getInertBodyElement(r)}while(r!==o);const s=new cr,a=s.sanitizeChildren(gr(n)||n);return zn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=gr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function gr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function br(t){const e=function(){const t=be();return t&&t[12]}();return e?e.sanitize(vr.URL,t)||"":Dn(t,"URL")?Rn(t):$n(nn(t))}function mr(t,e){t.__ngContext__=e}function yr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const _r="ng-template";function wr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==yr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Or(t){return 0===t.type&&t.tagName!==_r}function Ir(t,e,n){return e===(0!==t.type||n?t.tagName:_r)}function Cr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Qe(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Ir(t,u,n)||""===u&&1===e.length){if(Er(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!wr(t.attrs,c,n)){if(Er(r))return!1;s=!0}continue}const l=Tr(8&r?"class":u,i,Or(t),n);if(-1===l){if(Er(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==yr(e,c,0)||2&r&&c!==t){if(Er(r))return!1;s=!0}}}}else{if(!s&&!Er(r)&&!Er(u))return!1;if(s&&Er(u))continue;s=!1,r=u|1&r}}return Er(r)||s}function Er(t){return 0==(1&t)}function Tr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Sr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Cr(t,e[r],n))return!0;return!1}function xr(t,e){return t?":not("+e.trim()+")":e}function Pr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Er(s)||(e+=xr(o,i),i=""),r=s,o=o||!Er(r);n++}return""!==i&&(e+=xr(o,i)),e}const Ar={};function kr(t){const e=t[3];return qt(e)?e[3]:e}function jr(t){return Lr(t[13])}function Nr(t){return Lr(t[4])}function Lr(t){for(;null!==t&&!qt(t);)t=t[4];return t}function Rr(t){Dr(me(),be(),Me()+t,Ie())}function Dr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ke(e,r,n)}else{const r=t.preOrderHooks;null!==r&&qe(e,r,0,n)}Ue(n)}function Mr(t,e){return t<<17|e<<2}function Ur(t){return t>>17&32767}function Fr(t){return 2|t}function Vr(t){return(131068&t)>>2}function Kr(t,e){return-131069&t|e<<2}function qr(t){return 1|t}function Hr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Pe(i),n.contentQueries(2,e[o],o)}}}function Br(t,e,n){return ne(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function zr(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,de(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Gr(t,e,n,r,i){const o=e+Ft,s=t.data[o]||function(t,e,n,r,i){const o=_e(),s=Oe(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return we(s,!0),s}function Jr(t,e,n){ke(e);try{const r=t.viewQuery;null!==r&&Ii(1,r,n);const i=t.template;null!==i&&Yr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Hr(t,e),t.staticViewQueries&&Ii(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)mi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,De()}}function Wr(t,e,n,r){const i=e[2];if(256==(256&i))return;ke(e);const o=Ie();try{de(e),ge.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Yr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Ke(e,n,null)}else{const n=t.preOrderHooks;null!==n&&qe(e,n,0,null),He(e,0)}if(function(t){for(let e=jr(t);null!==e;e=Nr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&pe(r,1),n[2]|=1024}}}(e),function(t){for(let e=jr(t);null!==e;e=Nr(e))for(let t=Vt;t<e.length;t++){const n=e[t],r=n[1];he(n)&&Wr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Hr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Ke(e,n)}else{const n=t.contentHooks;null!==n&&qe(e,n,1),He(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Ue(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(Te(r,i),s(2,e[i])),i++)}}}finally{Ue(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)bi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ii(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Ke(e,n)}else{const n=t.viewHooks;null!==n&&qe(e,n,2),He(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,pe(e[3],-1))}finally{De()}}function Qr(t,e,n,r){const i=e[10],o=!Ie(),s=le(e);try{o&&!s&&i.begin&&i.begin(),s&&Jr(t,e,r),Wr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Yr(t,e,n,r,i){const o=Me();try{Ue(-1),2&r&&e.length>Ft&&Dr(t,e,0,Ie()),n(r,i)}finally{Ue(o)}}function $r(t,e,n){ve()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||ln(n,e),mr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Gt(r);o&&di(e,n,r);const u=yn(e,t,a,n);mr(u,e),null!==s&&pi(0,a-i,u,r,0,s),o&&(ue(n.index,e)[8]=u)}}(t,e,n,se(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-Ft,u=ge.lFrame.currentDirectiveIndex;try{Ue(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Se(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ai(r,i):s&&o.push(null)}}finally{Ue(-1),Se(u)}}(t,e,n))}function Xr(t,e,n=se){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Zr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ti(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ti(t,e,n,r,i,o,s,a,u,c){const l=Ft+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ar);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ei(t,e,n,r){const i=Ei(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ri(t,e,n,r,i,o,s,a){const u=se(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Si(t,n,c,r,i),Bt(e)&&function(t,e){const n=ue(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.tagName||"",r):i,ne(o)?o.setProperty(u,r,i):Ye(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ii(t,e,n,r){let i=!1;if(ve()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Sr(n,s.selectors,!1)&&(i||(i=[]),pn(ln(n,e),t,s.type),Gt(s)?(ci(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,hi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}ui(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=$e(n.mergedAttrs,c.hostAttrs),fi(t,e,c),li(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Ft),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Ft),u=!0),oi(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Or(e)?null:gi(n,i);o.push(c),s=ni(n,u,s),a=ni(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),si(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=$e(n.mergedAttrs,n.attrs),i}function oi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function si(t,e,n){for(let r=0;r<n;r++)e.push(Ar),t.blueprint.push(Ar),t.data.push(null)}function ai(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ui(t,e,n){const r=Ft-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ci(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function li(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Gt(e)&&(n[""]=t)}}function hi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function fi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Mt(n.type)),i=new Je(r,Gt(n),null);t.blueprint.push(i),e.push(i)}function di(t,e,n){const r=se(e,t),i=Zr(n),o=t[10],s=yi(t,zr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function pi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function gi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function vi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function bi(t,e){const n=ue(e,t);if(he(n)){const t=n[1];80&n[2]?Wr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=jr(e);null!==r;r=Nr(r))for(let e=Vt;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Wr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ue(n[r],e);he(i)&&i[5]>0&&t(i)}}(n)}}function mi(t,e){const n=ue(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Jr(r,n,n[8])}function yi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function _i(t){for(;t;){t[2]|=64;const e=kr(t);if(Jt(t)&&!e)return t;t=e}return null}function wi(t,e,n){const r=e[10];r.begin&&r.begin();try{Wr(t,e,t.template,n)}catch(i){throw Ti(e,i),i}finally{r.end&&r.end()}}function Oi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ce(n),i=r[1];Qr(i,r,i.template,n)}}(t[8])}function Ii(t,e,n){Pe(0),e(t,n)}const Ci=(()=>Promise.resolve(null))();function Ei(t){return t[7]||(t[7]=[])}function Ti(t,e){const n=t[9],r=n?n.get(xn,null):null;r&&r.handleError(e)}function Si(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function xi(t,e,n,r,i){if(null!=r){let o,s=!1;qt(r)?o=r:Kt(r)&&(s=!0,r=r[0]);const a=ie(r);0===t&&null!==n?null==i?Li(e,n,a):Ni(e,n,a,i||null):1===t&&null!==n?Ni(e,n,a,i||null):2===t?function(t,e,n){const r=Di(t,e);r&&function(t,e,n,r){ne(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ie(n)&&xi(e,t,r,o,i);for(let s=Vt;s<n.length;s++){const i=n[s];Fi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Pi(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,pe(i,-1)),n.splice(r,1)}function Ai(t,e){if(t.length<=Vt)return;const n=Vt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Pi(o,r),e>0&&(t[n-1][4]=r[4]);const s=mt(t,Vt+e);Fi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function ki(t,e){if(!(256&e[2])){const n=e[11];ne(n)&&n.destroyNode&&Fi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return ji(t[1],t);for(;e;){let n=null;if(Kt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Kt(e)&&ji(e[1],e),e=e[3];null===e&&(e=t),Kt(e)&&ji(e[1],e),n=e&&e[4]}e=n}}(e)}}function ji(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Je)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):ie(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&ne(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&qt(e[3])){n!==e[3]&&Pi(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ni(t,e,n,r){ne(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Li(t,e,n){ne(t)?t.appendChild(e,n):e.appendChild(n)}function Ri(t,e,n,r){null!==r?Ni(t,e,n,r):Li(t,e,n)}function Di(t,e){return ne(t)?t.parentNode(e):e.parentNode}function Mi(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return se(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==It.ShadowDom&&n!==It.Native)return null}return se(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){return 3===t.type||4===t.type?se(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Ri(t,i,n[e],o);else Ri(t,i,n,o)}}function Ui(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&mr(ie(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(Ui(t,e,n.child,r,i,o,!1),xi(e,t,i,a,o)):1===u?Vi(t,e,r,n,i,o):xi(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Fi(t,e,n,r,i,o){Ui(n,r,t.firstChild,e,i,o,!1)}function Vi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)xi(e,t,i,a[u],o);else Ui(t,e,a,s[3],i,o,!0)}function Ki(t,e,n){ne(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function qi(t,e,n){ne(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Hi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(ie(s)),qt(s))for(let e=Vt;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=kr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}ki(this._lView[1],this._lView)}onDestroy(t){ei(this._lView[1],this._lView,null,t)}markForCheck(){_i(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){wi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ce(!0);try{wi(t,e,n)}finally{Ce(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Fi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Bi extends Hi{constructor(t){super(t),this._view=t}detectChanges(){Oi(this._view)}checkNoChanges(){!function(t){Ce(!0);try{Oi(t)}finally{Ce(!1)}}(this._view)}get context(){return null}}let zi,Gi,Ji;function Wi(t,e,n){return zi||(zi=class extends t{}),new zi(se(e,n))}function Qi(t,e,n,r){return Gi||(Gi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=zr(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Jr(e,n,t),new Hi(n)}}),0===n.type?new Gi(r,n,Wi(e,n,r)):null}function Yi(t,e,n,r){let i;Ji||(Ji=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Wi(e,this._hostTNode,this._hostView)}get injector(){return new On(this._hostTNode,this._hostView)}get parentInjector(){const t=dn(this._hostTNode,this._hostView);if(Ze(t)){const e=en(t,this._hostView),n=tn(t);return new On(e[1].data[n+8],e)}return new On(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Vt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(pt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),qt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ji(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Vt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Vt?(e[4]=n[i],bt(n,Vt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=Vt+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return se(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return qt(e)?t(-1,e):ie(e)}}{const t=n[16],i=t[6],o=kr(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),a=n[11],u=Di(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Fi(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),bt(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ai(this._lContainer,e);n&&(mt(this._lContainer[8],e),ki(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ai(this._lContainer,e);return n&&null!=mt(this._lContainer[8],e)?new Hi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(qt(o))i=o;else{let t;if(3===n.type)t=ie(o);else if(t=r[11].createComment(""),Jt(r)){const e=r[11],i=se(n,r);Ni(e,Di(e,i),t,function(t,e){return ne(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Mi(r[1],r,t,n);r[n.index]=i=vi(o,r,t,n),yi(r,i)}return new Ji(i,n,r)}function $i(t=!1){return function(t,e,n){if(!n&&Bt(t)){const n=ue(t.index,e);return new Hi(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new Hi(e[16],e):null}(_e(),be(),t)}let Xi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Zi(),t})();const Zi=$i,to=Function,eo=new Z("Set Injector scope."),no={},ro={},io=[];let oo=void 0;function so(){return void 0===oo&&(oo=new dt),oo}function ao(t,e=null,n=null,r){return new uo(t,n,e||so(),r)}class uo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&vt(e,n=>this.processProvider(n,t,e)),vt([t],t=>this.processInjectorType(t,[],i)),this.records.set(tt,ho(void 0,this));const o=this.records.get(eo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:R(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=et,n=O.Default){this.assertNotDestroyed();const r=at(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Z)&&S(t);e=n&&this.injectableDefInScope(n)?ho(co(t),no):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?so():this.parent).get(t,e=n&O.Optional&&e===et?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(R(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[rt]&&i.unshift(e[rt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=R(e);if(Array.isArray(e))i=e.map(R).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):R(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{at(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(R(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=F(t)))return!1;let r=P(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=P(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{vt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];vt(r,t=>this.processProvider(t,n,r||io))}}this.injectorDefTypes.add(o),this.records.set(o,ho(r.factory,no));const a=r.providers;if(null!=a&&!s){const e=t;vt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=po(t=F(t))?t:F(t&&t.provide);const i=function(t,e,n){return fo(t)?ho(void 0,t.useValue):ho(lo(t),no)}(t);if(po(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ho(void 0,no,!0),e.factory=()=>ft(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===no&&(e.value=ro,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function co(t){const e=S(t),n=null!==e?e.factory:Mt(t);if(null!==n)return n;const r=P(t);if(null!==r)return r.factory;if(t instanceof Z)throw new Error(`Token ${R(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${R(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[A]||t[N]||t[j]&&t[j]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function lo(t,e,n){let r=void 0;if(po(t)){const e=F(t);return Mt(e)||co(e)}if(fo(t))r=()=>F(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ft(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>lt(F(t.useExisting));else{const e=F(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Mt(e)||co(e);r=()=>new e(...ft(t.deps))}var i;return r}function ho(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fo(t){return null!==t&&"object"==typeof t&&it in t}function po(t){return"function"==typeof t}const go=function(t,e,n){return function(t,e=null,n=null,r){const i=ao(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let vo=(()=>{class t{static create(t,e){return Array.isArray(t)?go(t,e,""):go(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=et,t.NULL=new dt,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>lt(tt)}),t.__NG_ELEMENT_ID__=-1,t})();const bo=new Z("AnalyzeForEntryComponents");function mo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=D(i,t):2==o&&(r=D(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function yo(t,e){const n=ce(t)[1],r=n.data.length-1;Ve(n,{directiveStart:r,directiveEnd:r+1})}function _o(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=wo(t.inputs),e.declaredInputs=wo(t.declaredInputs),e.outputs=wo(t.outputs);const n=i.hostBindings;n&&Co(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Oo(t,o),s&&Io(t,s),C(t.inputs,i.inputs),C(t.declaredInputs,i.declaredInputs),C(t.outputs,i.outputs),Gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===_o&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$e(i.hostAttrs,n=$e(n,i.hostAttrs))}}(r)}function wo(t){return t===Ct?{}:t===Et?[]:t}function Oo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Io(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Co(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Eo=null;function To(){if(!Eo){const t=z.Symbol;if(t&&t.iterator)Eo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Eo=n)}}}return Eo}function So(t){return!!xo(t)&&(Array.isArray(t)||!(t instanceof Map)&&To()in t)}function xo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Po(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ao(t,e,n,r){const i=be();return Po(i,Ee(),e)&&(me(),function(t,e,n,r,i,o){const s=se(t,e),a=e[11];if(null==r)ne(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?nn(r):i(r,t.tagName||"",n);ne(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(Fe(),i,t,e,n,r)),Ao}function ko(t,e,n,r,i,o,s,a){const u=be(),c=me(),l=t+Ft,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Gr(e,t,0,s||null,fe(c,a));ii(e,n,l,fe(c,u)),Ve(e,l);const h=l.tViews=ti(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];we(h,!1);const f=u[11].createComment("");Mi(c,u,f,h),mr(f,u),yi(u,u[l]=vi(f,u,f,h)),zt(h)&&$r(c,u,h),null!=s&&Xr(u,h,a)}function jo(t){return function(t,e){return t[e+Ft]}(ge.lFrame.contextLView,t)}function No(t,e=O.Default){const n=be();return null===n?lt(t,e):gn(_e(),n,F(t),e)}function Lo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Qe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(_e(),t)}function Ro(t,e,n){const r=be();return Po(r,Ee(),e)&&ri(me(),Fe(),r,t,e,r[11],n,!1),Ro}function Do(t,e,n,r,i){const o=i?"class":"style";Si(t,n,e.inputs[o],o,r)}function Mo(t,e,n,r){const i=be(),o=me(),s=Ft+t,a=i[11],u=i[s]=Br(e,a,ge.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Gr(e,t,2,i,fe(a,o));return ii(e,n,u,fe(a,s)),null!==u.attrs&&mo(u,u.attrs,!1),null!==u.mergedAttrs&&mo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];we(c,!0);const l=c.mergedAttrs;null!==l&&We(a,u,l);const h=c.classes;null!==h&&qi(a,u,h);const f=c.styles;null!==f&&Ki(a,u,f),Mi(o,i,u,c),0===ge.lFrame.elementDepthCount&&mr(u,i),ge.lFrame.elementDepthCount++,zt(c)&&($r(o,i,c),function(t,e,n){if(Ht(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Xr(i,c)}function Uo(){let t=_e();Oe()?ge.lFrame.isParent=!1:(t=t.parent,we(t,!1));const e=t;ge.lFrame.elementDepthCount--;const n=me();n.firstCreatePass&&(Ve(n,t),Ht(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Do(n,e,be(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Do(n,e,be(),e.stylesWithoutHost,!1)}function Fo(t,e,n,r){Mo(t,e,n,r),Uo()}function Vo(){return be()}function Ko(t){return!!t&&"function"==typeof t.then}function qo(t){return!!t&&"function"==typeof t.subscribe}function Ho(t,e,n=!1,r){const i=be(),o=me(),s=_e();return function(t,e,n,r,i,o,s=!1,a){const u=zt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ei(e);let h=!0;if(2===r.type){const f=se(r,e),d=a?a(f):Ct,p=d.target||f,g=l.length,v=a?t=>a(ie(t[r.index])).target:r.index;if(ne(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=zo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,g,g+1)}}else o=zo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Ho}function Bo(t,e,n){try{return!1!==e(n)}catch(r){return Ti(t,r),!1}}function zo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?ue(t.index,e):e;0==(32&e[2])&&_i(s);let a=Bo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Bo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Go(t=1){return function(t){return(ge.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ge.lFrame.contextLView))[8]}(t)}const Jo=[];function Wo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ur(o):Vr(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Qo(t[a],e)&&(u=!0,t[a+1]=r?qr(n):Fr(n)),a=r?Ur(n):Vr(n)}u&&(t[n+1]=r?Fr(o):qr(o))}function Qo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wt(t,e)>=0}function Yo(t,e){return function(t,e,n,r){const i=be(),o=me(),s=function(t){const e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Me()+Ft],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=ge.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Xo(n=$o(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=$o(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==Vr(r))return t[Ur(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=$o(null,t,e,n[1],r),n=Xo(n,e.attrs,r),function(t,e,n,r){t[Ur(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Xo(r,t[o].hostAttrs,true);return Xo(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=Ur(s),u=Vr(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||wt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Ur(t[a+1]);t[r+1]=Mr(e,a),0!==e&&(t[e+1]=Kr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Mr(a,0),0!==a&&(t[a+1]=Kr(t[a+1],r)),a=r;else t[r+1]=Mr(u,0),0===a?a=r:t[u+1]=Kr(t[u+1],r),u=r;l&&(t[r+1]=Fr(t[r+1])),Wo(t,c,r,!0),Wo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&wt(o,e)>=0&&(n[r+1]=qr(n[r+1]))}(e,c,t,r),s=Mr(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==Ar&&Po(i,s,e)&&function(t,e,n,r,i,o,s,a){if(2!==e.type)return;const u=t.data,c=u[a+1];ts(1==(1&c)?Zo(u,e,n,i,Vr(c),s):void 0)||(ts(o)||function(t){return 2==(2&t)}(c)&&(o=Zo(u,null,n,i,a,s)),function(t,e,n,r,i){const o=ne(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,oe(Me(),n),i,o))}(o,o.data[Me()+Ft],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=R(Rn(t))),t}(e),true,s)}(t,e),Yo}function $o(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Xo(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Xo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yt(t,s,!!n||e[++o]))}return void 0===t?null:t}function Zo(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Ar&&(l=c?Jo:void 0);let h=c?_t(l,r):u===r?l:void 0;if(o&&!ts(h)&&(h=_t(e,r)),ts(h)&&(a=h,s))return a;const f=t[i+1];i=s?Ur(f):Vr(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=_t(t,r))}return a}function ts(t){return void 0!==t}function es(t,e=""){const n=be(),r=me(),i=t+Ft,o=r.firstCreatePass?Gr(r,t,2,null,null):r.data[i],s=n[i]=function(t,e){return ne(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Mi(r,n,s,o),we(o,!1)}function ns(t){return rs("",t,""),ns}function rs(t,e,n){const r=be(),i=function(t,e,n,r){return Po(t,Ee(),n)?e+nn(n)+r:Ar}(r,t,e,n);return i!==Ar&&function(t,e,n){const r=oe(e,t),i=t[11];ne(i)?i.setValue(r,n):r.textContent=n}(r,Me(),i),rs}function is(t,e,n){const r=be();return Po(r,Ee(),e)&&ri(me(),Fe(),r,t,e,r[11],n,!0),is}function os(t,e,n,r,i){if(t=F(t),Array.isArray(t))for(let o=0;o<t.length;o++)os(t[o],e,n,r,i);else{const o=me(),s=be();let a=po(t)?t:F(t.provide),u=lo(t);const c=_e(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(po(t)||!t.multi){const r=new Je(u,i,No),d=us(a,e,i?l:l+f,h);-1===d?(pn(ln(c,s),o,a),ss(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=us(a,e,l+f,h),p=us(a,e,l,l+f),g=d>=0&&n[d],v=p>=0&&n[p];if(i&&!v||!i&&!g){pn(ln(c,s),o,a);const l=function(t,e,n,r,i){const o=new Je(t,n,No);return o.multi=[],o.index=e,o.componentProviders=0,as(o,i,r&&!n),o}(i?ls:cs,n.length,i,r,u);!i&&v&&(n[p].providerFactory=l),ss(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ss(o,t,d>-1?d:p,as(n[i?p:d],u,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function ss(t,e,n,r){const i=po(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function as(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function us(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function cs(t,e,n,r){return hs(this.multi,[])}function ls(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=yn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),hs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],hs(i,o);return o}function hs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function fs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=me();if(r.firstCreatePass){const i=Gt(t);os(n,r.data,r.blueprint,i,!0),os(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ds{}class ps{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${R(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let gs=(()=>{class t{}return t.NULL=new ps,t})(),vs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>bs(t),t})();const bs=function(t){return Wi(t,_e(),be())};class ms{}var ys=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let _s=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ws(),t})();const ws=function(){const t=be(),e=ue(_e().index,t);return function(t){const e=t[11];if(ne(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Kt(e)?e:t)};let Os=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class Is{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Cs=new Is("10.1.6");class Es{constructor(){}supports(t){return So(t)}create(t){return new Ss(t)}}const Ts=(t,e)=>e;class Ss{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ts}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ks(n,r,i)?e:n,s=ks(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!So(t))throw new Error(`Error trying to diff '${R(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[To()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new xs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new As),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new As),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class xs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ps{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class As{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ps,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ks(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class js{constructor(){}supports(t){return t instanceof Map||xo(t)}create(){return new Ns}}class Ns{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||xo(t)))throw new Error(`Error trying to diff '${R(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ls(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ls{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Rs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Es])}),t})(),Ds=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new js])}),t})();const Ms=[new js],Us=new Rs([new Es]),Fs=new Ds(Ms);let Vs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ks(t,vs),t})();const Ks=function(t,e){return Qi(t,e,_e(),be())};let qs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Hs(t,vs),t})();const Hs=function(t,e){return Yi(t,e,_e(),be())},Bs={};class zs extends gs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Dt(t);return new Ws(e,this.ngModule)}}function Gs(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Js=new Z("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>on});class Ws extends ds{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Pr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Gs(this.componentDef.inputs)}get outputs(){return Gs(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Bs,i);return o!==Bs||r===Bs?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(ms,re),s=i.get(Os,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(ne(t))return t.selectRootElement(e,n===It.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Br(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:on,clean:Ci,playerHandler:null,flags:0},f=ti(0,null,null,1,0,null,null,null,null,null),d=zr(null,f,h,l,null,null,o,a,s,i);let p,g;ke(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Gr(s,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(mo(a,u,!0),null!==t&&(We(i,t,u),null!==a.classes&&qi(i,t,a.classes),null!==a.styles&&Ki(i,t,a.styles)));const c=r.createRenderer(t,e),l=zr(n,Zr(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(pn(ln(a,n),s,e.type),ci(s,a),hi(a,n.length,1)),yi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)We(a,c,["ng-version",Cs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Er(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&We(a,c,t),e&&e.length>0&&qi(a,c,e.join(" "))}if(g=ae(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=_e();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ui(t,r,1),fi(t,e,n));const i=yn(e,t,e.length-1,r);mr(i,e);const o=se(r,e);return o&&mr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=_e();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ue(a.index-Ft);const t=n[1];oi(t,e),si(t,n,e.hostVars),ai(e,s)}return s}(t,this.componentDef,d,h,[yo]),Jr(f,d,null)}finally{De()}return new Qs(this.componentType,p,Wi(vs,g,d),d,g)}}class Qs extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Bi(r),this.componentType=t}get injector(){return new On(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Ys=void 0;var $s=["en",[["a","p"],["AM","PM"],Ys],[["AM","PM"],Ys,Ys],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ys,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ys,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ys,"{1} 'at' {0}",Ys],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Xs={};function Zs(t,e,n){"string"!=typeof e&&(n=e,e=t[ia.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Xs[e]=t,n&&(Xs[e][ia.ExtraData]=n)}function ta(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ra(e);if(n)return n;const r=e.split("-")[0];if(n=ra(r),n)return n;if("en"===r)return $s;throw new Error(`Missing locale data for the locale "${t}".`)}function ea(t){return ta(t)[ia.CurrencyCode]||null}function na(t){return ta(t)[ia.PluralCase]}function ra(t){return t in Xs||(Xs[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),Xs[t]}var ia=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const oa="en-US";let sa=oa;function aa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(sa=t.toLowerCase().replace(/_/g,"-"))}const ua=new Map;class ca extends pt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new zs(this);const n=Ut(t),r=t[Y]||null;r&&aa(r),this._bootstrapComponents=sn(n.bootstrap),this._r3Injector=ao(t,e,[{provide:pt,useValue:this},{provide:gs,useValue:this.componentFactoryResolver}],R(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=vo.THROW_IF_NOT_FOUND,n=O.Default){return t===vo||t===pt||t===tt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class la extends gt{constructor(t){super(),this.moduleType=t,null!==Ut(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${R(e)} vs ${R(e.name)}`)})(t,ua.get(t),e),ua.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new ca(this.moduleType,t)}}function ha(t,e,n){const r=function(){const t=ge.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=be();return i[r]===Ar?function(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}const fa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function da(){return this._results[To()]()}class pa{constructor(){this.dirty=!0,this._results=[],this.changes=new fa,this.length=0;const t=To(),e=pa.prototype;e[t]||(e[t]=da)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ga{constructor(t){this.queryList=t,this.matches=null}clone(){return new ga(this.queryList)}setDirty(){this.queryList.setDirty()}}class va{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new va(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ta(t,e).matches&&this.queries[e].setDirty()}}class ba{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class ma{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new ma(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ya{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ya(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,_a(e,i)),this.matchTNodeWithReadOption(t,e,mn(e,t,i,!1,!1))}else n===Vs?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,mn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===vs||r===qs||r===Vs&&0===e.type)this.addMatch(e.index,-2);else{const n=mn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function _a(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function wa(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?Wi(vs,t,e):0===t.type?Qi(Vs,vs,t,e):null}(e,t):-2===n?function(t,e,n){return n===vs?Wi(vs,e,t):n===Vs?Qi(Vs,vs,e,t):n===qs?Yi(qs,vs,e,t):void 0}(t,e,r):yn(t,t[1],n,e)}function Oa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:wa(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ia(t){const e=be(),n=me(),r=xe();Pe(r+1);const i=Ta(n,r);if(t.dirty&&le(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Oa(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=Vt;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Oa(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ca(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new ma),t.queries.track(new ya(e,n))}(t,new ba(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new pa;ei(t,e,n,n.destroy),null===e[19]&&(e[19]=new va),e[19].queries.push(new ga(n))}(t,e)}(me(),be(),e,n,r,0,_e(),t)}function Ea(){return t=be(),e=xe(),t[19].queries[e].queryList;var t,e}function Ta(t,e){return t.queries.getByIndex(e)}function Sa(t=O.Default){const e=$i(!0);if(null!=e||t&O.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const xa=new Z("Application Initializer");let Pa=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ko(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(lt(xa,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Aa=new Z("AppId"),ka={provide:Aa,useFactory:function(){return`${ja()}${ja()}${ja()}`},deps:[]};function ja(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Na=new Z("Platform Initializer"),La=new Z("Platform ID"),Ra=new Z("appBootstrapListener");let Da=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Ma=new Z("LocaleId"),Ua=new Z("DefaultCurrencyCode");class Fa{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Va=function(t){return new la(t)},Ka=Va,qa=function(t){return Promise.resolve(Va(t))},Ha=function(t){const e=Va(t),n=sn(Ut(t).declarations).reduce((t,e)=>{const n=Dt(e);return n&&t.push(new Ws(n)),t},[]);return new Fa(e,n)},Ba=Ha,za=function(t){return Promise.resolve(Ha(t))};let Ga=(()=>{class t{constructor(){this.compileModuleSync=Ka,this.compileModuleAsync=qa,this.compileModuleAndAllComponentsSync=Ba,this.compileModuleAndAllComponentsAsync=za}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Ja=(()=>Promise.resolve(0))();function Wa(t){"undefined"==typeof Zone?Ja.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Qa{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fa(!1),this.onMicrotaskEmpty=new fa(!1),this.onStable=new fa(!1),this.onError=new fa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Za(t),Xa(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Za(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return tu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),eu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return tu(t),e.invoke(r,i,o,s,a)}finally{eu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Za(t),Xa(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,$a,Ya,Ya);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Ya(){}const $a={};function Xa(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Za(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function tu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eu(t){t._nesting--,Xa(t)}class nu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fa,this.onMicrotaskEmpty=new fa,this.onStable=new fa,this.onError=new fa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ru=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qa.assertNotInAngularZone(),Wa(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wa(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(lt(Qa))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),iu=(()=>{class t{constructor(){this._applications=new Map,uu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return uu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class ou{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function su(t){uu=t}let au,uu=new ou;const cu=new Z("AllowMultipleToken");class lu{constructor(t,e){this.name=t,this.token=e}}function hu(t,e,n=[]){const r="Platform: "+e,i=new Z(r);return(e=[])=>{let o=fu();if(!o||o.injector.get(cu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:eo,useValue:"platform"});!function(t){if(au&&!au.destroyed&&!au.injector.get(cu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");au=t.get(du);const e=t.get(Na,null);e&&e.forEach(t=>t())}(vo.create({providers:t,name:r}))}return function(t){const e=fu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function fu(){return au&&!au.destroyed?au:null}let du=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new nu:("zone.js"===t?void 0:t)||new Qa({enableLongStackTrace:zn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Qa,useValue:n}];return n.run(()=>{const e=vo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(xn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>vu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Ko(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Pa);return t.runInitializers(),t.donePromise.then(()=>(aa(i.injector.get(Ma,oa)||oa),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=pu({},e);return function(t,e,n){const r=new la(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(gu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${R(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(lt(vo))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function pu(t,e){return Array.isArray(e)?e.reduce(pu,t):Object.assign(Object.assign({},t),e)}let gu=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=zn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Qa.assertNotInAngularZone(),Wa(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Qa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ds?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(pt),i=n.create(vo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(ru,null);return o&&i.injector.get(iu).registerApplication(i.location.nativeElement,o),this._loadComponent(i),zn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;vu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ra,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),vu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(lt(Qa),lt(Da),lt(vo),lt(xn),lt(gs),lt(Pa))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function vu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class bu{}class mu{}const yu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let _u=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||yu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>wu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>wu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(lt(Ga),lt(mu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function wu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ou=function(t){return null},Iu=hu(null,"core",[{provide:La,useValue:"unknown"},{provide:du,deps:[vo]},{provide:iu,deps:[]},{provide:Da,deps:[]}]),Cu=[{provide:gu,useClass:gu,deps:[Qa,Da,vo,xn,gs,Pa]},{provide:Js,deps:[Qa],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Pa,useClass:Pa,deps:[[new y,xa]]},{provide:Ga,useClass:Ga,deps:[]},ka,{provide:Rs,useFactory:function(){return Us},deps:[]},{provide:Ds,useFactory:function(){return Fs},deps:[]},{provide:Ma,useFactory:function(t){return aa(t=t||"undefined"!=typeof $localize&&$localize.locale||oa),t},deps:[[new m(Ma),new y,new w]]},{provide:Ua,useValue:"USD"}];let Eu=(()=>{class t{constructor(t){}}return t.\u0275mod=kt({type:t}),t.\u0275inj=T({factory:function(e){return new(e||t)(lt(gu))},providers:Cu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){n(i=t[e].apply(t,r)).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function p(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),s(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),a(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new d(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new p(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return T})),n.d(e,"d",(function(){return V})),n.d(e,"e",(function(){return E})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return u})),n.d(e,"j",(function(){return Y})),n.d(e,"k",(function(){return R})),n.d(e,"l",(function(){return K})),n.d(e,"m",(function(){return l})),n.d(e,"n",(function(){return h})),n.d(e,"o",(function(){return z})),n.d(e,"p",(function(){return d})),n.d(e,"q",(function(){return L})),n.d(e,"r",(function(){return v})),n.d(e,"s",(function(){return b})),n.d(e,"t",(function(){return y})),n.d(e,"u",(function(){return M})),n.d(e,"v",(function(){return _})),n.d(e,"w",(function(){return I})),n.d(e,"x",(function(){return p})),n.d(e,"y",(function(){return g})),n.d(e,"z",(function(){return O})),n.d(e,"A",(function(){return m})),n.d(e,"B",(function(){return w})),n.d(e,"C",(function(){return N})),n.d(e,"D",(function(){return A})),n.d(e,"E",(function(){return U})),n.d(e,"F",(function(){return F})),n.d(e,"G",(function(){return D})),n.d(e,"H",(function(){return Q})),n.d(e,"I",(function(){return W})),n.d(e,"J",(function(){return k})),n.d(e,"K",(function(){return B})),n.d(e,"L",(function(){return G})),n.d(e,"M",(function(){return J})),n.d(e,"N",(function(){return C}));var r=n("mrSG"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=s(t);return a.encodeByteArray(e,!0)},c=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function g(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function v(){return"object"==typeof self&&self.self===self}function b(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return d().indexOf("Electron/")>=0}function _(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return d().indexOf("MSAppHost/")>=0}function O(){return!1}function I(){return"indexedDB"in self&&null!=indexedDB}function C(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function E(){return!(!navigator||!navigator.cookieEnabled)}var T=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return Object(r.c)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?x(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new T(i,a,r);return u},t}();function x(t,e){return t.replace(P,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var P=/\{\$([^}]+)}/g;function A(t){return JSON.parse(t)}function k(t){return JSON.stringify(t)}var j=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=A(c(o[0])||""),n=A(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},N=function(t){var e=j(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},L=function(t){var e=j(t).claims;return"object"==typeof e&&!0===e.admin};function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function M(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function U(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function F(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var V=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function K(t,e){var n=new q(t,e);return n.subscribe.bind(n)}var q=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function H(){}var B=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function z(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}function G(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(z(t,e,r)+"must be a valid function.")}function J(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(z(t,e,r)+"must be a valid context object.")}var W=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},Q=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function Y(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return C})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return v})),n.d(e,"j",(function(){return O}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],v=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new u.q("angularfire2.app.options"),y=new u.q("angularfire2.app.nameOrConfig"),_=new u.O("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&I("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{I("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},I=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&I("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:w,deps:[m,u.z,[new u.A,y]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:y,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Pb(u.B))},providers:[E]}),t})()}).call(this,n("3UD+")(t))},t6oF:function(t,e,n){"use strict";var r=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Qa(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Qa(o(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function v(t){return Object.prototype.hasOwnProperty.call(t,b)&&t[b]||(t[b]=++m)}var b="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:_).apply(null,arguments)}function O(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function C(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function T(t,e,n){this.code=P+t,this.message=e||A[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new T(e.substring(P.length),t.message,t.serverResponse):null}C(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var x,P="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},k={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function j(t){for(var e in k)if(k[e].id===t)return{firebaseEndpoint:(t=k[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function L(t){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");L.call(this,n+t[r])}function D(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}x=j("__EID__")?"__EID__":void 0,C(L,Error),L.prototype.name="CustomError",C(R,L),R.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new M((function(){return new q}),(function(t){t.reset()}));function K(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},J=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=H(t,e)}function Q(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function $(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){Z=ht;break t}}Z=""}function ft(t){return ut(Z,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<vt.length;o++)n=vt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===It&&e||"",this.b=Ot}function _t(t){return t instanceof yt&&t.constructor===yt&&t.b===Ot?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,Ot={},It={};function Ct(){if(void 0===wt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){a.console&&a.console.error(n.message)}wt=t}else wt=t}return wt}function Et(t,e){this.a=e===At?t:""}function Tt(t){return t instanceof Et&&t.constructor===Et?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=_t(t);if(!Pt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Ct();return new Et(t=e?e.createScriptURL(t):t,At)}(t=n.replace(xt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?_t(t):encodeURIComponent(String(t))})))}Et.prototype.sa=!0,Et.prototype.ra=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xt=/%{(\w+)}/g,Pt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={};function kt(t,e){this.a=e===Ut?t:""}function jt(t){return t instanceof kt&&t.constructor===kt?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}kt.prototype.sa=!0,kt.prototype.ra=function(){return this.a.toString()},kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Lt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Dt(t){if(t instanceof kt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t))t=new kt(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Lt);t=e&&Nt.test(e[1])?new kt(t,Ut):null}return t}function Mt(t){return t instanceof kt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new kt(t,Ut))}var Ut={},Ft=new kt("about:invalid#zClosurez",Ut);function Vt(t,e,n){this.a=n===Kt?t:""}Vt.prototype.sa=!0,Vt.prototype.ra=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Kt={};function qt(t,e,n,r){return t=t instanceof kt?t:Mt(t),e=e||a,n=n instanceof yt?_t(n):n||"",e.open(jt(t),n,r,void 0)}function Ht(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=h;var Gt,Jt,Wt=ft("Opera"),Qt=ft("Trident")||ft("MSIE"),Yt=ft("Edge"),$t=Yt||Qt,Xt=ft("Gecko")&&!(ut(Z.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Zt=ut(Z.toLowerCase(),"webkit")&&!ft("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Jt=Z,Xt?/rv:([^\);]+)(\)|;)/.exec(Jt):Yt?/Edge\/([\d\.]+)/.exec(Jt):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Jt):Zt?/WebKit\/(\S+)/.exec(Jt):Wt?/(?:Version)[ \/]?(\S+)/.exec(Jt):void 0);if(ne&&(ee=ne?ne[1]:""),Qt){var re=te();if(null!=re&&re>parseFloat(ee)){Gt=String(re);break t}}Gt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=tt(String(Gt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ct(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ct(0==s[2].length,0==a[2].length)||ct(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var se=a.document&&Qt&&(te()||parseInt(Gt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Jt){}var ae=!Qt||9<=Number(se);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var le,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function de(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}B(s?X(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){a.setTimeout((function(){throw t}),0)}function ve(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(ye)}}else he=function(){var t=ye;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ft("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),be||(he(),be=!0),me.add(t,e)}var be=!1,me=new F;function ye(){for(var t;t=K();){try{t.a.call(t.b)}catch(e){ge(e)}U(V,t)}be=!1}function _e(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Ne(n,Oe,t)}),(function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ne(n,Ie,t)}))}catch(r){Ne(this,Ie,r)}}var we=0,Oe=2,Ie=3;function Ce(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ce.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new M((function(){return new Ce}),(function(t){t.reset()}));function Te(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof _e)return t;var e=new _e(h);return Ne(e,Oe,t),e}function xe(t){return new _e((function(e,n){n(t)}))}function Pe(t,e,n){Le(t,e,n,null)||ve(O(e,t))}function Ae(t){return new _e((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Pe(t[o],O(i,o,!0),O(i,o,!1));else e(r)}))}function ke(t,e){t.b||t.a!=Oe&&t.a!=Ie||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function je(t,e,n,r){var i=Te(null,null,null);return i.a=new _e((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,ke(t,i),i.a}function Ne(t,e,n){t.a==we&&(t===n&&(e=Ie,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Le(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=Ie||n instanceof Ve||function(t,e){t.g=!0,ve((function(){t.g&&Fe.call(null,e)}))}(t,n)))}function Le(t,e,n,r){if(t instanceof _e)return ke(t,Te(e||h,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Re(t){t.h||(t.h=!0,ve(t.gc,t))}function De(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Me(t,e,n,r){if(n==Ie&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(i){Fe.call(null,i)}U(Ee,e)}function Ue(t,e,n){e==Oe?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return je(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).oa=function(t,e){return(t=Te(t,t,e)).c=!0,ke(this,t),this},t.o=function(t,e){return je(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Ve(t);ve((function(){!function t(e,n){if(e.a==we)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==we&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):De(r),Me(r,o,Ie,n)))}e.c=null}else Ne(e,Ie,n)}(this,e)}),this)}},t.$c=function(t){this.a=we,Ne(this,Oe,t)},t.ad=function(t){this.a=we,Ne(this,Ie,t)},t.gc=function(){for(var t;t=De(this);)Me(this,t,this.a,this.i);this.h=!1};var Fe=ge;function Ve(t){L.call(this,t)}function Ke(){0!=qe&&(He[v(this)]=this),this.xa=this.xa,this.pa=this.pa}C(Ve,L),Ve.prototype.name="cancel";var qe=0,He={};function Be(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=qe)){var e=v(t);if(0!=qe&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}Ke.prototype.xa=!1,Ke.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var ze=Object.freeze||function(t){return t},Ge=!Qt||9<=Number(se),Je=Qt&&!oe("9"),We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ye(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$e[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},C(Ye,Qe);var $e=ze({2:"touch",3:"pen",4:"mouse"});Ye.prototype.preventDefault=function(){Ye.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Je)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ye.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Ze,this.va=this.Pa=!1}function en(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=on(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new tn(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),an={};function un(t,e,n,r,i){if(r&&r.once)ln(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=yn(n),t&&t[Xe]?wn(t,e,n,g(r)?!!r.capture:!!r,i):cn(t,e,n,!1,r,i)}function cn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=g(i)?!!i.capture:!!i,a=bn(t);if(a||(t[sn]=a=new nn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=vn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=yn(n),t&&t[Xe]?On(t,e,n,g(r)?!!r.capture:!!r,i):cn(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=yn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=bn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Xe])rn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bn(e))?(rn(n,t),0==n.b&&(n.src=null,e[sn]=null)):en(t)}}}function dn(t){return t in an?an[t]:an[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=bn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&fn(t),n.call(r,e)}function vn(t,e){if(t.va)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ye(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new Ye(e,this))}function bn(t){return(t=t[sn])instanceof nn?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return p(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function _n(){Ke.call(this),this.v=new nn(this),this.ac=this,this.gb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function On(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function In(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&rn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Cn(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function En(t){var e=null;return new _e((function(n,r){-1==(e=Cn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function Tn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Sn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function xn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];An(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)An(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function An(t,e){return Object.prototype.hasOwnProperty.call(t,e)}C(_n,Ke),_n.prototype[Xe]=!0,_n.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;bt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=In(s,r,!0,t)&&i}if(i=In(s=t.b=n,r,!0,t)&&i,i=In(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=In(s=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Da=function(){if(_n.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=xn.prototype).W=function(){Pn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Pn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return An(this.b,t)?this.b[t]:e},t.set=function(t,e){An(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var kn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof jn?(this.i=void 0!==e?e:t.i,Nn(this,t.c),this.l=t.l,this.a=t.a,Ln(this,t.g),this.f=t.f,Rn(this,tr(t.b)),this.h=t.h):t&&(n=String(t).match(kn))?(this.i=!!e,Nn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Ln(this,n[4]),this.f=Vn(n[5]||"",!0),Rn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!e,this.b=new Wn(null,this.i))}function Nn(t,e,n){t.c=n?Vn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Ln(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($n(this,e),Zn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Kn(e,Gn)),t.b=new Wn(e,t.i))}function Dn(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function Un(t){return t instanceof jn?new jn(t):new jn(t,void 0)}function Fn(t,e,n,r){var i=new jn(null,void 0);return t&&Nn(i,t),e&&(i.a=e),n&&Ln(i,n),r&&(i.f=r),i}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}jn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Kn(e,Hn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Kn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Kn(n,"/"==n.charAt(0)?zn:Bn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Kn(n,Jn)),t.join("")},jn.prototype.resolve=function(t){var e=new jn(this),n=!!t.c;n?Nn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Ln(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Rn(e,tr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Hn=/[#\/\?@]/g,Bn=/[#\?:]/g,zn=/[#\?]/g,Gn=/[#\?@]/g,Jn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new xn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Yn(t){var e=Sn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function $n(t,e){Qn(t),e=er(t,e),An(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,An((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Pn(t)))}function Xn(t,e){return Qn(t),e=er(t,e),An(t.a.b,e)}function Zn(t,e,n){$n(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),X(n)),t.b+=n.length)}function tr(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new xn(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),sr(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":sr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new rr,t,e),e.join("")}function rr(){}(t=Wn.prototype).add=function(t,e){Qn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Qn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Qn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=$(e,this.a.get(er(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Xn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function ar(){var t=Tr();return Qt&&!!se&&11==se||/Edge\/\d+/.test(t)}function ur(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||a.window;var n="about:blank";t&&(n=jt(Dt(t)||Ft)),e.location.href=n}function lr(t){return!!((t=(t||Tr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function hr(t){t=t||a.window;try{t.close()}catch(e){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Tr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Ir(Tr())==wr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof kt?n:Dt(void 0!==n.href?n.href:String(n))||Ft,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof kt?e:Mt(e),s.href=jt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=qt("",r,n,s),t=jt(e),s&&($t&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">',t=new Vt(t=(r=Ct())?r.createHTML(t):t,null,Kt),r=s.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(D("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(s=qt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pr=/^[^@]+@[^@]+$/;function gr(){var t=null;return new _e((function(e){"complete"==a.document.readyState?e():(t=function(){e()},ln(window,"load",t))})).o((function(e){throw hn(window,"load",t),e}))}function vr(t){return t=t||Tr(),!("file:"!==kr()&&"ionic:"!==kr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function mr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function yr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":mr()?"Worker":"Browser"}function _r(){var t=yr();return"ReactNative"===t||"Node"===t}var wr="Firefox",Or="Chrome";function Ir(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?wr:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Or:"Safari"}var Cr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Er(t,e){e=e||[];var n,r=[],i={};for(n in Cr)i[Cr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=yr())?r=Ir(i=Tr()):"Worker"===r&&(r=Ir(i=Tr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Tr(){return a.navigator&&a.navigator.userAgent||""}function Sr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function xr(){try{var t=a.localStorage,e=Dr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!a.indexedDB}catch(n){return mr()&&!!a.indexedDB}return!1}function Pr(){return(Ar()||"chrome-extension:"===kr()||vr())&&!_r()&&xr()&&!mr()}function Ar(){return"http:"===kr()||"https:"===kr()}function kr(){return a.location&&a.location.protocol||null}function jr(t){return!lr(t=t||Tr())&&Ir(t)!=wr}function Nr(t){return void 0===t?null:nr(t)}function Lr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Rr(t){if(null!==t)return JSON.parse(t)}function Dr(t){return t||Math.floor(1e9*Math.random()).toString()}function Mr(t){return"Safari"!=Ir(t=t||Tr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Fr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Tr(),e=yr(),this.b=lr(t)||"ReactNative"===e}function Vr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Kr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function qr(){return!(!Sr("fireauth.oauthhelper",a)&&!Sr("fireauth.iframe",a))}Fr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Ar()&&"chrome-extension:"!==kr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Hr,Br={};function zr(t){Br[t]||(Br[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),Hr=2==Gr.abcd}catch(Jt){Hr=!1}function Jr(t,e,n){Hr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Wr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Jr(t,n,e[n])}function Qr(t){var e={};return Wr(e,t),e}function Yr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Jr(e,n,Yr(t[n]));return e}function $r(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",t[ei]),Jr(this,"displayName",t[Zr]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",e)}function Xr(t){try{var e=new ri(t)}catch(n){e=null}return e}$r.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){$r.call(this,t),Jr(this,"phoneNumber",t[ni])}function ii(t){var e={},n=t[ui],r=t[li],i=t[hi];if(t=Xr(t[ci]),!i||i!=si&&i!=ai&&!n||i==ai&&!r||i==oi&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[di]=n||null,e[gi]=n||null,e[fi]=r):(e[di]=r||null,e[gi]=r||null,e[fi]=n||null),e[pi]=t||null,Jr(this,bi,i),Jr(this,vi,Yr(e))}C(ri,$r),ri.prototype.w=function(){var t=ri.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var oi="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",ui="email",ci="mfaInfo",li="newEmail",hi="requestType",fi="email",di="fromEmail",pi="multiFactorInfo",gi="previousEmail",vi="data",bi="operation";function mi(t){var e=Mn(t=Un(t),yi)||null,n=Mn(t,_i)||null,r=Mn(t,Ii)||null;if(r=r&&Ei[r]||null,!e||!n||!r)throw new T("argument-error",yi+", "+_i+"and "+Ii+" are required in a valid action code URL.");Wr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,wi)||null,languageCode:Mn(t,Oi)||null,tenantId:Mn(t,Ci)||null})}var yi="apiKey",_i="oobCode",wi="continueUrl",Oi="languageCode",Ii="mode",Ci="tenantId",Ei={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:si,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Ti(t){try{return new mi(t)}catch(e){return null}}function Si(t){var e=t[ji];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[xi];if(n&&"object"==typeof n){e=n[Ri];var r=n[Ni];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Ni+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Ri+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",xi+" property must be a non null object when specified.");if(this.f=null,(e=t[ki])&&"object"==typeof e){if("string"==typeof(e=e[Di])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Di+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",ki+" property must be a non null object when specified.");if(void 0!==(e=t[Ai])&&"boolean"!=typeof e)throw new T("argument-error",Ai+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Pi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Pi+" property must be a non empty string when specified.");this.i=t||null}var xi="android",Pi="dynamicLinkDomain",Ai="handleCodeInApp",ki="iOS",ji="url",Ni="installApp",Li="minimumVersion",Ri="packageName",Di="bundleId";function Mi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function Fi(t){var e=Ki(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Vi(t){try{return new Fi(t)}catch(e){return null}}function Ki(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}Fi.prototype.T=function(){return this.f},Fi.prototype.l=function(){return this.c},Fi.prototype.toString=function(){return this.h};var qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hi=["client_id","response_type","scope","redirect_uri","state"],Bi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Hi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Hi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Hi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:qi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function zi(t){for(var e in Bi)if(Bi[e].fa==t)return Bi[e];return null}function Gi(t){var e={};e["facebook.com"]=$i,e["google.com"]=Zi,e["github.com"]=Xi,e["twitter.com"]=to;var n=t&&t[Wi];try{if(n)return e[n]?new e[n](t):new Yi(t);if(void 0!==t[Ji])return new Qi(t)}catch(r){}return null}var Ji="idToken",Wi="providerId";function Qi(t){var e=t[Wi];if(!e&&t[Ji]){var n=Vi(t[Ji]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Jr(this,"providerId",e),Jr(this,"isNewUser",n)}function Yi(t){Qi.call(this,t),Jr(this,"profile",Yr((t=Rr(t.rawUserInfo||"{}"))||{}))}function $i(t){if(Yi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xi(t){if(Yi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function Zi(t){if(Yi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Yi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",t.screenName||null)}function eo(t){var e=Un(t),n=Mn(e,"link"),r=Mn(Un(n),"link");return e=Mn(e,"deep_link_id"),Mn(Un(e),"link")||e||r||n||t}function no(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ro:io}C(Yi,Qi),C($i,Yi),C(Xi,Yi),C(Zi,Yi),C(to,Yi);var ro="enroll",io="signin";function oo(){}function so(t,e){return t.then((function(t){if(t[Gs]){var n=Vi(t[Gs]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==P+"user-not-found"?new T("user-mismatch"):t}))}function ao(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Jr(this,"providerId",t),Jr(this,"signInMethod",t)}function uo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function co(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ao(t.providerId,t.pendingToken)}catch(e){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Jr(this,"idToken",e.idToken),e.accessToken&&Jr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Jr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Jr(this,"accessToken",e.oauthToken),Jr(this,"secret",e.oauthTokenSecret)}Jr(this,"providerId",t),Jr(this,"signInMethod",n)}function ho(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function fo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function po(t,e){this.Qc=e||[],Wr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(zi(t)||{}).Ja||null,this.ob=null}function go(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');po.call(this,t,[])}function vo(t){po.call(this,t,Hi),this.a=[]}function bo(){vo.call(this,"facebook.com")}function mo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function yo(){vo.call(this,"github.com")}function _o(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function wo(){vo.call(this,"google.com"),this.Ca("profile")}function Oo(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new wo).credential({idToken:n,accessToken:e})}function Io(){po.call(this,"twitter.com",qi)}function Co(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function Eo(t,e,n){this.a=t,this.f=e,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===So.EMAIL_LINK_SIGN_IN_METHOD?So.EMAIL_LINK_SIGN_IN_METHOD:So.EMAIL_PASSWORD_SIGN_IN_METHOD)}function To(t){return t&&t.email&&t.password?new Eo(t.email,t.password,t.signInMethod):null}function So(){Wr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=Po(e)))throw new T("argument-error","Invalid email link!");return new Eo(t,e.code,So.EMAIL_LINK_SIGN_IN_METHOD)}function Po(t){return(t=Ti(t=eo(t)))&&t.operation===si?t:null}function Ao(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,Jr(this,"providerId","phone"),this.fa="phone",Jr(this,"signInMethod","phone")}function ko(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ao(e)}return null}function jo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function No(t){try{this.a=t||r.a.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Wr(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Ao({eb:t,cb:e})}function Ro(t){if(t.temporaryProof&&t.phoneNumber)return new Ao({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Oo(o,n);case"facebook.com":return mo(n);case"github.com":return _o(n);case"twitter.com":return Co(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ao(e,s):new lo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new vo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Do(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Mo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Uo(t){return(t=t||{}).type?new Mo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function Fo(){this.b=null,this.a=[]}no.prototype.Ha=function(){return Se(this.a?this.a:this.b)},no.prototype.w=function(){return this.type==ro?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},oo.prototype.ka=function(){},oo.prototype.b=function(){},oo.prototype.c=function(){},oo.prototype.w=function(){},ao.prototype.ka=function(t){return da(t,uo(this))},ao.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,pa(t,n)},ao.prototype.c=function(t,e){return so(ga(t,uo(this)),e)},ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ka=function(t){return da(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,pa(t,n)},lo.prototype.c=function(t,e){return so(ga(t,ho(this)),e)},lo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},po.prototype.Ka=function(t){return this.Ib=gt(t),this},C(go,po),C(vo,po),vo.prototype.Ca=function(t){return W(this.a,t)||this.a.push(t),this},vo.prototype.Qb=function(){return X(this.a)},vo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},C(bo,vo),Jr(bo,"PROVIDER_ID","facebook.com"),Jr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(yo,vo),Jr(yo,"PROVIDER_ID","github.com"),Jr(yo,"GITHUB_SIGN_IN_METHOD","github.com"),C(wo,vo),Jr(wo,"PROVIDER_ID","google.com"),Jr(wo,"GOOGLE_SIGN_IN_METHOD","google.com"),C(Io,po),Jr(Io,"PROVIDER_ID","twitter.com"),Jr(Io,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ka=function(t){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Ya(t,Ia,{email:this.a,oobCode:this.f}):Ya(t,za,{email:this.a,password:this.f})},Eo.prototype.b=function(t,e){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Ya(t,Ca,{idToken:e,email:this.a,oobCode:this.f}):Ya(t,Ma,{idToken:e,email:this.a,password:this.f})},Eo.prototype.c=function(t,e){return so(this.ka(t),e)},Eo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Wr(So,{PROVIDER_ID:"password"}),Wr(So,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Wr(So,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ao.prototype.ka=function(t){return t.fb(jo(this))},Ao.prototype.b=function(t,e){var n=jo(this);return n.idToken=e,Ya(t,Ja,n)},Ao.prototype.c=function(t,e){var n=jo(this);return n.operation="REAUTH",so(t=Ya(t,Wa,n),e)},Ao.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},No.prototype.fb=function(t,e){var n=this.a.a;return Se(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==ro?i.Ha().then((function(t){return function(t,e){return Ya(t,Fa,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==io?i.Ha().then((function(e){return function(t,e){return Ya(t,Va,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Ya(t,Ra,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Wr(No,{PROVIDER_ID:"phone"}),Wr(No,{PHONE_SIGN_IN_METHOD:"phone"}),Mo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Mo.prototype.T=function(){return this.h},Mo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,Ko=null;function qo(t){var e="unauthorized-domain",n=void 0,r=Un(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ht("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ht("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Ho(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&Jr(this,"email",t.Jb),t.ea&&Jr(this,"phoneNumber",t.ea),t.credential&&Jr(this,"credential",t.credential),t.Zb&&Jr(this,"tenantId",t.Zb)}function Bo(t){if(t.code){var e=t.code||"";0==e.indexOf(P)&&(e=e.substring(P.length));var n={credential:Ro(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function zo(){}function Go(){}function Jo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Wo(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Sb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Yo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function $o(t,e,n){this.reset(t,e,n,void 0,void 0)}function Xo(t){this.f=t,this.b=this.c=this.a=null}function Zo(t,e){this.name=t,this.value=e}C(qo,T),C(Ho,T),Ho.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&bt(t,e),t},Ho.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,C(Go,zo),Go.prototype.a=function(){var t=Jo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Go.prototype.b=function(){var t={};return Jo(this)&&(t[0]=!0,t[1]=!0),t},Vo=new Go,C(Wo,zo),Wo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},Wo.prototype.b=function(){return{}},(t=Qo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Yo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Yo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Yo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},$o.prototype.a=null,$o.prototype.reset=function(t,e,n,r,i){r||I(),delete this.a},Zo.prototype.toString=function(){return this.name};var ts=new Zo("SEVERE",1e3),es=new Zo("WARNING",900),ns=new Zo("CONFIG",700),rs=new Zo("FINE",500);Xo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(D("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new $o(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var is={},os=null;function ss(t){var e;if(os||(os=new Xo(""),is[""]=os,os.c=ns),!(e=is[t])){e=new Xo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ss(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,is[t]=e}return e}function as(t,e){t&&t.log(rs,e,void 0)}function us(t){this.f=t}function cs(t){_n.call(this),this.u=t,this.h=void 0,this.readyState=ls,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ss("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}C(us,zo),us.prototype.a=function(){return new cs(this.f)},us.prototype.b=function(t){return function(){return t}}({}),C(cs,_n);var ls=0;function hs(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function fs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ds(t)}function ds(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ps(t){_n.call(this),this.headers=new xn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=gs,this.u=this.S=!1}(t=cs.prototype).open=function(t,e){if(this.readyState!=ls)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ds(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,fs(this)),this.readyState=ls},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ds(this)),this.a&&(this.readyState=3,ds(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,hs(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?fs(this):ds(this),3==this.readyState&&hs(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,fs(this))},t.sc=function(t){this.a&&(this.response=t,fs(this))},t.Ua=function(t){var e=this.i;e&&e.log(es,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&fs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(es,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(es,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),C(ps,_n);var gs="";ps.prototype.b=ss("goog.net.XhrIo");var vs=/^https?$/i,bs=["POST","PUT"];function ms(t){return"content-type"==t.toLowerCase()}function ys(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,_s(t),Os(t)}function _s(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ws(t){if(t.c&&void 0!==s)if(t.C[1]&&4==Cs(t)&&2==Es(t))as(t.b,Ts(t,"Local request error detected and ignored"));else if(t.i&&4==Cs(t))Cn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Cs(t)){as(t.b,Ts(t,"Request complete")),t.c=!1;try{var e,n=Es(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(kn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!vs.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Cs(t)?t.a.statusText:""}catch(l){as(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Es(t)+"]",_s(t)}}finally{Os(t)}}}function Os(t,e){if(t.a){Is(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(ts,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Is(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Cs(t){return t.a?t.a.readyState:0}function Es(t){try{return 2<Cs(t)?t.a.status:-1}catch(e){return-1}}function Ts(t,e){return e+" ["+t.R+" "+t.l+" "+Es(t)+"]"}function Ss(t){var e=Us;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function xs(t,e,n){t.a=!0,t.c=n,t.f=!e,js(t)}function Ps(t){if(t.a){if(!t.v)throw new Ns(t);t.v=!1}}function As(t,e,n,r){t.g.push([e,n,r]),t.a&&js(t)}function ks(t){return J(t.g,(function(t){return p(t[1])}))}function js(t){if(t.h&&t.a&&ks(t)){var e=t.h,n=Ds[e];n&&(a.clearTimeout(n.a),delete Ds[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(N(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,ks(t)||(n=!0)}}t.c=e,r&&(u=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof Ss?(As(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Rs(e),Ds[e.a]=e,t.h=e.a)}function Ns(){L.call(this)}function Ls(){L.call(this)}function Rs(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=ps.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",as(this.b,Ts(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(as(this.b,Ts(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Os(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Os(this,!0)),ps.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?ws(this):this.Jc())},t.Jc=function(){ws(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case gs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ts,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return as(this.b,"Can not get response: "+e.message),null}},Ss.prototype.cancel=function(t){if(this.a)this.c instanceof Ss&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ls(this),Ps(this),xs(this,!1,t))}},Ss.prototype.m=function(t,e){this.i=!1,xs(this,t,e)},Ss.prototype.then=function(t,e,n){var r,i,o=new _e((function(t,e){r=t,i=e}));return As(this,r,(function(t){t instanceof Ls?o.cancel():i(t)})),o.then(t,e,n)},Ss.prototype.$goog_Thenable=!0,C(Ns,L),Ns.prototype.message="Deferred has already fired",Ns.prototype.name="AlreadyCalledError",C(Ls,L),Ls.prototype.message="Deferred was canceled",Ls.prototype.name="CanceledError",Rs.prototype.c=function(){throw delete Ds[this.a],this.b};var Ds={};function Ms(t){var e={},n=e.document||document,r=Tt(t).toString(),i=pe(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new Ss(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Fs(i,!0);var t=new qs(Ks,"Timeout reached for loading script "+r);Ps(s),xs(s,!1,t)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Fs(i,e.xd||!1,u),Ps(s),xs(s,!0,null))},i.onerror=function(){Fs(i,!0,u);var t=new qs(Vs,"Error while loading script "+r);Ps(s),xs(s,!1,t)},bt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===c&&(c=l(a.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Us(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Fs(t,!0,this.Ma)}}function Fs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Vs=0,Ks=1;function qs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),L.call(this,n),this.code=t}function Hs(t){this.f=t}function Bs(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Js,this.g=gt(t.secureTokenHeaders||Ws),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Qs,this.a=gt(t.firebaseHeaders||Ys),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==yr(),!(n=a.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!mr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=mr()?new us(self):_r()?new Hs(n):new Wo,this.b=null}C(qs,L),C(Hs,zo),Hs.prototype.a=function(){return new this.f},Hs.prototype.b=function(){return{}};var zs,Gs="idToken",Js=new Fr(3e4,6e4),Ws={"Content-Type":"application/x-www-form-urlencoded"},Qs=new Fr(3e4,6e4),Ys={"Content-Type":"application/json"};function $s(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Xs(t,e){e&&(t.l=Zs("https://securetoken.googleapis.com/v1/token",e),t.h=Zs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Zs("https://identitytoolkit.googleapis.com/v2/",e))}function Zs(t,e){return t=Un(t),e=Un(e.url),t.f=t.a+t.f,Nn(t,e.c),t.a=e.a,Ln(t,e.g),t.toString()}function ta(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ea(t,e,n,r,i,o,s){(function(){var t=Tr();return!((t=Ir(t)!=Or?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Qt&&se&&!(9<se))})()||mr()?t=w(t.u,t):(zs||(zs=new _e((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[ra]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){As(t,null,e,void 0)}(Ms(St(na,{onload:ra})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=w(t.s,t)),t(e,n,r,i,o,s)}Bs.prototype.T=function(){return this.b},Bs.prototype.u=function(t,e,n,r,i,o){if(mr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ps(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}wn(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return as(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),On(s,"ready",(function(){u&&clearTimeout(u),Be(this)})),On(s,"timeout",(function(){u&&clearTimeout(u),Be(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Vo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Vo),t.a.onreadystatechange=w(t.Vb,t);try{as(t.b,Ts(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return as(t.b,Ts(t,"Error opening Xhr: "+s.message)),void ys(t,s)}e=r||"";var o=new xn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)B(t,e,void 0);else for(var n=Sn(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ms,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!W(bs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Is(t),0<t.g&&(t.u=function(t){return Qt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),as(t.b,Ts(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=Cn(t.Ma,t.g,t)),as(t.b,Ts(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){as(t.b,Ts(t,"Send error: "+s.message)),ys(t,s)}}(s,t,n,r,i)};var na=new yt(It,"https://apis.google.com/js/client.js?onload=%{onload}"),ra="__fcb"+Math.floor(1e6*Math.random()).toString();function ia(t){if("string"!=typeof(t=t.email)||!pr.test(t))throw new T("invalid-email")}function oa(t){"email"in t&&ia(t)}function sa(t){if(!t[Gs]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,gt(t));throw new T("internal-error")}}function aa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Bs.prototype.s=function(t,e,n,r,i){var o=this;zs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Bs.prototype.zb=function(){return Ya(this,Ua,{})},Bs.prototype.Bb=function(t,e){return Ya(this,Da,{idToken:t,email:e})},Bs.prototype.Cb=function(t,e){return Ya(this,Ma,{idToken:t,password:e})};var ua={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ca(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function la(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ha(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Xn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function fa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Bo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Bo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Bo(t)):t.errorMessage&&(e=$a(t.errorMessage)),e)throw e;sa(t)}function da(t,e){return e.returnIdpCredential=!0,Ya(t,Ka,e)}function pa(t,e){return e.returnIdpCredential=!0,Ya(t,Ha,e)}function ga(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ya(t,qa,e)}function va(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Bs.prototype).Db=function(t,e){var n={idToken:t},r=[];return dt(ua,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ya(this,Da,n)},t.vb=function(t,e){return bt(t={requestType:"PASSWORD_RESET",email:t},e),Ya(this,ka,t)},t.wb=function(t,e){return bt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ya(this,xa,t)},t.ub=function(t,e){return bt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ya(this,Pa,t)},t.Eb=function(t,e,n){return bt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ya(this,Aa,t)},t.fb=function(t){return Ya(this,Ga,t)},t.nb=function(t,e){return Ya(this,La,{oobCode:t,newPassword:e})},t.Ra=function(t){return Ya(this,ma,{oobCode:t})},t.jb=function(t){return Ya(this,ba,{oobCode:t})};var ba={endpoint:"setAccountInfo",A:va,Z:"email",B:!0},ma={endpoint:"resetPassword",A:va,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},ya={endpoint:"signupNewUser",A:function(t){if(ia(t),!t.password)throw new T("weak-password")},G:sa,V:!0,B:!0},_a={endpoint:"createAuthUri",B:!0},wa={endpoint:"deleteAccount",N:["idToken"]},Oa={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Ia={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ia,G:sa,V:!0,B:!0},Ca={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ia,G:sa,V:!0},Ea={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ca,G:sa,B:!0,Na:!0},Ta={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ca,G:sa,B:!0,Na:!0},Sa={endpoint:"getAccountInfo"},xa={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ia(t)},Z:"email",B:!0},Pa={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Aa={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},ka={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ia(t)},Z:"email",B:!0},ja={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Na={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},La={endpoint:"resetPassword",A:va,Z:"email",B:!0},Ra={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Da={endpoint:"setAccountInfo",N:["idToken"],A:oa,V:!0},Ma={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(oa(t),!t.password)throw new T("weak-password")},G:sa,V:!0},Ua={endpoint:"signupNewUser",G:sa,V:!0,B:!0},Fa={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Va={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ka={endpoint:"verifyAssertion",A:la,Ya:ha,G:fa,V:!0,B:!0},qa={endpoint:"verifyAssertion",A:la,Ya:ha,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw $a(t.errorMessage);sa(t)},V:!0,B:!0},Ha={endpoint:"verifyAssertion",A:function(t){if(la(t),!t.idToken)throw new T("internal-error")},Ya:ha,G:fa,V:!0},Ba={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:sa,V:!0,B:!0},za={endpoint:"verifyPassword",A:function(t){if(ia(t),!t.password)throw new T("wrong-password")},G:sa,V:!0,B:!0},Ga={endpoint:"verifyPhoneNumber",A:aa,G:sa,B:!0},Ja={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");aa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Bo(t);sa(t)}},Wa={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:aa,G:sa,B:!0},Qa={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Gs]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function Ya(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return xe(new T("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Se(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Un(e+n);Dn(a,"key",t.c),s&&Dn(a,"cb",I().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Dn(a,c,i[c]);return new _e((function(e,n){ea(t,a.toString(),(function(t){t?t.error?n(Xa(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:nr(Lr(i)),t.a,t.v.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function $a(t){return Xa({error:{errors:[{message:t}],code:400,message:t}})}function Xa(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",bt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Nr(t)),new T("internal-error",e)}function Za(t){this.b=t,this.a=null,this.rb=function(t){return(ru||(ru=new _e((function(t,e){function n(){Ur(),Sr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:eu.get()})}if(Sr("gapi.iframes.Iframe"))t();else if(Sr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Sr("gapi.load")?n():e(Error("Network Error"))},Se(Ms(r=St(tu,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw ru=null,t})))).then((function(){return new _e((function(e,n){Sr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),nu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var tu=new yt(It,"https://apis.google.com/js/api.js?onload=%{onload}"),eu=new Fr(3e4,6e4),nu=new Fr(5e3,15e3),ru=null;function iu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Fn((t=Un(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Fn("https",this.l,null,"/__/auth/iframe"),this.a=t,Dn(this.a,"apiKey",this.h),Dn(this.a,"appName",this.i),this.b=null,this.c=[]}function ou(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function su(t){try{return r.a.app(t).auth().Ga()}catch(e){return[]}}function au(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function uu(t){var e=ur();return function(t){return Ya(t,ja,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Un(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Un(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:dr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new qo(ur())}))}function cu(t){return t.m||(t.m=gr().then((function(){if(!t.u){var e=t.c,n=t.i,r=su(t.b),i=new iu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.v=new Za(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Uo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)}))),t.m}function lu(t){return t.l||(t.C=t.c?Er(t.c,su(t.b)):null,t.l=new Bs(t.g,j(t.i),t.C),t.f&&Xs(t.l,t.f)),t.l}function hu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new ou(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=gt(u||null),t.f=c,t.yb(l).toString()}function fu(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function du(t){this.b=t,this.a={},this.f=w(this.c,this)}iu.prototype.toString=function(){return this.f?Dn(this.a,"v",this.f):$n(this.a.b,"v"),this.b?Dn(this.a,"eid",this.b):$n(this.a.b,"eid"),this.c.length?Dn(this.a,"fw",this.c.join(",")):$n(this.a.b,"fw"),this.a.toString()},ou.prototype.yb=function(t){return this.h=t,this},ou.prototype.toString=function(){if(this.v){var t=Un(this.v.url);t=Fn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Fn("https",this.u,null,"/__/auth/handler");if(Dn(t,"apiKey",this.s),Dn(t,"appName",this.c),Dn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().la()}catch(u){n=null}for(var i in e.ob=n,Dn(t,"providerId",this.a.providerId),e=Lr((n=this.a).Ib))e[i]=e[i].toString();i=n.Qc,e=gt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),pt(e)||Dn(t,"customParameters",Nr(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Dn(t,"scopes",n.join(",")),this.l?Dn(t,"redirectUrl",this.l):$n(t.b,"redirectUrl"),this.g?Dn(t,"eventId",this.g):$n(t.b,"eventId"),this.i?Dn(t,"v",this.i):$n(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Mn(t,a)&&Dn(t,a,this.b[a]);return this.h?Dn(t,"tid",this.h):$n(t.b,"tid"),this.f?Dn(t,"eid",this.f):$n(t.b,"eid"),(a=su(this.c)).length&&Dn(t,"fw",a.join(",")),t.toString()},(t=au.prototype).Ob=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return cu(t).then((function(){return function(t,e){return t.rb.then((function(){return new _e((function(n){t.a.send(e.type,e,n,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&hr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new _e((function(e){return function n(){En(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return En(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Tr();return!jr(t)&&!Mr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return xe(new T("popup-blocked"));if(s&&!jr())return this.ma().o((function(e){hr(t),i(e)})),r(),Se();this.a||(this.a=uu(lu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw hr(t),i(e),e}));return r(),e})).then((function(){Do(n),s||cr(hu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=uu(lu(this)));var i=this;return this.a.then((function(){Do(e),cr(hu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return cu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){Y(this.h,(function(e){return e==t}))},(t=fu.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&Rr(t)}))},t.set=function(t,e){return Se(this.a.setItem(t,Nr(e)))},t.U=function(t){return Se(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var pu,gu=[];function vu(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function bu(t){this.a=t}function mu(t){this.c=t,this.b=!1,this.a=[]}function yu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return xe(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return _u(t,c),e})).o((function(e){throw _u(t,c),e}))}function _u(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Y(t.a,(function(t){return t==e}))}}function wu(){if(!Cu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;mr()&&self?(this.v=function(){var t=mr()?self:null;if(B(gu,(function(n){n.b==t&&(e=n)})),!e){var e=new du(t);gu.push(e)}return e}(),vu(this.v,"keyChanged",(function(e,n){return Pu(t).then((function(e){return 0<e.length&&B(t.a,(function(t){t(e)})),{keyProcessed:W(e,n.key)}}))})),vu(this.v,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Se(null)}().then((function(e){(t.h=e)&&(t.g=new mu(new bu(e)),yu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Ou(t){return t.i||(t.i=function t(e){return new _e((function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new _e((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.i}function Iu(t,e){var n=0;return new _e((function r(i,o){Ou(t).then(e).then(i).o((function(e){if(!(3<++n))return Ou(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Cu(){try{return!!a.indexedDB}catch(Jt){return!1}}function Eu(t){return t.objectStore("firebaseLocalStorage")}function Tu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Su(t){return new _e((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function xu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?yu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Se()}function Pu(t){return Ou(t).then((function(t){var e=Eu(Tu(t,!1));return e.getAll?Su(e.getAll()):new _e((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Au(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function ku(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(Cu()){var t=Dr(),r="__sak"+t;return pu||(pu=new wu),(n=pu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){B(e.a,(function(e){e(t)}))})),t}))}function ju(){this.a={},this.type="inMemory"}function Nu(){if(!function(){var t="Node"==yr();if(!(t=Lu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==yr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Lu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Lu(){try{var t=a.localStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ru(){this.type="nullStorage"}function Du(){if(!function(){var t="Node"==yr();if(!(t=Mu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==yr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Mu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Mu(){try{var t=a.sessionStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Uu(){var t={};t.Browser=Ku,t.Node=qu,t.ReactNative=Hu,t.Worker=Bu,this.a=t[yr()]}du.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,(function(e){i.push(Se().then((function(){return e(t.origin,t.data.data)})))})),Ae(i).then((function(r){var i=[];B(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},bu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},mu.prototype.close=function(){for(;0<this.a.length;)_u(this,this.a[0]);this.b=!0},(t=wu.prototype).set=function(t,e){var n=this,r=!1;return Iu(this,(function(e){return Su((e=Eu(Tu(e,!0))).get(t))})).then((function(i){return Iu(n,(function(o){if(o=Eu(Tu(o,!0)),i)return i.value=e,Su(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Su(o.add(s))}))})).then((function(){return n.c[t]=e,xu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Iu(this,(function(e){return Su(Eu(Tu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Iu(this,(function(r){return n=!0,e.b++,Su(Eu(Tu(r,!0)).delete(t))})).then((function(){return delete e.c[t],xu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){Au(t),function e(){t.f=setTimeout((function(){t.l=Pu(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t})),0==this.a.length&&Au(this)},(t=ku.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t}))},(t=ju.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.U=function(t){return delete this.a[t],Se()},t.ca=function(){},t.ia=function(){},(t=Nu.prototype).get=function(t){var e=this;return Se().then((function(){return Rr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Nr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&un(a.window,"storage",t)},t.ia=function(t){a.window&&hn(a.window,"storage",t)},(t=Ru.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.U=function(){return Se()},t.ca=function(){},t.ia=function(){},(t=Du.prototype).get=function(t){var e=this;return Se().then((function(){return Rr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Nr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Fu,Vu,Ku={F:Nu,bb:Du},qu={F:Nu,bb:Du},Hu={F:fu,bb:Ru},Bu={F:Nu,bb:Ru},zu={rd:"local",NONE:"none",td:"session"};function Gu(){var t=!(Mr(Tr())||!br()),e=jr(),n=xr();this.m=t,this.h=e,this.l=n,this.a={},Fu||(Fu=new Uu),t=Fu;try{this.g=!ar()&&qr()||!a.indexedDB?new t.a.F:new ku(mr()?new ju:new t.a.F)}catch(r){this.g=new ju,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new ju}this.v=new ju,this.f=w(this.Yb,this),this.b={}}function Ju(){return Vu||(Vu=new Gu),Vu}function Wu(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Qu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Yu(t,e,n){return n=Qu(e,n),"local"==e.F&&(t.b[n]=null),Wu(t,e.F).U(n)}function $u(t){t.c&&(clearInterval(t.c),t.c=null)}function Xu(t){this.a=t,this.b=Ju()}(t=Gu.prototype).get=function(t,e){return Wu(this,t.F).get(Qu(t,e))},t.set=function(t,e,n){var r=Qu(t,n),i=this,o=Wu(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Qu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&(Wu(this,"local").ca(this.f),this.h||(ar()||!qr())&&a.indexedDB||!this.l||function(t){$u(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ye({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Qu(t,e),this.a[t]&&(Y(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Wu(this,"local").ia(this.f),$u(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Wu(this,"local").ia(this.f):$u(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},Qt&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,w(this.mb,this))},t.mb=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var Zu,tc={name:"authEvent",F:"local"};function ec(){this.a=Ju()}function nc(t,e){this.b=rc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Zu&&(Zu=a.Int32Array?new Int32Array(lc):lc),this.reset()}C(nc,(function(){this.b=-1}));for(var rc=64,ic=rc-1,oc=[],sc=0;sc<ic;sc++)oc[sc]=0;var ac=$(128,oc);function uc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|Zu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function cc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(uc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(uc(t),i=0)}}t.c=i,t.g+=n}nc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):X(this.h)};var lc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function hc(){nc.call(this,8,fc)}C(hc,nc);var fc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function dc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new ec,this.g=new Xu(this.h),this.f=null,this.b=[],this.a=this.c=null}function pc(t){return new T("invalid-cordova-configuration",t)}function gc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function vc(t){return t.f||(t.f=t.ma().then((function(){return new _e((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),bc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=eo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Rr(Mn(o=Un(i),"firebaseError")||null))?S(o):null)?new Mo(r.c,r.b,null,null,o,null,r.T()):new Mo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}gc(t,i)}))}var n=new Mo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=En(500).then((function(){return bc(t).then((function(){r||gc(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Sr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Ko||(Ko=new Fo),function(t){var e=Ko;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Sr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function bc(t){var e=null;return function(t){return t.b.get(tc,t.a).then((function(t){return Uo(t)}))}(t.g).then((function(n){return e=n,Yu((n=t.g).b,tc,n.a)})).then((function(){return e}))}function mc(t){this.a=t,this.b=Ju()}(t=dc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(vr(void 0)?gr().then((function(){return new _e((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):xe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Sr("universalLinks.subscribe",a))throw pc("cordova-universal-links-plugin-fix is not installed");if(void 0===Sr("BuildInfo.packageName",a))throw pc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Sr("cordova.plugins.browsertab.openUrl",a))throw pc("cordova-plugin-browsertab is not installed");if("function"!=typeof Sr("cordova.InAppBrowser.open",a))throw pc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Se()},t.Mb=function(){return xe(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return xe(new T("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Se().then((function(){return Do(e),vc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Mo(e,r,null,o,new T("no-auth-event"),null,i),u=Sr("BuildInfo.packageName",a);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=Sr("BuildInfo.displayName",a),l={};if(Tr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Tr().toLowerCase().match(/android/))return xe(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new hc;cc(e,t),t=[];var n=8*e.g;cc(e,ac,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(uc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=hu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(tc,s.w(),e)})).then((function(){var e=Sr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Sr("cordova.plugins.browsertab.openUrl",a)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Sr("cordova.InAppBrowser.open",a)))throw new T("invalid-cordova-configuration");e=Tr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new _e((function(t,e){u=function(){var e=Sr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Vr()&&c()},o.addEventListener("resume",c=function(){s||(s=En(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},!1),Tr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return bc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),vc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Mo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Sa=function(t){Y(this.b,(function(e){return e==t}))};var yc={name:"pendingRedirect",F:"session"};function _c(t){return Yu(t.b,yc,t.a)}function wc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Dc,this.C=new Kc,this.g=new mc(Lc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Oc(this.D,this.v,this.m,x,this.J)}function Oc(t,e,n,i,o){var s=r.a.SDK_VERSION||null;return vr()?new dc(t,e,n,s,i,o):new au(t,e,n,s,i,o)}function Ic(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Cc(t){t.a.Xb()&&Ic(t).o((function(e){var n=new Mo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Ac(e)&&t.s(n)})),t.a.Tb()||Mc(t.b)}function Ec(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(yc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?_c(t.g).then((function(){Ic(t).o((function(e){var n=new Mo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Ac(e)&&t.s(n)}))})):Cc(t)})).o((function(){Cc(t)}))}function Tc(t,e){Y(t.h,(function(t){return t==e}))}wc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Oc(this.D,this.v,this.m,null,this.J),this.i={}},wc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=I()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=I())),e=!0;break}}return Mc(this.b),e};var Sc=new Fr(2e3,1e4),xc=new Fr(3e4,6e4);function Pc(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Ac(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function kc(t,e,n,r,i){var o;return function(t){return t.b.set(yc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Ac(e))throw new T("operation-not-supported-in-this-environment");return o=e,_c(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new _e((function(){})):_c(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function jc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Sc.get())}wc.prototype.qa=function(){return this.b.qa()};var Nc={};function Lc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Rc(t,e,n,r){var i=Lc(e,n,r);return Nc[i]||(Nc[i]=new wc(t,e,n,r)),Nc[i]}function Dc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Mc(t){t.g||(t.g=!0,Vc(t,!1,null,null))}function Uc(t){t.g&&!t.i&&Vc(t,!1,null,null)}function Fc(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Vc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return xe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Fc(t,n):Fc(t,{user:null}),t.f=[],t.c=[]}function Kc(){}function qc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Hc(t,e){this.a=e,Jr(this,"verificationId",t)}function Bc(t,e,n,r){return new No(t).fb(e,n).then((function(t){return new Hc(t,r)}))}function zc(t){var e=Ki(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Wr(this,{token:t,expirationTime:Kr(1e3*e.exp),authTime:Kr(1e3*e.auth_time),issuedAtTime:Kr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Gc(t,e,n){var r=e&&e[Wc];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new no(null,r),this.b=[];var i=this;B(e[Jc]||[],(function(t){(t=Xr(t))&&i.b.push(t)})),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}Dc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Dc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Vc(this,!0,null,t.a),Se()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Vc(t,a,e,null)})).o((function(e){Vc(t,a,null,e)}))}(this,t,e):xe(new T("invalid-auth-event")):(Vc(this,!1,null,null),Se())}else xe(new T("invalid-auth-event"))},Dc.prototype.qa=function(){var t=this;return new _e((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=En(xc.get()).then((function(){t.b||(t.g=!0,Vc(t,!0,null,e))}))}(t))}))},Kc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Se()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):xe(new T("invalid-auth-event"))}else xe(new T("invalid-auth-event"))},Hc.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var Jc="mfaInfo",Wc="mfaPendingCredential";function Qc(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new Gc(t,e,n),Jr(this,"resolver",this.b)}function Yc(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Qc(e,t.serverResponse,n,t.message)}catch(r){}return null}function $c(){}function Xc(t){Jr(this,"factorId",t.fa),this.a=t}function Zc(t){if(Xc.call(this,t),this.a.fa!=No.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function tl(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function el(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),nl(this,n)}function nl(t,e){t.b=e,Jr(t,"enrolledFactors",e)}function rl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function il(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ol(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function sl(t,e){t.b=Vi(e[Gs]||""),t.a=e.refreshToken,ol(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function al(t,e){this.a=t||null,this.b=e||null,Wr(this,{lastSignInTime:Kr(e||null),creationTime:Kr(t||null)})}function ul(t,e,n,r,i,o){Wr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function cl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.a.SDK_VERSION?Er(r.a.SDK_VERSION):null;this.a=new Bs(this.l,j(x),i),t.emulatorConfig&&Xs(this.a,t.emulatorConfig),this.b=new il(this.a),bl(this,e[Gs]),sl(this.b,e),Jr(this,"refreshToken",this.b.a),_l(this,n||{}),_n.call(this),this.R=!1,this.s&&Pr()&&(this.i=Rc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new rl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=w(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){Xs(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){fl(o,t.f)},this.ba=null,this.O=new el(this,n),Jr(this,"multiFactor",this.O)}function ll(t,e){t.ja&&hn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&un(e,"languageCodeChanged",t.Oa)}function hl(t,e){t.X&&hn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&un(e,"emulatorConfigChanged",t.Aa)}function fl(t,e){t.$=e,ta(t.a,r.a.SDK_VERSION?Er(r.a.SDK_VERSION,t.$):null)}function dl(t,e){t.ba&&hn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&un(e,"frameworkChanged",t.Ba)}function pl(t){try{return r.a.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function gl(t){t.D||t.u.b||(t.u.start(),hn(t,"tokenChanged",t.aa),un(t,"tokenChanged",t.aa))}function vl(t){hn(t,"tokenChanged",t.aa),t.u.stop()}function bl(t,e){t.za=e,Jr(t,"_lat",e)}function ml(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Ae(e).then((function(){return t}))}function yl(t){t.i&&!t.R&&(t.R=!0,Ec(t.i,t))}function _l(t,e){Wr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new al(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function wl(){}function Ol(t){return Se().then((function(){if(t.D)throw new T("app-deleted")}))}function Il(t){return G(t.providerData,(function(t){return t.providerId}))}function Cl(t,e){e&&(El(t,e.providerId),t.providerData.push(e))}function El(t,e){Y(t.providerData,(function(t){return t.providerId==e}))}function Tl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Jr(t,e,n)}function Sl(t,e){t!=e&&(Wr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Jr(t,"metadata",e.metadata?function(t){return new al(t.a,t.b)}(e.metadata):new al),B(e.providerData,(function(e){Cl(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Jr(t,"refreshToken",t.b.a),nl(t.O,e.O.b))}function xl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Ya(t.a,Sa,{idToken:e}).then(w(t.Kc,t))}(t,e).then((function(){return n||Tl(t,"isAnonymous",!1),e}))}))}function Pl(t,e){e[Gs]&&t.za!=e[Gs]&&(sl(t.b,e),t.dispatchEvent(new tl("tokenChanged")),bl(t,e[Gs]),Tl(t,"refreshToken",t.b.a))}function Al(t,e){return xl(t).then((function(){if(W(Il(t),e))return ml(t).then((function(){throw new T("provider-already-linked")}))}))}function kl(t,e,n){return Qr({user:t,credential:Ro(e),additionalUserInfo:e=Gi(e),operationType:n})}function jl(t,e){return Pl(t,e),t.reload().then((function(){return t}))}function Nl(t,e,n,i,o){if(!Pr())return xe(new T("operation-not-supported-in-this-environment"));if(t.h&&!o)return xe(t.h);var s=zi(n.providerId),a=Dr(t.uid+":::"),u=null;(!jr()||br())&&t.s&&n.isOAuthProvider&&(u=hu(t.s,t.l,t.m,e,n,null,a,r.a.SDK_VERSION||null,null,null,t.tenantId));var c=fr(u,s&&s.ua,s&&s.ta);return i=i().then((function(){if(Rl(t),!o)return t.I().then((function(){}))})).then((function(){return Pc(t.i,c,e,n,a,!!u,t.tenantId)})).then((function(){return new _e((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=jc(t.i,t,e,c,a)}))})).then((function(t){return c&&hr(c),t?Qr(t):null})).o((function(t){throw c&&hr(c),t})),Dl(t,i,o)}function Ll(t,e,n,r,i){if(!Pr())return xe(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return xe(t.h);var o=null,s=Dr(t.uid+":::");return r=r().then((function(){if(Rl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,ml(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Fl,t.w(),e.a)),e})).then((function(){return kc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Vl(t.ha);throw o})).then((function(){if(o)throw o})),Dl(t,r,i)}function Rl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Dl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),xe(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new tl("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){Q(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Yc(e.w(),pl(t),w(t.jc,t))),n||e}))}function Ml(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Gs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new cl(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&Cl(i,Qr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Ul(t){this.a=t,this.b=Ju()}Gc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=gt(e.f);return delete n[Jc],delete n[Wc],bt(n,t),e.g(n)}))},C(Qc,T),$c.prototype.sb=function(t,e,n){return e.type==ro?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),bt(n,{phoneVerificationInfo:jo(t.a)}),Ya(e,Ea,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return bt(n={mfaPendingCredential:n},{phoneVerificationInfo:jo(t.a)}),Ya(e,Ta,n)}))}(this,t,e)},C(Xc,$c),C(Zc,Xc),C(tl,Qe),(t=el.prototype).yc=function(t){nl(this,function(t){var e=[];return B(t.mfaInfo||[],(function(t){(t=Xr(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new no(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Pl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Ya(r,Qa,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=z(e.b,(function(t){return t.uid!=n}));return nl(e,r),Pl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(t){return t.w()}))}}},rl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=En(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Vr()||!t?Se():new _e((function(n){e=function(){Vr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},rl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},il.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},il.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?xe(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new _e((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ea(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Xa(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Yn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=Vi(e.access_token),t.a=e.refresh_token,ol(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},al.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(cl,_n),cl.prototype.wa=function(t){this.ya=t,$s(this.a,t)},cl.prototype.la=function(){return this.ya},cl.prototype.Ga=function(){return X(this.$)},cl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Jr(cl.prototype,"providerId","firebase"),(t=cl.prototype).reload=function(){var t=this;return Dl(this,Ol(this).then((function(){return xl(t).then((function(){return ml(t)})).then(wl)})))},t.oc=function(t){return this.I(t).then((function(t){return new zc(t)}))},t.I=function(t){var e=this;return Dl(this,Ol(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(bl(e,t.accessToken),e.dispatchEvent(new tl("tokenChanged"))),Tl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");_l(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,(function(t){return new ul(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Cl(this,e[n]);Tl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new tl("userReloaded",{hd:t}))},t.Lc=function(t){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Dl(this,t.c(this.a,this.uid).then((function(t){return Pl(e,t),n=kl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Dl(this,Al(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=kl(e,t,"link"),jl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Dl(this,Al(this,"phone").then((function(){return Bc(pl(n),t,e,w(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Dl(this,Se().then((function(){return Bc(pl(n),t,e,w(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Dl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Pl(e,t),e.reload()})))},t.ed=function(t){var e=this;return Dl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Pl(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Dl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Pl(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ol(this);var e=this;return Dl(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Pl(e,t),Tl(e,"displayName",t.displayName||null),Tl(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&(Jr(t,"displayName",e.displayName),Jr(t,"photoURL",e.photoURL))})),ml(e)})).then(wl))},t.cd=function(t){var e=this;return Dl(this,xl(this).then((function(n){return W(Il(e),t)?function(t,e,n){return Ya(t,Oa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(Il(e),(function(t){n[t]||El(e,t)})),n[No.PROVIDER_ID]||Jr(e,"phoneNumber",null),ml(e)})):ml(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Dl(this,this.I().then((function(e){return Ya(t.a,wa,{idToken:e})})).then((function(){t.dispatchEvent(new tl("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");ll(t,null),hl(t,null),dl(t,null),t.J=[],t.D=!0,vl(t),Jr(t,"refreshToken",null),t.i&&Tc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):null},t.Ec=function(t){var e=this;return Nl(this,"linkViaPopup",t,(function(){return Al(e,t.providerId).then((function(){return ml(e)}))}),!1)},t.Nc=function(t){return Nl(this,"reauthViaPopup",t,(function(){return Se()}),!0)},t.Fc=function(t){var e=this;return Ll(this,"linkViaRedirect",t,(function(){return Al(e,t.providerId)}),!1)},t.Oc=function(t){return Ll(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Dl(this,this.I().then((function(n){return pa(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=kl(i,t,"link"),jl(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Dl(this,Se().then((function(){return so(ga(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=kl(i,t,"reauthenticate"),Pl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Dl(this,this.I().then((function(e){return n=e,void 0===t||pt(t)?{}:Mi(new Si(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Dl(this,this.I().then((function(t){return r=t,void 0===e||pt(e)?{}:Mi(new Si(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Dl(this,t=so(Se(t),n.uid).then((function(t){return e=kl(n,t,"reauthenticate"),Pl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&bt(t,this.metadata.w()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),bt(t,this.O.w()),t};var Fl={name:"redirectUser",F:"session"};function Vl(t){return Yu(t.b,Fl,t.a)}function Kl(t){this.a=t,this.b=Ju(),this.c=null,this.f=function(t){var e=Bl("local"),n=Bl("session"),r=Bl("none");return function(t,e,n){var r=Qu(e,n),i=Wu(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Rr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Hl,t.a).then((function(t){return t?Bl(t):e}))}))}))})).then((function(e){return t.c=e,ql(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Bl("local"),this.a,w(this.g,this))}function ql(t,e){var n,r=[];for(n in zu)zu[n]!==e&&r.push(Yu(t.b,Bl(zu[n]),t.a));return r.push(Yu(t.b,Hl,t.a)),function(t){return new _e((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Pe(t[a],O(o,a),s);else e(i)}))}(r)}Kl.prototype.g=function(){var t=this,e=Bl("local");Wl(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return ql(t,"local").then((function(){t.c=e}))}))}))};var Hl={name:"persistence",F:"session"};function Bl(t){return{name:"authUser",F:t}}function zl(t,e){return Wl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Gl(t){return Wl(t,(function(){return Yu(t.b,t.c,t.a)}))}function Jl(t,e,n){return Wl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Ml(t||{})}))}))}function Wl(t,e){return t.f=t.f.then(e,e),t.f}function Ql(t){if(this.l=!1,Jr(this,"settings",new qc),Jr(this,"app",t),!rh(this).options||!rh(this).options.apiKey)throw new T("invalid-api-key");t=r.a.SDK_VERSION?Er(r.a.SDK_VERSION):null,this.a=new Bs(rh(this).options&&rh(this).options.apiKey,j(x),t),this.R=[],this.s=[],this.O=[],this.hb=r.a.INTERNAL.createSubscribe(w(this.zc,this)),this.X=void 0,this.bc=r.a.INTERNAL.createSubscribe(w(this.Ac,this)),eh(this,null),this.i=new Kl(rh(this).options.apiKey+":"+rh(this).name),this.D=new Ul(rh(this).options.apiKey+":"+rh(this).name),this.$=ah(this,function(t){var e=rh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Fl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ml(t||{})}))}(t.D,rh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Vl(t.D)}));return ah(t,e)}(t).then((function(){return Jl(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return zl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Gl(t.i)}))):null})).then((function(e){eh(t,e||null)}));return ah(t,n)}(this)),this.h=ah(this,function(t){return t.$.then((function(){return th(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Bl("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.ya=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=rh(t).options.authDomain,n=rh(t).options.apiKey;e&&Pr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Rc(e,n,rh(t).name,t.P),Ec(t.b,t),ih(t)&&yl(ih(t)),t.m){yl(t.m);var r=t.m;r.wa(t.la()),ll(r,t),fl(r=t.m,t.J),dl(r,t),Xs((r=t.m).a,t.P),hl(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Un(this.P.url);t=Qr({protocol:t.c,host:t.a,port:t.g,options:Qr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function Yl(t){Qe.call(this,"languageCodeChanged"),this.h=t}function $l(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function Xl(t){Qe.call(this,"frameworkChanged"),this.f=t}function Zl(t){return t.Oa||xe(new T("auth-domain-config-required"))}function th(t){if(!Pr())return xe(new T("operation-not-supported-in-this-environment"));var e=Zl(t).then((function(){return t.b.qa()})).then((function(t){return t?Qr(t):null}));return ah(t,e)}function eh(t,e){ih(t)&&(function(t,e){Y(t.S,(function(t){return t==e}))}(ih(t),t.Ba),hn(ih(t),"tokenChanged",t.ya),hn(ih(t),"userDeleted",t.za),hn(ih(t),"userInvalidated",t.Aa),vl(ih(t))),e&&(e.S.push(t.Ba),un(e,"tokenChanged",t.ya),un(e,"userDeleted",t.za),un(e,"userInvalidated",t.Aa),0<t.u&&gl(e)),Jr(t,"currentUser",e),e&&(e.wa(t.la()),ll(e,t),fl(e,t.J),dl(e,t),Xs(e.a,t.P),hl(e,t))}function nh(t,e){var n=null,r=null;return ah(t,e.then((function(e){return n=Ro(e),r=Gi(e),function(t,e){var n={};return n.apiKey=rh(t).options.apiKey,n.authDomain=rh(t).options.authDomain,n.appName=rh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new cl(t,e);return n&&(i.ha=n),r&&fl(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return ih(t)&&e.uid==ih(t).uid?(Sl(ih(t),e),t.da(e)):(eh(t,e),yl(e),t.da(e))})).then((function(){sh(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Yc(e.w(),t,w(t.kc,t))),n||e})).then((function(){return Qr({user:ih(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function rh(t){return t.app}function ih(t){return t.currentUser}function oh(t){return ih(t)&&ih(t)._lat||null}function sh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](oh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](oh(t))}}function ah(t,e){return t.R.push(e),e.oa((function(){Q(t.R,e)})),e}function uh(){}function ch(){this.a={},this.b=1e12}Kl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in zu)if(zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(yr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Cu()&&"none"!==t)throw n;break;default:if(!xr()&&"none"!==t)throw n}}(t),Wl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,ql(n,t)})).then((function(){if(n.c=Bl(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},C(Ql,_n),C(Yl,Qe),C($l,Qe),C(Xl,Qe),(t=Ql.prototype).xb=function(t){return ah(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,$s(this.a,this.aa),this.dispatchEvent(new Yl(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&gr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,Xs(this.a,this.P),this.dispatchEvent(new $l(this.P))}},t.Gc=function(t){this.J.push(t),ta(this.a,r.a.SDK_VERSION?Er(r.a.SDK_VERSION,this.J):null),this.dispatchEvent(new Xl(this.J))},t.Ga=function(){return X(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:rh(this).options.apiKey,authDomain:rh(this).options.authDomain,appName:rh(this).name,currentUser:ih(this)&&ih(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return nh(i,da(i.a,o))}))},t.Xc=function(t){if(!Pr())return xe(new T("operation-not-supported-in-this-environment"));var e=this,n=zi(t.providerId),i=Dr(),o=null;(!jr()||br())&&rh(this).options.authDomain&&t.isOAuthProvider&&(o=hu(rh(this).options.authDomain,rh(this).options.apiKey,rh(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.T(),this.P));var s=fr(o,n&&n.ua,n&&n.ta);return ah(this,n=Zl(this).then((function(n){return Pc(n,s,"signInViaPopup",t,i,!!o,e.T())})).then((function(){return new _e((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=jc(e.b,e,"signInViaPopup",s,i)}))})).then((function(t){return s&&hr(s),t?Qr(t):null})).o((function(t){throw s&&hr(s),t})))},t.Yc=function(t){if(!Pr())return xe(new T("operation-not-supported-in-this-environment"));var e=this;return ah(this,Zl(this).then((function(){return function(t){return Wl(t,(function(){return t.b.set(Hl,t.c.F,t.a)}))}(e.i)})).then((function(){return kc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return th(this).then((function(e){return t.b&&Uc(t.b.b),e})).o((function(e){throw t.b&&Uc(t.b.b),e}))},t.dd=function(t){if(!t)return xe(new T("null-user"));if(this.S!=t.tenantId)return xe(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=rh(this).options.apiKey,n.authDomain=rh(this).options.authDomain,n.appName=rh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Gs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new cl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&fl(e,r),Sl(e,t),e}(t,n,e.D,e.Ga());return ah(this,this.h.then((function(){if(rh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return ih(e)&&t.uid==ih(e).uid?(Sl(ih(e),t),e.da(t)):(eh(e,r),yl(r),e.da(r))})).then((function(){sh(e)})))},t.Ab=function(){var t=this;return ah(this,this.h.then((function(){return t.b&&Uc(t.b.b),ih(t)?(eh(t,null),Gl(t.i).then((function(){sh(t)}))):Se()})))},t.Zc=function(){var t=this;return Jl(this.i,rh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=ih(t)&&e){n=ih(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Sl(ih(t),e),ih(t).I();(ih(t)||e)&&(eh(t,e),e&&(yl(e),e.ha=t.D),t.b&&Ec(t.b,t),sh(t))}}))},t.da=function(t){return zl(this.i,t)},t.mc=function(){sh(this),this.da(ih(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return nh(e,Se(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(ih(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),ah(t,t.h.then((function(){!t.l&&W(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(oh(t)))})))}(this,(function(){t.next(ih(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(ih(r)):"function"==typeof t.next&&t.next(ih(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(ih(r)):"function"==typeof t.next&&t.next(ih(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return ah(this,this.h.then((function(){return ih(e)?ih(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return nh(e,Ya(e.a,Ba,{token:t}))})).then((function(t){var n=t.user;return Tl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return nh(n,Ya(n.a,za,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return nh(n,Ya(n.a,ya,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return nh(e,t.ka(e.a))}))},t.Sc=function(t){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=ih(t);if(e&&e.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return nh(t,t.a.zb()).then((function(e){var n=e.user;return Tl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return ih(this)&&ih(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ih(this)&&gl(ih(this))},t.Pc=function(t){var e=this;B(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&ih(this)&&vl(ih(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),ah(this,this.h.then((function(){e.l||W(e.s,t)&&t(oh(e))})))},t.removeAuthTokenListener=function(t){Y(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Bl("local"),t.a,this.ja),this.b&&(Tc(this.b,this),Uc(this.b.b)),Promise.resolve()},t.hc=function(t){return ah(this,function(t,e){return Ya(t,_a,{identifier:e,continueUri:Ar()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Po(t)},t.wb=function(t,e){var n=this;return ah(this,Se().then((function(){var t=new Si(e);if(!t.c)throw new T("argument-error",Ai+" must be true when sending sign in link to email");return Mi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return ah(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return ah(this,this.a.Ra(t).then((function(t){return new ii(t)})))},t.jb=function(t){return ah(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return ah(this,Se().then((function(){return void 0===e||pt(e)?{}:Mi(new Si(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return ah(this,Bc(this,t,e,w(this.$a,this)))},t.Vc=function(t,e){var n=this;return ah(this,Se().then((function(){var r=e||ur(),i=xo(t,r);if(!(r=Po(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(i)})))},uh.prototype.render=function(){},uh.prototype.reset=function(){},uh.prototype.getResponse=function(){},uh.prototype.execute=function(){};var lh=null;function hh(t,e){return(e=fh(e))&&t.a[e]||null}function fh(t){return(t=void 0===t?1e12:t)?t.toString():null}function dh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function ph(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function gh(){}function vh(){}ch.prototype.render=function(t,e){return this.a[this.b.toString()]=new dh(t,e),this.b++},ch.prototype.reset=function(t){var e=hh(this,t);t=fh(t),e&&t&&(e.delete(),delete this.a[t])},ch.prototype.getResponse=function(t){return(t=hh(this,t))?t.getResponse():null},ch.prototype.execute=function(t){(t=hh(this,t))&&t.execute()},dh.prototype.getResponse=function(){return ph(this),this.b},dh.prototype.execute=function(){ph(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},dh.prototype.delete=function(){ph(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Jr(gh,"FACTOR_ID","phone"),vh.prototype.g=function(){return lh||(lh=new ch),Se(lh)},vh.prototype.c=function(){};var bh=null;function mh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yh=new yt(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_h=new Fr(3e4,6e4);mh.prototype.g=function(t){var e=this;return new _e((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),_h.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete a[e.a]},Se(Ms(St(yh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},mh.prototype.c=function(){this.b--};var wh=null;function Oh(t,e,n,r,i,o,s){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(bh||(bh=new vh),s=bh):(wh||(wh=new mh),s=wh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Eh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Th],!a.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Bs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ih];this.a[Ih]=function(t){if(Sh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Sr(c,a);"function"==typeof e&&e(t)}};var l=this.a[Ch];this.a[Ch]=function(){if(Sh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Sr(l,a);"function"==typeof t&&t()}}}var Ih="callback",Ch="expired-callback",Eh="sitekey",Th="size";function Sh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function xh(t,e){return t.h.push(e),e.oa((function(){Q(t.h,e)})),e}function Ph(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ah(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(a){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.a.SDK_VERSION?Er(r.a.SDK_VERSION,s):null,Oh.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),s,j(x),i)}function kh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=jh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=jh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Oh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=xh(this,Se().then((function(){if(Ar()&&!mr())return gr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,Ya(t.s,Na,{})})).then((function(e){t.a[Eh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Ph(this);var t=this;return xh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Bt(s.name),'"'),s.type){o.push(' type="',Bt(s.type),'"');var a={};bt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ce(o,s)),2<r.length&&de(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Ph(this);var t=this;return xh(this,this.render().then((function(e){return new _e((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Ph(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Ph(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},C(Ah,Oh);var jh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Nh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Lh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Rh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function Dh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Mh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Uh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Fh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Vh(t){return g(t)&&"string"==typeof t.uid}function Kh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function qh(t,e){for(var n in e){var r=e[n].name;t[r]=zh(r,t[n],e[n].j)}}function Hh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:O((function(t){return this[t]}),n),set:O((function(t,e,n,r){kh(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function Bh(t,e,n,r){t[e]=zh(e,n,r)}function zh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return kh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}qh(Ql.prototype,{jb:{name:"applyActionCode",j:[Nh("code")]},Ra:{name:"checkActionCode",j:[Nh("code")]},nb:{name:"confirmPasswordReset",j:[Nh("code"),Nh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Nh("email"),Nh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Nh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Nh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Kh(Rh(),Dh(),"nextOrObserver"),Dh("opt_error",!0),Dh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Kh(Rh(),Dh(),"nextOrObserver"),Dh("opt_error",!0),Dh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Nh("email"),Kh(Rh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Nh("email"),Rh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Nh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Uh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Uh()]},Tc:{name:"signInWithCustomToken",j:[Nh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Nh("email"),Nh("password")]},Vc:{name:"signInWithEmailLink",j:[Nh("email"),Nh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Kh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof cl)}},Mh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Nh("url"),Rh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Nh("code")]}}),Hh(Ql.prototype,{lc:{name:"languageCode",kb:Kh(Nh(),Mh(),"languageCode")},ti:{name:"tenantId",kb:Kh(Nh(),Mh(),"tenantId")}}),(Ql.Persistence=zu).LOCAL="local",Ql.Persistence.SESSION="session",Ql.Persistence.NONE="none",qh(cl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Lh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Lh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Uh()]},qb:{name:"linkWithCredential",j:[Uh()]},Dc:{name:"linkWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Uh()]},tb:{name:"reauthenticateWithCredential",j:[Uh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Kh(Rh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},cd:{name:"unlink",j:[Nh("provider")]},Bb:{name:"updateEmail",j:[Nh("email")]},Cb:{name:"updatePassword",j:[Nh("password")]},ed:{name:"updatePhoneNumber",j:[Uh("phone")]},Db:{name:"updateProfile",j:[Rh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Nh("email"),Kh(Rh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]}}),qh(ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(uh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Hh(qc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Lh("appVerificationDisabledForTesting")}}),qh(Hc.prototype,{confirm:{name:"confirm",j:[Nh("verificationCode")]}}),Bh(oo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[fo,To,ko,co],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Kh(Nh(),Rh(),"json")]),Bh(So,"credential",(function(t,e){return new Eo(t,e)}),[Nh("email"),Nh("password")]),qh(Eo.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),qh(bo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[Rh("customOAuthParameters")]}}),Bh(bo,"credential",mo,[Kh(Nh(),Rh(),"token")]),Bh(So,"credentialWithLink",xo,[Nh("email"),Nh("emailLink")]),qh(yo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[Rh("customOAuthParameters")]}}),Bh(yo,"credential",_o,[Kh(Nh(),Rh(),"token")]),qh(wo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[Rh("customOAuthParameters")]}}),Bh(wo,"credential",Oo,[Kh(Nh(),Kh(Rh(),Mh()),"idToken"),Kh(Nh(),Mh(),"accessToken",!0)]),qh(Io.prototype,{Ka:{name:"setCustomParameters",j:[Rh("customOAuthParameters")]}}),Bh(Io,"credential",Co,[Kh(Nh(),Rh(),"token"),Nh("secret",!0)]),qh(vo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},credential:{name:"credential",j:[Kh(Nh(),Kh(Rh(),Mh()),"optionsOrIdToken"),Kh(Nh(),Mh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Rh("customOAuthParameters")]}}),qh(lo.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),qh(ao.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),Bh(No,"credential",Lo,[Nh("verificationId"),Nh("verificationCode")]),qh(No.prototype,{fb:{name:"verifyPhoneNumber",j:[Kh(Nh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Fh(t.session,ro)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Fh(t.session,io)&&Vh(t.multiFactorHint):t.session&&t.multiFactorUid?Fh(t.session,io)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),qh(Ao.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),qh(T.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh(Ho.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh(qo.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh(Qc.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh(Gc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),qh(el.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Nh("displayName",!0)]},bd:{name:"unenroll",j:[Kh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Vh},Nh(),"multiFactorInfoIdentifier")]}}),qh(Ah.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Bh(mi,"parseLink",Ti,[Nh("link")]),Bh(gh,"assertion",(function(t){return new Zc(t)}),[Uh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ql,AuthCredential:oo,Error:T};Bh(t,"EmailAuthProvider",So,[]),Bh(t,"FacebookAuthProvider",bo,[]),Bh(t,"GithubAuthProvider",yo,[]),Bh(t,"GoogleAuthProvider",wo,[]),Bh(t,"TwitterAuthProvider",Io,[]),Bh(t,"OAuthProvider",vo,[Nh("providerId")]),Bh(t,"SAMLAuthProvider",go,[Nh("providerId")]),Bh(t,"PhoneAuthProvider",No,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Ql)}}]),Bh(t,"RecaptchaVerifier",Ah,[Kh(Nh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Rh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Bh(t,"ActionCodeURL",mi,[]),Bh(t,"PhoneMultiFactorGenerator",gh,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Ql(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.16.4"),r.a.INTERNAL.extendNamespace({User:cl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function v(t,e=0){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.m)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.k)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.k)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.n)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.n)(e,t)},createSubscribe:s.l,ErrorFactory:s.b,deepExtend:s.n}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.r)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.y)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var _=v;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new b(t)}),"PRIVATE")),t.registerVersion(h,"0.6.16",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Pb)(l)}const c=new r.q("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(s))},t.\u0275prov=Object(r.Eb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Pb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Pb)(s).location;return new y(Object(r.Pb)(a),e&&e.origin||"")}const m=new r.q("appBaseHref");let y=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(m,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(m,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(I(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,I(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(v),r.Pb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Eb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new w(Object(r.Pb)(v),Object(r.Pb)(a))}function I(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const E=r.lb;class T{}let S=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(E(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),x=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new P,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){A("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){A("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class P{constructor(){this.$implicit=null,this.ngIf=null}}function A(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let k=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:S}]}),t})();function j(t){return"server"===t}let N=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new L(Object(r.Pb)(s),window,Object(r.Pb)(r.m))}),t})();class L{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=R(this.window.history)||R(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function R(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class D extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new D,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=U||(U=document.querySelector("base"),U)?U.getAttribute("href"):null;return null==e?null:(n=e,M||(M=document.createElement("a")),M.setAttribute("href",n),"/"===M.pathname.charAt(0)?M.pathname:"/"+M.pathname);var n}resetBaseElement(){U=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let M,U=null;const F=new r.q("TRANSITION_ID"),V=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[F,s,r.r],multi:!0}];class K{static init(){Object(r.W)(new K)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const q=new r.q("EventManagerPlugins");let H=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(q),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class B{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let z=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),G=(()=>{class t extends z{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(s))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const J={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},W=/%COMP%/g;function Q(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Q(t,i,n):(i=i.replace(W,t),n.push(i))}return n}function Y(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let $=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new X(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Z(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new tt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Q(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(H),r.Pb(G),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class X{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(J[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=J[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=J[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Y(n)):this.eventManager.addEventListener(t,e,Y(n))}}class Z extends X{constructor(t,e,n,r){super(t),this.component=n;const i=Q(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(W,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(W,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class tt extends X{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=Q(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let et=(()=>{class t extends B{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(s))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const nt=["alt","control","meta","shift"],rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},it={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ot={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let st=(()=>{class t extends B{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(nt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&it.hasOwnProperty(e)&&(e=it[e]))}return rt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),nt.forEach(r=>{r!=n&&(0,ot[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(s))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const at=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){D.makeCurrent(),K.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],ut=Object(r.R)(r.V,"browser",at),ct=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:q,useClass:et,multi:!0,deps:[s,r.z,r.B]},{provide:q,useClass:st,multi:!0,deps:[s]},[],{provide:$,useClass:$,deps:[H,G,r.c]},{provide:r.E,useExisting:$},{provide:z,useExisting:G},{provide:G,useClass:G,deps:[s]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:H,useClass:H,deps:[q,r.z]},[]];let lt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:F,useExisting:r.c},V]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:ct,imports:[k,r.f]}),t})();"undefined"!=typeof window&&window;var ht=n("HDdC"),ft=n("DH7j"),dt=n("lJxs"),pt=n("XoHu"),gt=n("Cfvw");function vt(t,e){return new ht.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(gt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const bt=new r.q("NgValueAccessor"),mt={provide:bt,useExisting:Object(r.T)(()=>yt),multi:!0};let yt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([mt])]}),t})();const _t={provide:bt,useExisting:Object(r.T)(()=>Ot),multi:!0},wt=new r.q("CompositionEventMode");let Ot=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(wt,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.xb([_t])]}),t})(),It=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),Ct=(()=>{class t extends It{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Et(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const Et=r.Nb(Ct);class Tt extends It{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class St{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let xt=(()=>{class t extends St{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Tt,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),Pt=(()=>{class t extends St{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ct,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();function At(t){return null==t||0===t.length}function kt(t){return null!=t&&"number"==typeof t.length}const jt=new r.q("NgValidators"),Nt=new r.q("NgAsyncValidators"),Lt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Rt{static min(t){return e=>{if(At(e.value)||At(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(At(e.value)||At(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return At(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return At(t.value)||Lt.test(t.value)?null:{email:!0}}static minLength(t){return e=>At(e.value)||!kt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>kt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Rt.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(At(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Dt);return 0==e.length?null:function(t){return Ut(Ft(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Dt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(ft.a)(e))return vt(e,null);if(Object(pt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return vt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return vt(t=1===t.length&&Object(ft.a)(t[0])?t[0]:t,null).pipe(Object(dt.a)(t=>e(...t)))}return vt(t,null)}(Ft(t,e).map(Mt)).pipe(Object(dt.a)(Ut))}}}function Dt(t){return null!=t}function Mt(t){const e=Object(r.qb)(t)?Object(gt.a)(t):t;return Object(r.pb)(e),e}function Ut(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ft(t,e){return e.map(e=>e(t))}function Vt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const Kt={provide:bt,useExisting:Object(r.T)(()=>qt),multi:!0};let qt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([Kt])]}),t})();const Ht={provide:bt,useExisting:Object(r.T)(()=>zt),multi:!0};let Bt=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),zt=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Tt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Bt),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([Ht])]}),t})();const Gt={provide:bt,useExisting:Object(r.T)(()=>Jt),multi:!0};let Jt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([Gt])]}),t})();const Wt={provide:bt,useExisting:Object(r.T)(()=>Qt),multi:!0};let Qt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([Wt])]}),t})();const Yt={provide:bt,useExisting:Object(r.T)(()=>$t),multi:!0};let $t=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([Yt])]}),t})();function Xt(t,e){t.validator=Rt.compose([t.validator,e.validator]),t.asyncValidator=Rt.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Zt(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Zt(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Zt(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function te(t){return null!=t?Rt.compose(Vt(t)):null}function ee(t){return null!=t?Rt.composeAsync(Vt(t)):null}const ne=[yt,Jt,qt,Qt,$t,zt],re="VALID",ie="INVALID",oe="PENDING",se="DISABLED";function ae(t){return(he(t)?t.validators:t)||null}function ue(t){return Array.isArray(t)?te(t):t||null}function ce(t,e){return(he(e)?e.asyncValidators:t)||null}function le(t){return Array.isArray(t)?ee(t):t||null}function he(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class fe{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ue(this._rawValidators),this._composedAsyncValidatorFn=le(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===re}get invalid(){return this.status===ie}get pending(){return this.status==oe}get disabled(){return this.status===se}get enabled(){return this.status!==se}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ue(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=le(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=oe,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=se,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=re,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==re&&this.status!==oe||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?se:re}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=oe,this._hasOwnPendingAsyncValidator=!0;const e=Mt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof pe?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof ge&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?se:this.errors?ie:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oe)?oe:this._anyControlsHaveStatus(ie)?ie:re}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){he(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class de extends fe{constructor(t=null,e,n){super(ae(e),ce(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class pe extends fe{constructor(t,e,n){super(ae(e),ce(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof de?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ge extends fe{constructor(t,e,n){super(ae(e),ce(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof de?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const ve={provide:Ct,useExisting:Object(r.T)(()=>me)},be=(()=>Promise.resolve(null))();let me=(()=>{class t extends Ct{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new pe({},te(t),ee(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){be.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Xt(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){be.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){be.then(()=>{const e=this._findContainer(t.path),n=new pe({});(function(t,e){t.validator=Rt.compose([t.validator,e.validator]),t.asyncValidator=Rt.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){be.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){be.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(jt,10),r.Ib(Nt,10))},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([ve]),r.vb]}),t})();const ye={provide:Tt,useExisting:Object(r.T)(()=>we)},_e=(()=>Promise.resolve(null))();let we=(()=>{class t extends Tt{constructor(t,e,n,i){super(),this.control=new de,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Ot?n=t:(e=t,ne.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return te(this._rawValidators)}get asyncValidator(){return ee(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){_e.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;_e.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ct,9),r.Ib(jt,10),r.Ib(Nt,10),r.Ib(bt,10))},t.\u0275dir=r.Db({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([ye]),r.vb,r.wb]}),t})(),Oe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Ie=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),Ce=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Bt],imports:[Ie]}),t})();var Ee=n("spgP"),Te=n("LRne"),Se=n("XNiG"),xe=n("9ppp");class Pe extends Se.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xe.a;return this._value}next(t){super.next(this._value=t)}}var Ae=n("z+Ro"),ke=n("7o/Q");class je extends ke.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ne extends ke.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Le=n("SeVD");function Re(t,e,n,r,i=new Ne(t,n,r)){if(!i.closed)return e instanceof ht.a?e.subscribe(i):Object(Le.a)(e)(i)}var De=n("yCtX");const Me={};class Ue{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Fe(t,this.resultSelector))}}class Fe extends je{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Me),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Re(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Me?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ve=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ke=n("EY2u");function qe(t){return new ht.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(gt.a)(n):Object(Ke.b)()).subscribe(e)})}var He=n("bHdf");function Be(){return Object(He.a)(1)}function ze(t,e){return function(n){return n.lift(new Ge(t,e))}}class Ge{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Je(t,this.predicate,this.thisArg))}}class Je extends ke.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const We=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Qe(t){return function(e){return 0===t?Object(Ke.b)():e.lift(new Ye(t))}}class Ye{constructor(t){if(this.total=t,this.total<0)throw new We}call(t,e){return e.subscribe(new $e(t,this.total))}}class $e extends ke.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Xe(t=en){return e=>e.lift(new Ze(t))}class Ze{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new tn(t,this.errorFactory))}}class tn extends ke.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(My){t=My}this.destination.error(t)}}}function en(){return new Ve}function nn(t=null){return e=>e.lift(new rn(t))}class rn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new on(t,this.defaultValue))}}class on extends ke.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var sn=n("SpAZ"),an=n("zx2A");function un(t,e){return"function"==typeof e?n=>n.pipe(un((n,r)=>Object(gt.a)(t(n,r)).pipe(Object(dt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new cn(t))}class cn{constructor(t){this.project=t}call(t,e){return e.subscribe(new ln(t,this.project))}}class ln extends an.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new an.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(an.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function hn(t){return e=>0===t?Object(Ke.b)():e.lift(new fn(t))}class fn{constructor(t){if(this.total=t,this.total<0)throw new We}call(t,e){return e.subscribe(new dn(t,this.total))}}class dn extends ke.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function pn(...t){return Be()(Object(Te.a)(...t))}function gn(...t){const e=t[t.length-1];return Object(Ae.a)(e)?(t.pop(),n=>pn(t,n,e)):e=>pn(t,e)}function vn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new bn(t,e,n))}}class bn{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new mn(t,this.accumulator,this.seed,this.hasSeed))}}class mn extends ke.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function yn(t){return function(e){const n=new _n(t),r=e.lift(n);return n.caught=r}}class _n{constructor(t){this.selector=t}call(t,e){return e.subscribe(new wn(t,this.selector,this.caught))}}class wn extends an.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new an.a(this);this.add(r);const i=Object(an.c)(n,r);i!==r&&this.add(i)}}}var On=n("5+tZ");function In(t,e){return Object(On.a)(t,e,1)}function Cn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ze((e,n)=>t(e,n,r)):sn.a,hn(1),n?nn(e):Xe(()=>new Ve))}var En=n("vkgz"),Tn=n("quSY");class Sn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new xn(t,this.callback))}}class xn extends ke.a{constructor(t,e){super(t),this.add(new Tn.a(e))}}class Pn{constructor(t,e){this.id=t,this.url=e}}class An extends Pn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kn extends Pn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jn extends Pn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nn extends Pn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ln extends Pn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rn extends Pn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dn extends Pn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mn extends Pn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Un extends Pn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fn{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vn{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bn{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Gn="primary";class Jn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Wn(t){return new Jn(t)}function Qn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Yn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function $n(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Xn(t[i],e[i]))return!1;return!0}function Xn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Zn(t){return Array.prototype.concat.apply([],t)}function tr(t){return t.length>0?t[t.length-1]:null}function er(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function nr(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(gt.a)(Promise.resolve(t)):Object(Te.a)(t)}function rr(t,e,n){return n?function(t,e){return $n(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!ar(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Xn(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!ar(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!ar(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!ar(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class ir{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wn(this.queryParams)),this._queryParamMap}toString(){return hr.serialize(this)}}class or{constructor(t,e){this.segments=t,this.children=e,this.parent=null,er(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fr(this)}}class sr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Wn(this.parameters)),this._parameterMap}toString(){return mr(this)}}function ar(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function ur(t,e){let n=[];return er(t.children,(t,r)=>{r===Gn&&(n=n.concat(e(t,r)))}),er(t.children,(t,r)=>{r!==Gn&&(n=n.concat(e(t,r)))}),n}class cr{}class lr{parse(t){const e=new Ir(t);return new ir(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return fr(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return er(e.children,(e,n)=>{n!==Gn&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=ur(e,(n,r)=>r===Gn?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${fr(e)}/${n[0]}`:`${fr(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${pr(e)}=${pr(t)}`).join("&"):`${pr(e)}=${pr(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const hr=new lr;function fr(t){return t.segments.map(t=>mr(t)).join("/")}function dr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pr(t){return dr(t).replace(/%3B/gi,";")}function gr(t){return dr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vr(t){return decodeURIComponent(t)}function br(t){return vr(t.replace(/\+/g,"%20"))}function mr(t){return`${gr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${gr(t)}=${gr(e[t])}`).join("")}`;var e}const yr=/^[^\/()?;=#]+/;function _r(t){const e=t.match(yr);return e?e[0]:""}const wr=/^[^=?&#]+/,Or=/^[^?&#]+/;class Ir{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new or([],{}):new or([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new or(t,e)),n}parseSegment(){const t=_r(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new sr(vr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=_r(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=_r(this.remaining);t&&(n=t,this.capture(n))}t[vr(e)]=vr(n)}parseQueryParam(t){const e=function(t){const e=t.match(wr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Or);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=br(e),i=br(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=_r(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Gn);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new or([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Cr{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Er(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Er(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Tr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Tr(t,this._root).map(t=>t.value)}}function Er(t,e){if(t===e.value)return e;for(const n of e.children){const e=Er(t,n);if(e)return e}return null}function Tr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Tr(t,n);if(r.length)return r.unshift(e),r}return[]}class Sr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function xr(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Pr extends Cr{constructor(t,e){super(t),this.snapshot=e,Rr(this,t)}toString(){return this.snapshot.toString()}}function Ar(t,e){const n=function(t,e){const n=new Nr([],{},{},"",{},Gn,e,null,t.root,-1,{});return new Lr("",new Sr(n,[]))}(t,e),r=new Pe([new sr("",{})]),i=new Pe({}),o=new Pe({}),s=new Pe({}),a=new Pe(""),u=new kr(r,i,s,a,o,Gn,e,n.root);return u.snapshot=n.root,new Pr(new Sr(u,[]),n)}class kr{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(dt.a)(t=>Wn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(dt.a)(t=>Wn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jr(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Nr{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lr extends Cr{constructor(t,e){super(e),this.url=t,Rr(this,e)}toString(){return Dr(this._root)}}function Rr(t,e){e.value._routerState=t,e.children.forEach(e=>Rr(t,e))}function Dr(t){const e=t.children.length>0?` { ${t.children.map(Dr).join(", ")} } `:"";return`${t.value}${e}`}function Mr(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$n(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),$n(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$n(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),$n(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ur(t,e){return $n(t.params,e.params)&&function(t,e){return ar(t,e)&&t.every((t,n)=>$n(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Ur(t.parent,e.parent))}function Fr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Vr(t,e,n,r,i){let o={};return r&&er(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new ir(n.root===t?e:function t(e,n,r){const i={};return er(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new or(e.segments,i)}(n.root,t,e),o,i)}class Kr{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Fr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==tr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Hr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Br(t,e,n){if(t||(t=new or([],{})),0===t.segments.length&&t.hasChildren())return zr(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=Hr(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!Qr(s,a,e))return o;r+=2}else{if(!Qr(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new or(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new or(t.segments.slice(r.pathIndex),t.children),zr(e,0,i)}return r.match&&0===i.length?new or(t.segments,{}):r.match&&!t.hasChildren()?Gr(t,e,n):r.match?zr(t,0,i):Gr(t,e,n)}function zr(t,e,n){if(0===n.length)return new or(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[Gn]:t}}(n),i={};return er(r,(n,r)=>{null!==n&&(i[r]=Br(t.children[r],e,n))}),er(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new or(t.segments,i)}}function Gr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=Jr(n[i].outlets);return new or(r,t)}if(0===i&&Fr(n[0])){r.push(new sr(t.segments[e].path,n[0])),i++;continue}const o=Hr(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Fr(s)?(r.push(new sr(o,Wr(s))),i+=2):(r.push(new sr(o,{})),i++)}return new or(r,{})}function Jr(t){const e={};return er(t,(t,n)=>{null!==t&&(e[n]=Gr(new or([],{}),0,t))}),e}function Wr(t){const e={};return er(t,(t,n)=>e[n]=""+t),e}function Qr(t,e,n){return t==n.path&&$n(e,n.parameters)}class Yr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Mr(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=xr(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),er(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=xr(t),i=t.value.component?n.children:e;er(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=xr(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Bn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new qn(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Mr(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),$r(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function $r(t){Mr(t.value),t.children.forEach($r)}class Xr{constructor(t,e){this.routes=t,this.module=e}}function Zr(t){return"function"==typeof t}function ti(t){return t instanceof ir}const ei=Symbol("INITIAL_VALUE");function ni(){return un(t=>function(...t){let e=void 0,n=void 0;return Object(Ae.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(ft.a)(t[0])&&(t=t[0]),Object(De.a)(t,n).lift(new Ue(e))}(...t.map(t=>t.pipe(hn(1),gn(ei)))).pipe(vn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ei)return t;if(r===ei&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ti(r))return r}return t},t)},ei),ze(t=>t!==ei),Object(dt.a)(t=>ti(t)?t:!0===t),hn(1)))}class ri{constructor(t){this.segmentGroup=t||null}}class ii{constructor(t){this.urlTree=t}}function oi(t){return new ht.a(e=>e.error(new ri(t)))}function si(t){return new ht.a(e=>e.error(new ii(t)))}function ai(t){return new ht.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class ui{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Gn).pipe(Object(dt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(yn(t=>{if(t instanceof ii)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ri)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Gn).pipe(Object(dt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(yn(t=>{if(t instanceof ri)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new or([],{[Gn]:t}):t;return new ir(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(dt.a)(t=>new or([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Te.a)({});const n=[],r=[],i={};return er(t,(t,o)=>{const s=e(o,t).pipe(Object(dt.a)(t=>i[o]=t));o===Gn?n.push(s):r.push(s)}),Te.a.apply(null,n.concat(r)).pipe(Be(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ze((e,n)=>t(e,n,r)):sn.a,Qe(1),n?nn(e):Xe(()=>new Ve))}(),Object(dt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(Te.a)(...n).pipe(In(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(yn(t=>{if(t instanceof ri)return Object(Te.a)(null);throw t}))),Cn(t=>!!t),yn((t,n)=>{if(t instanceof Ve||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Te.a)(new or([],{}));throw new ri(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return fi(r)!==o?oi(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):oi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?si(i):this.lineralizeSegments(n,i).pipe(Object(On.a)(n=>{const i=new or(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=ci(e,r,i);if(!s)return oi(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?si(l):this.lineralizeSegments(r,l).pipe(Object(On.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(dt.a)(t=>(n._loadedConfig=t,new or(r,{})))):Object(Te.a)(new or(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=ci(e,n,r);if(!i)return oi(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(On.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>hi(t,e,n)&&fi(n)!==Gn)}(t,n,r)?{segmentGroup:li(new or(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&fi(r)!==Gn&&(n[fi(r)]=new or([],{}));return n}(r,new or(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>hi(t,e,n))}(t,n,r)?{segmentGroup:li(new or(t.segments,function(t,e,n,r){const i={};for(const o of n)hi(t,e,o)&&!r[fi(o)]&&(i[fi(o)]=new or([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(dt.a)(t=>new or(o,t))):0===r.length&&0===s.length?Object(Te.a)(new or(o,{})):this.expandSegment(n,i,r,s,Gn,!0).pipe(Object(dt.a)(t=>new or(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Te.a)(new Xr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Te.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(On.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(dt.a)(t=>(e._loadedConfig=t,t))):function(t){return new ht.a(e=>e.error(Qn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Te.a)(new Xr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Te.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Zr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Zr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return nr(o)});return Object(Te.a)(i).pipe(ni(),Object(En.a)(t=>{if(!ti(t))return;const e=Qn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(dt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Te.a)(n);if(r.numberOfChildren>1||!r.children.primary)return ai(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new ir(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return er(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return er(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new or(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function ci(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Yn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function li(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new or(t.segments.concat(e.segments),e.children)}return t}function hi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function fi(t){return t.outlet||Gn}class di{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class pi{constructor(t,e){this.component=t,this.route=e}}function gi(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=xr(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ar(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ar(t.url,e.url)||!$n(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ur(t,e)||!$n(t.queryParams,e.queryParams);case"paramsChange":default:return!Ur(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new di(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new pi(u.outlet.component,a))}else a&&bi(n,u,o),o.canActivateChecks.push(new di(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),er(s,(t,e)=>bi(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function vi(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function bi(t,e,n){const r=xr(t),i=t.value;er(r,(t,r)=>{bi(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new pi(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function mi(t,e){return null!==t&&e&&e(new Hn(t)),Object(Te.a)(!0)}function yi(t,e){return null!==t&&e&&e(new Kn(t)),Object(Te.a)(!0)}function _i(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Te.a)(!0);const i=r.map(r=>qe(()=>{const i=vi(r,e,n);let o;if(function(t){return t&&Zr(t.canActivate)}(i))o=nr(i.canActivate(e,t));else{if(!Zr(i))throw new Error("Invalid CanActivate guard");o=nr(i(e,t))}return o.pipe(Cn())}));return Object(Te.a)(i).pipe(ni())}function wi(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>qe(()=>{const i=e.guards.map(i=>{const o=vi(i,e.node,n);let s;if(function(t){return t&&Zr(t.canActivateChild)}(o))s=nr(o.canActivateChild(r,t));else{if(!Zr(o))throw new Error("Invalid CanActivateChild guard");s=nr(o(r,t))}return s.pipe(Cn())});return Object(Te.a)(i).pipe(ni())}));return Object(Te.a)(i).pipe(ni())}class Oi{}class Ii{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Ti(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Gn),n=new Nr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Gn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Sr(n,e),i=new Lr(this.url,r);return this.inheritParamsAndData(i._root),Object(Te.a)(i)}catch(My){return new ht.a(e=>e.error(My))}}inheritParamsAndData(t){const e=t.value,n=jr(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=ur(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Gn?-1:e.value.outlet===Gn?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(My){if(!(My instanceof Oi))throw My}if(this.noLeftoversInUrl(e,n,r))return[];throw new Oi}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Oi;if((t.outlet||Gn)!==r)throw new Oi;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?tr(n).parameters:{};i=new Nr(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Pi(t),r,t.component,t,Ci(e),Ei(e)+n.length,Ai(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Oi;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Yn)(n,t,e);if(!r)throw new Oi;const i={};er(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Nr(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Pi(t),r,t.component,t,Ci(e),Ei(e)+o.length,Ai(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Ti(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Sr(i,t)]}if(0===a.length&&0===c.length)return[new Sr(i,[])];const l=this.processSegment(a,u,c,Gn);return[new Sr(i,l)]}}function Ci(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ei(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ti(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Si(t,e,n)&&xi(n)!==Gn)}(t,n,r)){const i=new or(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&xi(o)!==Gn){const n=new or([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[xi(o)]=n}return i}(t,e,r,new or(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Si(t,e,n))}(t,n,r)){const o=new or(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Si(t,n,a)&&!i[xi(a)]){const n=new or([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[xi(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new or(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Si(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function xi(t){return t.outlet||Gn}function Pi(t){return t.data||{}}function Ai(t){return t.resolve||{}}function ki(t){return function(e){return e.pipe(un(e=>{const n=t(e);return n?Object(gt.a)(n).pipe(Object(dt.a)(()=>e)):Object(gt.a)([e])}))}}class ji extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let Ni=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[Qi]},encapsulation:2}),t})();function Li(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ri(r,Di(e,r))}}function Ri(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Gn)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Li(t.children,e)}function Di(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Mi(t){const e=t.children&&t.children.map(Mi),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Gn&&(n.component=Ni),n}const Ui=new r.q("ROUTES");class Fi{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(dt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Xr(Zn(r.injector.get(Ui)).map(Mi),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(gt.a)(this.loader.load(t)):nr(t()).pipe(Object(On.a)(t=>t instanceof r.v?Object(Te.a)(t):Object(gt.a)(this.compiler.compileModuleAsync(t))))}}class Vi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ki,this.attachRef=null}}class Ki{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Vi,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class qi{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Hi(t){throw t}function Bi(t,e,n){return e.parse("/")}function zi(t,e){return Object(Te.a)(null)}let Gi=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Se.a,this.errorHandler=Hi,this.malformedUriErrorHandler=Bi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zi,afterPreactivation:zi},this.urlHandlingStrategy=new qi,this.routeReuseStrategy=new ji,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new ir(new or([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Fi(s,a,t=>this.triggerEvent(new Fn(t)),t=>this.triggerEvent(new Vn(t))),this.routerState=Ar(this.currentUrlTree,this.rootComponentType),this.transitions=new Pe({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ze(t=>0!==t.id),Object(dt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),un(t=>{let n=!1,r=!1;return Object(Te.a)(t).pipe(Object(En.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),un(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Te.a)(t).pipe(un(t=>{const n=this.transitions.getValue();return e.next(new An(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ke.a:[t]}),un(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(un(t=>function(t,e,n,r,i){return new ui(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(dt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(En.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(On.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Ii(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(dt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(En.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(En.a)(t=>{const n=new Ln(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new An(n,this.serializeUrl(r),i,o);e.next(a);const u=Ar(r,this.rootComponentType).snapshot;return Object(Te.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ke.a}),ki(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(En.a)(t=>{const e=new Rn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(dt.a)(t=>Object.assign(Object.assign({},t),{guards:gi(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(On.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Te.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(gt.a)(t).pipe(Object(On.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Te.a)(!0);const s=o.map(o=>{const s=vi(o,e,i);let a;if(function(t){return t&&Zr(t.canDeactivate)}(s))a=nr(s.canDeactivate(t,e,n,r));else{if(!Zr(s))throw new Error("Invalid CanDeactivate guard");a=nr(s(t,e,n,r))}return a.pipe(Cn())});return Object(Te.a)(s).pipe(ni())}(t.component,t.route,n,e,r)),Cn(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(On.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(gt.a)(e).pipe(In(e=>Object(gt.a)([yi(e.route.parent,r),mi(e.route,r),wi(t,e.path,n),_i(t,e.route,n)]).pipe(Be(),Cn(t=>!0!==t,!0))),Cn(t=>!0!==t,!0))}(r,o,t,e):Object(Te.a)(n)),Object(dt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(En.a)(t=>{if(ti(t.guardsResult)){const e=Qn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(En.a)(t=>{const e=new Dn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ze(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new jn(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ki(t=>{if(t.guards.canActivateChecks.length)return Object(Te.a)(t).pipe(Object(En.a)(t=>{const e=new Mn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),un(t=>{let n=!1;return Object(Te.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(On.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Te.a)(t);let o=0;return Object(gt.a)(n).pipe(In(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Te.a)({});const o={};return Object(gt.a)(i).pipe(Object(On.a)(i=>function(t,e,n,r){const i=vi(t,e,r);return nr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(En.a)(t=>{o[i]=t}))),Qe(1),Object(On.a)(()=>Object.keys(o).length===i.length?Object(Te.a)(o):Ke.a))}(t._resolve,t,e,r).pipe(Object(dt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),jr(t,n).resolve),null)))}(t.route,e,r,i)),Object(En.a)(()=>o++),Qe(1),Object(On.a)(e=>o===n.length?Object(Te.a)(t):Ke.a))}))}),Object(En.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new jn(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(En.a)(t=>{const e=new Un(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ki(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(dt.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Sr(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new kr(new Pe((i=n.value).url),new Pe(i.params),new Pe(i.queryParams),new Pe(i.fragment),new Pe(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Sr(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Pr(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(En.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(dt.a)(t=>(new Yr(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(En.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new jn(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Sn(i))),yn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ti(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new jn(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Nn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(th){t.reject(th)}}var i;return Ke.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Li(t),this.config=t.map(Mi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(r.U)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Vr(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Kr(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return er(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Kr(n,e,r)}(n);if(o.toRoot())return Vr(e.root,new or([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new qr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new qr(t,t===e.root,0)}const r=Fr(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new qr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?zr(s.segmentGroup,s.index,o.commands):Br(s.segmentGroup,s.index,o.commands);return Vr(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ti(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(My){e=this.malformedUriErrorHandler(My,this.urlSerializer,t)}return e}isActive(t,e){if(ti(t))return rr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return rr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new kn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(cr),r.Pb(Ki),r.Pb(w),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Ji=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Se.a,this.subscription=t.events.subscribe(t=>{t instanceof kn&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Wi(this.skipLocationChange),replaceUrl:Wi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Wi(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Wi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Gi),r.Ib(kr),r.Ib(v))},t.\u0275dir=r.Db({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Sb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(r.Ob("href",e.href,r.ac),r.zb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function Wi(t){return""===t||!!t}let Qi=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Gn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Yi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ki),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Yi{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===kr?this.route:t===Ki?this.childContexts:this.parent.get(t,e)}}class $i{}class Xi{preload(t,e){return Object(Te.a)(null)}}let Zi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Fi(e,n,e=>t.triggerEvent(new Fn(e)),e=>t.triggerEvent(new Vn(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ze(t=>t instanceof kn),In(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(gt.a)(n).pipe(Object(He.a)(),Object(dt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(On.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Gi),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb($i))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),to=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof An?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof kn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new zn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Gi),r.Pb(N),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const eo=new r.q("ROUTER_CONFIGURATION"),no=new r.q("ROUTER_FORROOT_GUARD"),ro=[w,{provide:cr,useClass:lr},{provide:Gi,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Gi(null,t,e,n,r,i,s,Zn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[cr,Ki,w,r.r,r.w,r.i,Ui,eo,[class{},new r.A],[class{},new r.A]]},Ki,{provide:kr,useFactory:function(t){return t.routerState.root},deps:[Gi]},{provide:r.w,useClass:r.J},Zi,Xi,class{preload(t,e){return e().pipe(yn(()=>Object(Te.a)(null)))}},{provide:eo,useValue:{enableTracing:!1}}];function io(){return new r.y("Router",Gi)}let oo=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ro,co(e),{provide:no,useFactory:uo,deps:[[Gi,new r.A,new r.I]]},{provide:eo,useValue:n||{}},{provide:v,useFactory:ao,deps:[a,[new r.p(m),new r.A],eo]},{provide:to,useFactory:so,deps:[Gi,N,eo]},{provide:$i,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Xi},{provide:r.y,multi:!0,useFactory:io},[lo,{provide:r.d,multi:!0,useFactory:ho,deps:[lo]},{provide:po,useFactory:fo,deps:[lo]},{provide:r.b,multi:!0,useExisting:po}]]}}static forChild(e){return{ngModule:t,providers:[co(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(no,8),r.Pb(Gi,8))}}),t})();function so(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new to(t,e,n)}function ao(t,e,n={}){return n.useHash?new _(t,e):new y(t,e)}function uo(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function co(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Ui,multi:!0,useValue:t}]}let lo=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Se.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Gi),r=this.injector.get(eo);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Te.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(eo),n=this.injector.get(Zi),i=this.injector.get(to),o=this.injector.get(Gi),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function ho(t){return t.appInitializer.bind(t)}function fo(t){return t.bootstrapListener.bind(t)}const po=new r.q("Router Initializer"),go=function(){return["domaine"]},vo=function(){return["savoir"]};let bo=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-about"]],decls:68,vars:4,consts:[["id","about",1,"about","section-bg"],["data-aos","fade-up",1,"container"],[1,"section-title"],[1,"row"],["data-aos","zoom-out","data-aos-delay","100",1,"col-lg-6"],["src","assets/img/pip5.png","alt","",1,"img-fluid"],["data-aos","fade-up","data-aos-delay","100",1,"col-lg-6","pt-4","pt-lg-0","content","d-flex","flex-column","justify-content-center"],[1,"font-italic"],[1,"bx","bx-images"],[1,"nav-link",3,"routerLink"],["id","counts",1,"counts"],[1,"col-lg-3","col-md-6"],[1,"count-box"],[1,"icofont-simple-smile"],["data-toggle","counter-up"],[1,"col-lg-3","col-md-6","mt-5","mt-md-0"],[1,"icofont-document-folder"],[1,"col-lg-3","col-md-6","mt-5","mt-lg-0"],[1,"icofont-live-support"],[1,"icofont-users-alt-5"],["id","clients",1,"clients","section-bg"],["data-aos","zoom-in",1,"container"]],template:function(t,e){1&t&&(r.Lb(0,"section",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Lb(3,"h2"),r.dc(4,"About"),r.Kb(),r.Lb(5,"h3"),r.dc(6,"Find Out More "),r.Lb(7,"span"),r.dc(8,"About Us"),r.Kb(),r.Kb(),r.Kb(),r.Lb(9,"div",3),r.Lb(10,"div",4),r.Jb(11,"img",5),r.Kb(),r.Lb(12,"div",6),r.Lb(13,"h3"),r.dc(14,"P I P : PECHEMICAL & INDUSTRIAL PARTNERSHIP"),r.Kb(),r.Jb(15,"p",7),r.Lb(16,"ul"),r.Lb(17,"li"),r.Jb(18,"i",8),r.Lb(19,"div"),r.Lb(20,"h5"),r.dc(21,"DOMAINE D'INTERVENTION PIP"),r.Kb(),r.Lb(22,"p"),r.dc(23,"PIP intervienne dans tous les domaines d'activites indsustrielles petrochimiq..."),r.Lb(24,"a",9),r.dc(25,"more details"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(26,"li"),r.Jb(27,"i",8),r.Lb(28,"div"),r.Lb(29,"h5"),r.dc(30,"SAVOIR FAIRE PIP"),r.Kb(),r.Lb(31,"p"),r.dc(32,"Chaudonnerie et construction mecanique , Silos et cyclones..."),r.Lb(33,"a",9),r.dc(34,"more details"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(35,"section",10),r.Lb(36,"div",1),r.Lb(37,"div",3),r.Lb(38,"div",11),r.Lb(39,"div",12),r.Jb(40,"i",13),r.Lb(41,"span",14),r.dc(42,"232"),r.Kb(),r.Lb(43,"p"),r.dc(44,"Happy Clients"),r.Kb(),r.Kb(),r.Kb(),r.Lb(45,"div",15),r.Lb(46,"div",12),r.Jb(47,"i",16),r.Lb(48,"span",14),r.dc(49,"521"),r.Kb(),r.Lb(50,"p"),r.dc(51,"Projects"),r.Kb(),r.Kb(),r.Kb(),r.Lb(52,"div",17),r.Lb(53,"div",12),r.Jb(54,"i",18),r.Lb(55,"span",14),r.dc(56,"1,463"),r.Kb(),r.Lb(57,"p"),r.dc(58,"Hours Of Support"),r.Kb(),r.Kb(),r.Kb(),r.Lb(59,"div",17),r.Lb(60,"div",12),r.Jb(61,"i",19),r.Lb(62,"span",14),r.dc(63,"12"),r.Kb(),r.Lb(64,"p"),r.dc(65,"Hard Workers"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(66,"section",20),r.Jb(67,"div",21),r.Kb()),2&t&&(r.yb(24),r.Vb("routerLink",r.Wb(2,go)),r.yb(9),r.Vb("routerLink",r.Wb(3,vo)))},directives:[Ji],styles:[""]}),t})(),mo=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-admin"]],decls:43,vars:0,consts:[[1,"table","table-success","table-striped"],["scope","col"],["scope","row"],["colspan","2"]],template:function(t,e){1&t&&(r.Jb(0,"br"),r.Jb(1,"br"),r.Jb(2,"br"),r.Jb(3,"br"),r.Jb(4,"br"),r.Jb(5,"br"),r.Lb(6,"table",0),r.Lb(7,"thead"),r.Lb(8,"tr"),r.Lb(9,"th",1),r.dc(10,"#"),r.Kb(),r.Lb(11,"th",1),r.dc(12,"First"),r.Kb(),r.Lb(13,"th",1),r.dc(14,"Last"),r.Kb(),r.Lb(15,"th",1),r.dc(16,"Handle"),r.Kb(),r.Kb(),r.Kb(),r.Lb(17,"tbody"),r.Lb(18,"tr"),r.Lb(19,"th",2),r.dc(20,"1"),r.Kb(),r.Lb(21,"td"),r.dc(22,"Mark"),r.Kb(),r.Lb(23,"td"),r.dc(24,"Otto"),r.Kb(),r.Lb(25,"td"),r.dc(26,"@mdo"),r.Kb(),r.Kb(),r.Lb(27,"tr"),r.Lb(28,"th",2),r.dc(29,"2"),r.Kb(),r.Lb(30,"td"),r.dc(31,"Jacob"),r.Kb(),r.Lb(32,"td"),r.dc(33,"Thornton"),r.Kb(),r.Lb(34,"td"),r.dc(35,"@fat"),r.Kb(),r.Kb(),r.Lb(36,"tr"),r.Lb(37,"th",2),r.dc(38,"3"),r.Kb(),r.Lb(39,"td",3),r.dc(40,"Larry the Bird"),r.Kb(),r.Lb(41,"td"),r.dc(42,"@twitter"),r.Kb(),r.Kb(),r.Kb(),r.Kb())},styles:[""]}),t})();var yo=n("zIRd"),_o=(n("t6oF"),n("6Uf2"),n("q/0M")),wo=n("qOnz"),Oo=function(t,e){return(Oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Io(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Co,Eo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},To=To||{},So=Eo||self;function xo(){}function Po(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ao(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ko="closure_uid_"+(1e9*Math.random()>>>0),jo=0;function No(t,e,n){return t.call.apply(t.bind,arguments)}function Lo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ro(t,e,n){return(Ro=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?No:Lo).apply(null,arguments)}function Do(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Mo(){return Date.now()}function Uo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Fo(){this.j=this.j,this.i=this.i}Fo.prototype.j=!1,Fo.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ko)&&t[ko]||(t[ko]=++jo)}(this)},Fo.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Vo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ko=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function qo(t){return Array.prototype.concat.apply([],arguments)}function Ho(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Bo(t){return/^[\s\xa0]*$/.test(t)}var zo,Go=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Jo(t,e){return-1!=t.indexOf(e)}function Wo(t,e){return t<e?-1:t>e?1:0}t:{var Qo=So.navigator;if(Qo){var Yo=Qo.userAgent;if(Yo){zo=Yo;break t}}zo=""}function $o(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Xo(t){var e={};for(var n in t)e[n]=t[n];return e}var Zo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ts(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Zo.length;o++)n=Zo[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function es(t){return es[" "](t),t}es[" "]=xo;var ns,rs,is=Jo(zo,"Opera"),os=Jo(zo,"Trident")||Jo(zo,"MSIE"),ss=Jo(zo,"Edge"),as=ss||os,us=Jo(zo,"Gecko")&&!(Jo(zo.toLowerCase(),"webkit")&&!Jo(zo,"Edge"))&&!(Jo(zo,"Trident")||Jo(zo,"MSIE"))&&!Jo(zo,"Edge"),cs=Jo(zo.toLowerCase(),"webkit")&&!Jo(zo,"Edge");function ls(){var t=So.document;return t?t.documentMode:void 0}t:{var hs="",fs=(rs=zo,us?/rv:([^\);]+)(\)|;)/.exec(rs):ss?/Edge\/([\d\.]+)/.exec(rs):os?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(rs):cs?/WebKit\/(\S+)/.exec(rs):is?/(?:Version)[ \/]?(\S+)/.exec(rs):void 0);if(fs&&(hs=fs?fs[1]:""),os){var ds=ls();if(null!=ds&&ds>parseFloat(hs)){ns=String(ds);break t}}ns=hs}var ps={};function gs(t){return function(t,e){var n=ps;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Go(String(ns)).split("."),r=Go(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Wo(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Wo(0==s[2].length,0==a[2].length)||Wo(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var vs=So.document&&os&&(ls()||parseInt(ns,10))||void 0,bs=!os||9<=Number(vs),ms=os&&!gs("9"),ys=function(){if(!So.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{So.addEventListener("test",xo,e),So.removeEventListener("test",xo,e)}catch(n){}return t}();function _s(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ws(t,e){if(_s.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(us){t:{try{es(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Os[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}_s.prototype.b=function(){this.defaultPrevented=!0},Uo(ws,_s);var Os={2:"touch",3:"pen",4:"mouse"};ws.prototype.b=function(){ws.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ms)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Is="closure_listenable_"+(1e6*Math.random()|0),Cs=0;function Es(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Cs,this.Y=this.Z=!1}function Ts(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ss(t){this.src=t,this.a={},this.b=0}function xs(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Vo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ts(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ps(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Ss.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Ps(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Es(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var As="closure_lm_"+(1e6*Math.random()|0),ks={};function js(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Vs(r),e&&e[Is]?e.wa(n,r,Ao(i)?!!i.capture:!!i,o):Ns(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)js(t,e[o],n,r,i);return null}return n=Vs(n),t&&t[Is]?t.va(e,n,Ao(r)?!!r.capture:!!r,i):Ns(t,e,n,!1,r,i)}function Ns(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ao(i)?!!i.capture:!!i;if(s&&!bs)return null;var a=Us(t);if(a||(t[As]=a=new Ss(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Ms,e=bs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ys||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Rs(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ls(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Is])xs(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Rs(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Us(e))?(xs(n,t),0==n.b&&(n.src=null,e[As]=null)):Ts(t)}}}function Rs(t){return t in ks?ks[t]:ks[t]="on"+t}function Ds(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ls(t),n.call(r,e)}function Ms(t,e){if(t.Y)return!0;if(!bs){if(!e)t:{e=["window","event"];for(var n=So,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ds(t,e=new ws(e,this))}return Ds(t,new ws(e,this))}function Us(t){return(t=t[As])instanceof Ss?t:null}var Fs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vs(t){return"function"==typeof t?t:(t[Fs]||(t[Fs]=function(e){return t.handleEvent(e)}),t[Fs])}function Ks(){Fo.call(this),this.c=new Ss(this),this.J=this,this.C=null}function qs(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new _s(e,t);else if(e instanceof _s)e.target=e.target||t;else{var i=e;ts(e=new _s(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Hs(s,r,!0,e)&&i}if(i=Hs(s=e.a=t,r,!0,e)&&i,i=Hs(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Hs(s=e.a=n[o],r,!1,e)&&i}function Hs(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&xs(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Uo(Ks,Fo),Ks.prototype[Is]=!0,(Co=Ks.prototype).addEventListener=function(t,e,n,r){js(this,t,e,n,r)},Co.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=Ao(i)?!!i.capture:!!i,r=Vs(r),e&&e[Is]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Ps(s=e.a[n],r,i,o))&&(Ts(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Us(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Ps(n,r,i,o)),(r=-1<e?n[e]:null)&&Ls(r))}(this,t,e,n,r)},Co.G=function(){if(Ks.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ts(n[r]);delete e.a[t],e.b--}}this.C=null},Co.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Co.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Bs=So.JSON.stringify;function zs(){this.b=this.a=null}var Gs,Js=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Qs}),(function(t){t.reset()}));function Ws(){var t=Zs,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Qs(){this.next=this.b=this.a=null}function Ys(t){So.setTimeout((function(){throw t}),0)}function $s(t,e){Gs||function(){var t=So.Promise.resolve(void 0);Gs=function(){t.then(ta)}}(),Xs||(Gs(),Xs=!0),Zs.add(t,e)}zs.prototype.add=function(t,e){var n=Js.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Qs.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Qs.prototype.reset=function(){this.next=this.b=this.a=null};var Xs=!1,Zs=new zs;function ta(){for(var t;t=Ws();){try{t.a.call(t.b)}catch(n){Ys(n)}var e=Js;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Xs=!1}function ea(t,e){Ks.call(this),this.b=t||1,this.a=e||So,this.f=Ro(this.Za,this),this.g=Mo()}function na(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ra(t,e,n){if("function"==typeof t)n&&(t=Ro(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ro(t.handleEvent,t)}return 2147483647<Number(e)?-1:So.setTimeout(t,e||0)}function ia(t){t.a=ra((function(){t.a=null,t.c&&(t.c=!1,ia(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Uo(ea,Ks),(Co=ea.prototype).aa=!1,Co.M=null,Co.Za=function(){if(this.aa){var t=Mo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),qs(this,"tick"),this.aa&&(na(this),this.start()))}},Co.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Mo())},Co.G=function(){ea.X.G.call(this),na(this),delete this.a};var oa=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Oo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ia(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(So.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Fo);function sa(t){Fo.call(this),this.b=t,this.a={}}Uo(sa,Fo);var aa=[];function ua(t,e,n,r){Array.isArray(n)||(n&&(aa[0]=n.toString()),n=aa);for(var i=0;i<n.length;i++){var o=js(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ca(t){$o(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ls(t)}),t),t.a={}}function la(){this.a=!0}function ha(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Bs(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}sa.prototype.G=function(){sa.X.G.call(this),ca(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},la.prototype.info=function(){};var fa={},da=null;function pa(){return da=da||new Ks}function ga(t){_s.call(this,fa.Fa,t)}function va(t){var e=pa();qs(e,new ga(e,t))}function ba(t,e){_s.call(this,fa.STAT_EVENT,t),this.stat=e}function ma(t){var e=pa();qs(e,new ba(e,t))}function ya(t){_s.call(this,fa.Ga,t)}function _a(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return So.setTimeout((function(){t()}),e)}fa.Fa="serverreachability",Uo(ga,_s),fa.STAT_EVENT="statevent",Uo(ba,_s),fa.Ga="timingevent",Uo(ya,_s);var wa={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Oa={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ia(){}function Ca(){}Ia.prototype.a=null;var Ea,Ta={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Sa(){_s.call(this,"d")}function xa(){_s.call(this,"c")}function Pa(){}function Aa(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new sa(this),this.P=ka,this.R=new ea(t=as?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Uo(Sa,_s),Uo(xa,_s),Uo(Pa,Ia),Ea=new Pa;var ka=45e3,ja={},Na={};function La(t,e,n){t.H=1,t.i=nu(Ya(e)),t.j=n,t.I=!0,Ra(t,null)}function Ra(t,e){t.u=Mo(),Ua(t),t.l=Ya(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),gu(n.b,"t",r),t.D=0,t.a=cc(t.g,t.g.C?e:null),0<t.O&&(t.F=new oa(Ro(t.Ca,t,t.a),t.O)),ua(t.J,t.a,"readystatechange",t.Xa),e=t.B?Xo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),va(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Da(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ma(t,n);if(i==Na){4==e&&(t.h=4,ma(14),r=!1),ha(t.c,t.f,null,"[Incomplete Response]");break}if(i==ja){t.h=4,ma(15),ha(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ha(t.c,t.f,i,null),Ha(t,i)}4==e&&0==n.length&&(t.h=1,ma(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ec(e),e.F=!0,ma(11))):(ha(t.c,t.f,n,"[Invalid Chunked Response]"),qa(t),Ka(t))}function Ma(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Na:(n=Number(e.substring(n,r)),isNaN(n)?ja:(r+=1)+n>e.length?Na:(e=e.substr(r,n),t.D=r+n,e))}function Ua(t){t.T=Mo()+t.P,Fa(t,t.P)}function Fa(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=_a(Ro(t.Va,t),e)}function Va(t){t.o&&(So.clearTimeout(t.o),t.o=null)}function Ka(t){0==t.g.v||t.A||ic(t.g,t)}function qa(t){Va(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,na(t.R),ca(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ha(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ou(n.b,t)))if(n.I=t.N,!t.C&&Ou(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Ym){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;rc(n),Gu(n)}tc(n),ma(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=_a(Ro(n.Sa,n),6e3));if(1>=wu(n.b)&&n.ea){try{n.ea()}catch(Ym){}n.ea=void 0}}else sc(n,11)}else if((t.C||n.a==t)&&rc(n),!Bo(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Jo(l,"spdy")||Jo(l,"quic")||Jo(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Iu(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,eu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Mo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=uc(u,u.C?u.ga:null,u.fa),d.C){Cu(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Va(p),Ua(p)),u.a=d}else Zu(u);0<n.g.length&&Qu(n)}else"stop"!=i[0]&&"close"!=i[0]||sc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?sc(n,7):zu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);va(4)}catch(Ym){}}function Ba(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Po(t)||"string"==typeof t)Ko(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Po(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Po(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function za(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof za)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ga(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ja(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ja(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ja(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Co=Aa.prototype).setTimeout=function(t){this.P=t},Co.Xa=function(t){t=t.target;var e=this.F;e&&3==Ku(t)?e.f():this.Ca(t)},Co.Ca=function(t){try{if(t==this.a)t:{var e=Ku(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!as&&!this.a.$())){this.A||4!=e||7==n||va(8==n||0>=r?3:2),Va(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bo(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ma(12),qa(this),Ka(this);break t}ha(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ha(this,u)}this.I?(Da(this,e,o),as&&this.b&&3==e&&(ua(this.J,this.R,"tick",this.Wa),this.R.start())):(ha(this.c,this.f,o,null),Ha(this,o)),4==e&&qa(this),this.b&&!this.A&&(4==e?ic(this.g,this):(this.b=!1,Ua(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ma(12)):(this.h=0,ma(13)),qa(this),Ka(this)}}}catch(c){}},Co.Wa=function(){if(this.a){var t=Ku(this.a),e=this.a.$();this.D<e.length&&(Va(this),Da(this,t,e),this.b&&4!=t&&Ua(this))}},Co.cancel=function(){this.A=!0,qa(this)},Co.Va=function(){this.o=null;var t=Mo();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(va(3),ma(17)),qa(this),this.h=2,Ka(this)):Fa(this,this.T-t)},(Co=za.prototype).K=function(){Ga(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Co.L=function(){return Ga(this),this.a.concat()},Co.get=function(t,e){return Ja(this.b,t)?this.b[t]:e},Co.set=function(t,e){Ja(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Co.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Wa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qa(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Qa){this.a=void 0!==e?e:t.a,$a(this,t.f),this.j=t.j,Xa(this,t.c),Za(this,t.h),this.g=t.g,e=t.b;var n=new hu;n.c=e.c,e.a&&(n.a=new za(e.a),n.b=e.b),tu(this,n),this.i=t.i}else t&&(n=String(t).match(Wa))?(this.a=!!e,$a(this,n[1]||"",!0),this.j=ru(n[2]||""),Xa(this,n[3]||"",!0),Za(this,n[4]),this.g=ru(n[5]||"",!0),tu(this,n[6]||"",!0),this.i=ru(n[7]||"")):(this.a=!!e,this.b=new hu(null,this.a))}function Ya(t){return new Qa(t)}function $a(t,e,n){t.f=n?ru(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Xa(t,e,n){t.c=n?ru(e,!0):e}function Za(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function tu(t,e,n){e instanceof hu?(t.b=e,function(t,e){e&&!t.f&&(fu(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(du(this,e),gu(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=iu(e,cu)),t.b=new hu(e,t.a))}function eu(t,e,n){t.b.set(e,n)}function nu(t){return eu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Mo()).toString(36)),t}function ru(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function iu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ou),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ou(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Qa.prototype.toString=function(){var t=[],e=this.f;e&&t.push(iu(e,su,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(iu(e,su,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(iu(n,"/"==n.charAt(0)?uu:au,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",iu(n,lu)),t.join("")};var su=/[#\/\?@]/g,au=/[#\?:]/g,uu=/[#\?]/g,cu=/[#\?@]/g,lu=/#/g;function hu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function fu(t){t.a||(t.a=new za,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function du(t,e){fu(t),e=vu(t,e),Ja(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ja((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ga(t)))}function pu(t,e){return fu(t),e=vu(t,e),Ja(t.a.b,e)}function gu(t,e,n){du(t,e),0<n.length&&(t.c=null,t.a.set(vu(t,e),Ho(n)),t.b+=n.length)}function vu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Co=hu.prototype).add=function(t,e){fu(this),this.c=null,t=vu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Co.forEach=function(t,e){fu(this),this.a.forEach((function(n,r){Ko(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Co.L=function(){fu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Co.K=function(t){fu(this);var e=[];if("string"==typeof t)pu(this,t)&&(e=qo(e,this.a.get(vu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=qo(e,t[n])}return e},Co.set=function(t,e){return fu(this),this.c=null,pu(this,t=vu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Co.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Co.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var bu=function(){return function(t,e){this.b=t,this.a=e}}();function mu(t){this.g=t||yu,t=So.PerformanceNavigationTiming?0<(t=So.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(So.ia&&So.ia.ya&&So.ia.ya()&&So.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var yu=10;function _u(t){return!!t.b||!!t.a&&t.a.size>=t.f}function wu(t){return t.b?1:t.a?t.a.size:0}function Ou(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Iu(t,e){t.a?t.a.add(e):t.b=e}function Cu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Eu(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Io(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ho(t.c)}function Tu(){}function Su(){this.a=new Tu}function xu(t,e,n){var r=n||"";try{Ba(t,(function(t,n){var i=t;Ao(t)&&(i=Bs(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(My){throw e.push(r+"type="+encodeURIComponent("_badmap")),My}}function Pu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}mu.prototype.cancel=function(){var t,e;if(this.c=Eu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Io(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Tu.prototype.stringify=function(t){return So.JSON.stringify(t,void 0)},Tu.prototype.parse=function(t){return So.JSON.parse(t,void 0)};var Au=So.JSON.parse;function ku(t){Ks.call(this),this.headers=new za,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ju,this.D=this.F=!1}Uo(ku,Ks);var ju="",Nu=/^https?$/i,Lu=["POST","PUT"];function Ru(t){return"content-type"==t.toLowerCase()}function Du(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Mu(t),Fu(t)}function Mu(t){t.u||(t.u=!0,qs(t,"complete"),qs(t,"error"))}function Uu(t){if(t.b&&void 0!==To&&(!t.s[1]||4!=Ku(t)||2!=t.W()))if(t.l&&4==Ku(t))ra(t.za,0,t);else if(qs(t,"readystatechange"),4==Ku(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Wa)[1]||null;if(!o&&So.self&&So.self.location){var s=So.self.location.protocol;o=s.substr(0,s.length-1)}i=!Nu.test(o?o.toLowerCase():"")}e=i}if(e)qs(t,"complete"),qs(t,"success");else{t.h=6;try{var a=2<Ku(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Mu(t)}}finally{Fu(t)}}}function Fu(t,e){if(t.a){Vu(t);var n=t.a,r=t.s[0]?xo:null;t.a=null,t.s=null,e||qs(t,"ready");try{n.onreadystatechange=r}catch(My){}}}function Vu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(So.clearTimeout(t.m),t.m=null)}function Ku(t){return t.a?t.a.readyState:0}function qu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return $o(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):eu(t,e,n))}function Hu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Bu(t){this.pa=0,this.g=[],this.c=new la,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Hu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Hu("baseRetryDelayMs",5e3,t),this.Ra=Hu("retryDelaySeedMs",1e4,t),this.Ma=Hu("forwardChannelMaxRetries",2,t),this.ma=Hu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new mu(t&&t.concurrentRequestLimit),this.ka=new Su,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function zu(t){if(Ju(t),3==t.v){var e=t.R++,n=Ya(t.B);eu(n,"SID",t.J),eu(n,"RID",e),eu(n,"TYPE","terminate"),$u(t,n),(e=new Aa(t,t.c,e,void 0)).H=2,e.i=nu(Ya(n)),n=!1,So.navigator&&So.navigator.sendBeacon&&(n=So.navigator.sendBeacon(e.i.toString(),"")),!n&&So.Image&&((new Image).src=e.i,n=!0),n||(e.a=cc(e.g,null),e.a.ba(e.i)),e.u=Mo(),Ua(e)}ac(t)}function Gu(t){t.a&&(ec(t),t.a.cancel(),t.a=null)}function Ju(t){Gu(t),t.j&&(So.clearTimeout(t.j),t.j=null),rc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&So.clearTimeout(t.h),t.h=null)}function Wu(t,e){t.g.push(new bu(t.Oa++,e)),3==t.v&&Qu(t)}function Qu(t){_u(t.b)||t.h||(t.h=!0,$s(t.Ba,t),t.u=0)}function Yu(t,e){var n;n=e?e.f:t.R++;var r=Ya(t.B);eu(r,"SID",t.J),eu(r,"RID",n),eu(r,"AID",t.P),$u(t,r),t.i&&t.l&&qu(r,t.i,t.l),n=new Aa(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Xu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Iu(t.b,n),La(n,r,e)}function $u(t,e){t.f&&Ba({},(function(t,n){eu(e,n,t)}))}function Xu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ro(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{xu(l,s,"req"+c+"_")}catch(zc){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Zu(t){t.a||t.j||(t.T=1,$s(t.Aa,t),t.o=0)}function tc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=_a(Ro(t.Aa,t),oc(t,t.o)),t.o++,0))}function ec(t){null!=t.s&&(So.clearTimeout(t.s),t.s=null)}function nc(t){t.a=new Aa(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ya(t.la);eu(e,"RID","rpc"),eu(e,"SID",t.J),eu(e,"CI",t.H?"0":"1"),eu(e,"AID",t.P),$u(t,e),eu(e,"TYPE","xmlhttp"),t.i&&t.l&&qu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=nu(Ya(e)),n.j=null,n.I=!0,Ra(n,t)}function rc(t){null!=t.m&&(So.clearTimeout(t.m),t.m=null)}function ic(t,e){var n=null;if(t.a==e){rc(t),ec(t),t.a=null;var r=2}else{if(!Ou(t.b,e))return;n=e.s,Cu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Mo()-e.u;var i=t.u;qs(r=pa(),new ya(r,n,e,i)),Qu(t)}else Zu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(wu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=_a(Ro(t.Ba,t,e),oc(t,t.u)),t.u++,0)))}(t,e)||2==r&&tc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:sc(t,5);break;case 4:sc(t,10);break;case 3:sc(t,6);break;default:sc(t,2)}}function oc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function sc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ro(t.Ya,t);n||(n=new Qa("//www.google.com/images/cleardot.gif"),So.location&&"http"==So.location.protocol||$a(n,"https"),nu(n)),function(t,e){var n=new la;if(So.Image){var r=new Image;r.onload=Do(Pu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Do(Pu,n,r,"TestLoadImage: error",!1,e),r.onabort=Do(Pu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Do(Pu,n,r,"TestLoadImage: timeout",!1,e),So.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ma(2);t.v=0,t.f&&t.f.ra(e),ac(t),Ju(t)}function ac(t){t.v=0,t.I=-1,t.f&&(0==Eu(t.b).length&&0==t.g.length||(t.b.c.length=0,Ho(t.g),t.g.length=0),t.f.qa())}function uc(t,e,n){var r=function(t){return t instanceof Qa?Ya(t):new Qa(t,void 0)}(n);if(""!=r.c)e&&Xa(r,e+"."+r.c),Za(r,r.h);else{var i=So.location;r=function(t,e,n,r){var i=new Qa(null,void 0);return t&&$a(i,t),e&&Xa(i,e),n&&Za(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&$o(t.V,(function(t,e){eu(r,e,t)})),n=t.na,(e=t.A)&&n&&eu(r,e,n),eu(r,"VER",t.ha),$u(t,r),r}function cc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ku(t.Na)).F=t.C,e}function lc(){}function hc(){if(os&&!(10<=Number(vs)))throw Error("Environmental error: no available transport.")}function fc(t,e){Ks.call(this),this.a=new Bu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Bo(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new gc(this)}function dc(t){Sa.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function pc(){xa.call(this),this.status=1}function gc(t){this.a=t}(Co=ku.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ea),this.a.onreadystatechange=Ro(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Du(this,o)}t=n||"";var i=new za(this.headers);r&&Ba(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ru,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=So.FormData&&t instanceof So.FormData,!(0<=Vo(Lu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Vu(this),0<this.o&&((this.D=function(t){return os&&gs(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ro(this.xa,this)):this.m=ra(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Du(this,o)}},Co.xa=function(){void 0!==To&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,qs(this,"timeout"),this.abort(8))},Co.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,qs(this,"complete"),qs(this,"abort"),Fu(this))},Co.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Fu(this,!0)),ku.X.G.call(this)},Co.za=function(){this.j||(this.A||this.l||this.g?Uu(this):this.Ua())},Co.Ua=function(){Uu(this)},Co.W=function(){try{return 2<Ku(this)?this.a.status:-1}catch(rs){return-1}},Co.$=function(){try{return this.a?this.a.responseText:""}catch(rs){return""}},Co.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Au(e)}},Co.ua=function(){return this.h},Co.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Co=Bu.prototype).ha=8,Co.v=1,Co.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Aa(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ts(r=Xo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Xu(this,n,e),eu(i=Ya(this.B),"RID",t),eu(i,"CVER",22),this.A&&eu(i,"X-HTTP-Session-Id",this.A),$u(this,i),this.i&&r&&qu(i,this.i,r),Iu(this.b,n),this.Ia&&eu(i,"TYPE","init"),this.da?(eu(i,"$req",e),eu(i,"SID","null"),n.U=!0,La(n,i,null)):La(n,i,e),this.v=2}}else 3==this.v&&(t?Yu(this,t):0==this.g.length||_u(this.b)||Yu(this))},Co.Aa=function(){if(this.j=null,nc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=_a(Ro(this.Ta,this),t)}},Co.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ma(10),Gu(this),nc(this))},Co.Sa=function(){null!=this.m&&(this.m=null,Gu(this),tc(this),ma(19))},Co.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ma(2)):(this.c.info("Failed to ping google.com"),ma(1))},(Co=lc.prototype).ta=function(){},Co.sa=function(){},Co.ra=function(){},Co.qa=function(){},Co.Ja=function(){},hc.prototype.a=function(t,e){return new fc(t,e)},Uo(fc,Ks),fc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ma(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=uc(t,null,t.fa),Qu(t)},fc.prototype.close=function(){zu(this.a)},fc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Wu(this.a,e)}else this.l?((e={}).__data__=Bs(t),Wu(this.a,e)):Wu(this.a,t)},fc.prototype.G=function(){this.a.f=null,delete this.f,zu(this.a),delete this.a,fc.X.G.call(this)},Uo(dc,Sa),Uo(pc,xa),Uo(gc,lc),gc.prototype.ta=function(){qs(this.a,"a")},gc.prototype.sa=function(t){qs(this.a,new dc(t))},gc.prototype.ra=function(t){qs(this.a,new pc(t))},gc.prototype.qa=function(){qs(this.a,"b")},hc.prototype.createWebChannel=hc.prototype.a,fc.prototype.send=fc.prototype.h,fc.prototype.open=fc.prototype.g,fc.prototype.close=fc.prototype.close,wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,Oa.COMPLETE="complete",Ca.EventType=Ta,Ta.OPEN="a",Ta.CLOSE="b",Ta.ERROR="c",Ta.MESSAGE="d",Ks.prototype.listen=Ks.prototype.va,ku.prototype.listenOnce=ku.prototype.wa,ku.prototype.getLastError=ku.prototype.Qa,ku.prototype.getLastErrorCode=ku.prototype.ua,ku.prototype.getStatus=ku.prototype.W,ku.prototype.getResponseJson=ku.prototype.Pa,ku.prototype.getResponseText=ku.prototype.$,ku.prototype.send=ku.prototype.ba;var vc=wa,bc=Oa,mc=fa,yc=Ca,_c=ku,wc=n("mrSG"),Oc=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},Ic=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Cc=new _o.b("@firebase/firestore");function Ec(){return Cc.logLevel}function Tc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Cc.logLevel<=_o.a.DEBUG){var r=e.map(Pc);Cc.debug.apply(Cc,Object(wc.f)(["Firestore (8.3.0): "+t],r))}}function Sc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Cc.logLevel<=_o.a.ERROR){var r=e.map(Pc);Cc.error.apply(Cc,Object(wc.f)(["Firestore (8.3.0): "+t],r))}}function xc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Cc.logLevel<=_o.a.WARN){var r=e.map(Pc);Cc.warn.apply(Cc,Object(wc.f)(["Firestore (8.3.0): "+t],r))}}function Pc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(My){return t}}function Ac(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.0) INTERNAL ASSERTION FAILED: "+t;throw Sc(e),new Error(e)}function kc(t,e){t||Ac()}function jc(t,e){return t}function Nc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Lc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Nc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Rc(t,e){return t<e?-1:t>e?1:0}function Dc(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Mc(t){return t+"\0"}var Uc=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return Rc(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Uc.T=new Uc("");var Fc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Vc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(wc.c)(e,t),e}(Error),Kc=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Uc.fromBase64String(e))}catch(e){throw new Vc(Fc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Uc.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),qc=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();qc.UNAUTHENTICATED=new qc(null),qc.R=new qc("google-credentials-uid"),qc.P=new qc("first-party-uid");var Hc=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},Bc=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(qc.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),zc=function(){function t(t){var e=this;this.D=null,this.currentUser=qc.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then((function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.N!==e?(Tc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(kc("string"==typeof n.accessToken),new Hc(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return kc(null===t||"string"==typeof t),new qc(t)},t}(),Gc=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=qc.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Jc=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new Gc(this.F,this.O))},t.prototype.v=function(t){t(qc.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),Wc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();Wc.q=-1;var Qc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Vc(Fc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Vc(Fc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Vc(Fc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Vc(Fc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?Rc(this.nanoseconds,t.nanoseconds):Rc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Yc=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new Qc(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),$c=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ac(),void 0===n?n=t.length-e:n>t.length-e&&Ac(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Xc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Vc(Fc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.ct=function(){return new e([])},e}($c),Zc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return Zc.test(t)},e.prototype.rt=function(){return this.it().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Vc(Fc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Vc(Fc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Vc(Fc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Vc(Fc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}($c),el=function(){function t(t){this.path=t}return t._t=function(e){return new t(Xc.ot(e))},t.ft=function(e){return new t(Xc.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Xc.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return Xc.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new Xc(e.slice()))},t}();function nl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function il(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ol=function(){function t(t){this.fields=t,t.sort(tl.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return Dc(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),sl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function al(t){if(kc(!!t),"string"==typeof t){var e=0,n=sl.exec(t);if(kc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ul(t.seconds),nanos:ul(t.nanos)}}function ul(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function cl(t){return"string"==typeof t?Uc.fromBase64String(t):Uc.fromUint8Array(t)}function ll(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hl(t){var e=al(t.mapValue.fields.__local_write_time__.timestampValue);return new Qc(e.seconds,e.nanos)}function fl(t){return null==t}function dl(t){return 0===t&&1/t==-1/0}function pl(t){return"number"==typeof t&&Number.isInteger(t)&&!dl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function gl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ll(t)?4:10:Ac()}function vl(t,e){var n=gl(t);if(n!==gl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hl(t).isEqual(hl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=al(t.timestampValue),r=al(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return cl(t.bytesValue).isEqual(cl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ul(t.geoPointValue.latitude)===ul(e.geoPointValue.latitude)&&ul(t.geoPointValue.longitude)===ul(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ul(t.integerValue)===ul(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ul(t.doubleValue),r=ul(e.doubleValue);return n===r?dl(n)===dl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Dc(t.arrayValue.values||[],e.arrayValue.values||[],vl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(nl(n)!==nl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!vl(n[i],r[i])))return!1;return!0}(t,e);default:return Ac()}}function bl(t,e){return void 0!==(t.values||[]).find((function(t){return vl(t,e)}))}function ml(t,e){var n=gl(t),r=gl(e);if(n!==r)return Rc(n,r);switch(n){case 0:return 0;case 1:return Rc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ul(t.integerValue||t.doubleValue),r=ul(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return yl(t.timestampValue,e.timestampValue);case 4:return yl(hl(t),hl(e));case 5:return Rc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=cl(t),r=cl(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Rc(n[i],r[i]);if(0!==o)return o}return Rc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Rc(ul(t.latitude),ul(e.latitude));return 0!==n?n:Rc(ul(t.longitude),ul(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ml(n[i],r[i]);if(o)return o}return Rc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Rc(r[s],o[s]);if(0!==a)return a;var u=ml(n[r[s]],i[o[s]]);if(0!==u)return u}return Rc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ac()}}function yl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Rc(t,e);var n=al(t),r=al(e),i=Rc(n.seconds,r.seconds);return 0!==i?i:Rc(n.nanos,r.nanos)}function _l(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=al(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?cl(e.bytesValue).toBase64():"referenceValue"in e?el.ft(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Ac();var n}(t)}function wl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Ol(t){return!!t&&"integerValue"in t}function Il(t){return!!t&&"arrayValue"in t}function Cl(t){return!!t&&"nullValue"in t}function El(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tl(t){return!!t&&"mapValue"in t}var Sl=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Tl(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return vl(this.proto,t.proto)},t}(),xl=function(){function t(t){void 0===t&&(t=Sl.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===gl(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(tl.ct(),this.At);return null!=t?new Sl(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=Tl(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Pl(t){var e=[];return rl(t.fields||{},(function(t,n){var r=new tl([t]);if(Tl(n)){var i=Pl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new ol(e)}var Al=function(t,e){this.key=t,this.version=e},kl=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(wc.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Al),jl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(wc.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Al),Nl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Al),Ll=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function Rl(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Ll(t,e,n,r,i,o,s)}function Dl(t){var e=jc(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.rt()+t.op.toString()+_l(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.rt()+t.dir}(t)})).join(","),fl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ql(e.startAt)),e.endAt&&(n+="|ub:",n+=Ql(e.endAt)),e.vt=n}return e.vt}function Ml(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!$l(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!vl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zl(t.startAt,e.startAt)&&Zl(t.endAt,e.endAt)}function Ul(t){return el.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Fl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(wc.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new Vl(t,n,r):"array-contains"===n?new Bl(t,r):"in"===n?new zl(t,r):"not-in"===n?new Gl(t,r):"array-contains-any"===n?new Jl(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new Kl(t,n):new ql(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(ml(e,this.value)):null!==e&&gl(this.value)===gl(e)&&this.Dt(ml(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ac()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Vl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=el.ft(r.referenceValue),i}return Object(wc.c)(e,t),e.prototype.matches=function(t){var e=el.H(t.key,this.key);return this.Dt(e)},e}(Fl),Kl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Hl(0,n),r}return Object(wc.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Fl),ql=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Hl(0,n),r}return Object(wc.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Fl);function Hl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return el.ft(t.referenceValue)}))}var Bl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(wc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Il(e)&&bl(e.arrayValue,this.value)},e}(Fl),zl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(wc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&bl(this.value.arrayValue,e)},e}(Fl),Gl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(wc.c)(e,t),e.prototype.matches=function(t){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!bl(this.value.arrayValue,e)},e}(Fl),Jl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(wc.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Il(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return bl(e.value.arrayValue,t)}))},e}(Fl),Wl=function(t,e){this.position=t,this.before=e};function Ql(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return _l(t)})).join(",")}var Yl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function $l(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Xl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?el.H(el.ft(s.referenceValue),n.key):ml(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Zl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!vl(t.position[n],e.position[n]))return!1;return!0}var th=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Nt=null,this.$t=null};function eh(t,e,n,r,i,o,s,a){return new th(t,e,n,r,i,o,s,a)}function nh(t){return new th(t)}function rh(t){return!fl(t.limit)&&"F"===t.limitType}function ih(t){return!fl(t.limit)&&"L"===t.limitType}function oh(t){return t.xt.length>0?t.xt[0].field:null}function sh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function ah(t){return null!==t.collectionGroup}function uh(t){var e=jc(t);if(null===e.Nt){e.Nt=[];var n=sh(e),r=oh(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new Yl(n)),e.Nt.push(new Yl(tl.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var a=s[o];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new Yl(tl.ht(),u))}}}return e.Nt}function ch(t){var e=jc(t);if(!e.$t)if("F"===e.limitType)e.$t=Rl(e.path,e.collectionGroup,uh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=uh(e);r<i.length;r++){var o=i[r];n.push(new Yl(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Wl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Wl(e.startAt.position,!e.startAt.before):null;e.$t=Rl(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.$t}function lh(t,e,n){return new th(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hh(t,e){return Ml(ch(t),ch(e))&&t.limitType===e.limitType}function fh(t){return Dl(ch(t))+"|lt:"+t.limitType}function dh(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.rt()+" "+e.op+" "+_l(e.value);var e})).join(", ")+"]"),fl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ql(t.startAt)),t.endAt&&(e+=", endAt: "+Ql(t.endAt)),"Target("+e+")"}(ch(t))+"; limitType="+t.limitType+")"}function ph(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):el.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Xl(t.startAt,uh(t),e)||t.endAt&&Xl(t.endAt,uh(t),e))}(t,e)}function gh(t){return function(e,n){for(var r=!1,i=0,o=uh(t);i<o.length;i++){var s=o[i],a=vh(s,e,n);if(0!==a)return a;r=r||s.field.ut()}return 0}}function vh(t,e,n){var r=t.field.ut()?el.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ml(r,i):Ac()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ac()}}var bh=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Yc.min()),void 0===o&&(o=Yc.min()),void 0===s&&(s=Uc.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function mh(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dl(e)?"-0":e}}function yh(t){return{integerValue:""+t}}function _h(t,e){return pl(e)?yh(e):mh(t,e)}var wh=function(){this.qt=void 0};function Oh(t,e,n){return t instanceof Eh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Th?Sh(t,e):t instanceof xh?Ph(t,e):function(t,e){var n=Ch(t,e),r=kh(n)+kh(t.Ut);return Ol(n)&&Ol(t.Ut)?yh(r):mh(t.Qt,r)}(t,e)}function Ih(t,e,n){return t instanceof Th?Sh(t,e):t instanceof xh?Ph(t,e):n}function Ch(t,e){return t instanceof Ah?Ol(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e}(wh),Th=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(wc.c)(e,t),e}(wh);function Sh(t,e){for(var n=jh(e),r=function(t){n.some((function(e){return vl(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(wc.c)(e,t),e}(wh);function Ph(t,e){for(var n=jh(e),r=function(t){n=n.filter((function(e){return!vl(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ah=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(wc.c)(e,t),e}(wh);function kh(t){return ul(t.integerValue||t.doubleValue)}function jh(t){return Il(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Nh=function(t,e){this.field=t,this.transform=e},Lh=function(t,e){this.version=t,this.transformResults=e},Rh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Dh(t,e){return void 0!==t.updateTime?e instanceof kl&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof kl}var Mh=function(){};function Uh(t,e,n){return t instanceof Hh?function(t,e,n){var r=t.value,i=Gh(t.fieldTransforms,e,n.transformResults);return r=Wh(t.fieldTransforms,r,i),new kl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Bh?function(t,e,n){if(!Dh(t.jt,e))return new Nl(t.key,n.version);var r=zh(t,e,Gh(t.fieldTransforms,e,n.transformResults));return new kl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new jl(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Fh(t,e,n){return t instanceof Hh?function(t,e,n){if(!Dh(t.jt,e))return e;var r=t.value,i=Jh(t.fieldTransforms,n,e);r=Wh(t.fieldTransforms,r,i);var o=qh(e);return new kl(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof Bh?function(t,e,n){if(!Dh(t.jt,e))return e;var r=qh(e),i=zh(t,e,Jh(t.fieldTransforms,n,e));return new kl(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Dh(t.jt,e)?new jl(t.key,Yc.min()):e}(t,e)}function Vh(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof kl?e.field(o.field):void 0,a=Ch(o.transform,s||null);null!=a&&(n=null==n?(new xl).set(o.field,a):n.set(o.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function Kh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Dc(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Th&&e instanceof Th||t instanceof xh&&e instanceof xh?Dc(t.elements,e.elements,vl):t instanceof Ah&&e instanceof Ah?vl(t.Ut,e.Ut):t instanceof Eh&&e instanceof Eh}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function qh(t){return t instanceof kl?t.version:Yc.min()}var Hh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(wc.c)(e,t),e}(Mh),Bh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Object(wc.c)(e,t),e}(Mh);function zh(t,e,n){var r;return r=function(t,e){var n=new xl(e);return t.Gt.fields.forEach((function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Pt()}(t,r=e instanceof kl?e.data():Sl.empty()),Wh(t.fieldTransforms,r,n)}function Gh(t,e,n){var r=[];kc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof kl&&(a=e.field(o.field)),r.push(Ih(s,a,n[i]))}return r}function Jh(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof kl&&(u=n.field(s.field)),r.push(Oh(a,u,e))}return r}function Wh(t,e,n){for(var r=new xl(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var Qh,Yh,$h=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(wc.c)(e,t),e}(Mh),Xh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(wc.c)(e,t),e}(Mh),Zh=function(t){this.count=t};function tf(t){switch(t){case Fc.OK:return Ac();case Fc.CANCELLED:case Fc.UNKNOWN:case Fc.DEADLINE_EXCEEDED:case Fc.RESOURCE_EXHAUSTED:case Fc.INTERNAL:case Fc.UNAVAILABLE:case Fc.UNAUTHENTICATED:return!1;case Fc.INVALID_ARGUMENT:case Fc.NOT_FOUND:case Fc.ALREADY_EXISTS:case Fc.PERMISSION_DENIED:case Fc.FAILED_PRECONDITION:case Fc.ABORTED:case Fc.OUT_OF_RANGE:case Fc.UNIMPLEMENTED:case Fc.DATA_LOSS:return!0;default:return Ac()}}function ef(t){if(void 0===t)return Sc("GRPC error has no .code"),Fc.UNKNOWN;switch(t){case Qh.OK:return Fc.OK;case Qh.CANCELLED:return Fc.CANCELLED;case Qh.UNKNOWN:return Fc.UNKNOWN;case Qh.DEADLINE_EXCEEDED:return Fc.DEADLINE_EXCEEDED;case Qh.RESOURCE_EXHAUSTED:return Fc.RESOURCE_EXHAUSTED;case Qh.INTERNAL:return Fc.INTERNAL;case Qh.UNAVAILABLE:return Fc.UNAVAILABLE;case Qh.UNAUTHENTICATED:return Fc.UNAUTHENTICATED;case Qh.INVALID_ARGUMENT:return Fc.INVALID_ARGUMENT;case Qh.NOT_FOUND:return Fc.NOT_FOUND;case Qh.ALREADY_EXISTS:return Fc.ALREADY_EXISTS;case Qh.PERMISSION_DENIED:return Fc.PERMISSION_DENIED;case Qh.FAILED_PRECONDITION:return Fc.FAILED_PRECONDITION;case Qh.ABORTED:return Fc.ABORTED;case Qh.OUT_OF_RANGE:return Fc.OUT_OF_RANGE;case Qh.UNIMPLEMENTED:return Fc.UNIMPLEMENTED;case Qh.DATA_LOSS:return Fc.DATA_LOSS;default:return Ac()}}(Yh=Qh||(Qh={}))[Yh.OK=0]="OK",Yh[Yh.CANCELLED=1]="CANCELLED",Yh[Yh.UNKNOWN=2]="UNKNOWN",Yh[Yh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yh[Yh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yh[Yh.NOT_FOUND=5]="NOT_FOUND",Yh[Yh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yh[Yh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yh[Yh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yh[Yh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yh[Yh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yh[Yh.ABORTED=10]="ABORTED",Yh[Yh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yh[Yh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yh[Yh.INTERNAL=13]="INTERNAL",Yh[Yh.UNAVAILABLE=14]="UNAVAILABLE",Yh[Yh.DATA_LOSS=15]="DATA_LOSS";var nf=function(){function t(t,e){this.H=t,this.root=e||of.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,of.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,of.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Xt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new rf(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new rf(this.root,t,this.H,!1)},t.prototype.ne=function(){return new rf(this.root,null,this.H,!0)},t.prototype.se=function(t){return new rf(this.root,t,this.H,!0)},t}(),rf=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),of=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Ac();if(this.right.le())throw Ac();var t=this.left.Ie();if(t!==this.right.Ie())throw Ac();return t+(this.le()?0:1)},t}();of.EMPTY=null,of.RED=!0,of.Ht=!1,of.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ac()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ac()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ac()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ac()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ac()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new of(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var sf=function(){function t(t){this.H=t,this.data=new nf(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt((function(e,n){return t(e),!1}))},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new af(this.data.te())},t.prototype.ee=function(t){return new af(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),af=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),uf=new nf(el.H);function cf(){return uf}function lf(){return cf()}var hf=new nf(el.H);function ff(){return hf}var df=new nf(el.H);function pf(){return df}var gf=new sf(el.H);function vf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=gf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var bf=new sf(Rc);function mf(){return bf}var yf=function(){function t(t){this.H=t?function(e,n){return t(e,n)||el.H(e.key,n.key)}:function(t,e){return el.H(t.key,e.key)},this.ge=ff(),this.Ve=new nf(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),_f=function(){function t(){this.be=new nf(el.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Ac():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt((function(e,n){t.push(n)})),t},t}(),wf=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=a}return t.Ne=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,yf.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Of=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,If.Le(e,n)),new t(Yc.min(),r,mf(),cf(),vf())},t}(),If=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(Uc.T,n,vf(),vf(),vf())},t}(),Cf=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Ef=function(t,e){this.targetId=t,this.je=e},Tf=function(t,e,n,r){void 0===n&&(n=Uc.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Sf=function(){function t(){this.Ge=0,this.ze=Af(),this.He=Uc.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=vf(),e=vf(),n=vf();return this.ze.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ac()}})),new If(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Af()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),xf=function(){function t(t){this.un=t,this.hn=new Map,this.ln=cf(),this._n=Pf(),this.fn=new sf(Rc)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof kl?this.wn(r,t.We):t.We instanceof jl&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,(function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Ac()}}))},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach((function(t,r){n.An(r)&&e(r)}))},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(Ul(i))if(0===n){var o=new el(i.path);this.En(e,o,new jl(o,Yc.min()))}else kc(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach((function(r,i){var o=e.yn(i);if(o){if(r.Be&&Ul(o.target)){var s=new el(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new jl(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}}));var r=vf();this._n.forEach((function(t,n){var i=!0;n.Ae((function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Of(t,n,this.fn,this.ln,r);return this.ln=cf(),this._n=Pf(),this.fn=new sf(Rc),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Sf,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new sf(Rc),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||Tc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Sf),this.un.vn(t).forEach((function(n){e.En(t,n,null)}))},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function Pf(){return new nf(el.H)}function Af(){return new nf(el.H)}var kf={asc:"ASCENDING",desc:"DESCENDING"},jf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nf=function(t,e){this.t=t,this.Bt=e};function Lf(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rf(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Df(t,e){return Lf(t,e.j())}function Mf(t){return kc(!!t),Yc.K(function(t){var e=al(t);return new Qc(e.seconds,e.nanos)}(t))}function Uf(t,e){return function(t){return new Xc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function Ff(t){var e=Xc.ot(t);return kc(ud(e)),e}function Vf(t,e){return Uf(t.t,e.path)}function Kf(t,e){var n=Ff(e);if(n.get(1)!==t.t.projectId)throw new Vc(Fc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Vc(Fc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new el(zf(n))}function qf(t,e){return Uf(t.t,e)}function Hf(t){var e=Ff(t);return 4===e.length?Xc.ct():zf(e)}function Bf(t){return new Xc(["projects",t.t.projectId,"databases",t.t.database]).rt()}function zf(t){return kc(t.length>4&&"documents"===t.get(4)),t.Y(5)}function Gf(t,e,n){return{name:Vf(t,e),fields:n.proto.mapValue.fields}}function Jf(t,e,n){var r=Kf(t,e.name),i=Mf(e.updateTime),o=new Sl({mapValue:{fields:e.fields}});return new kl(r,i,o,{hasCommittedMutations:!!n})}function Wf(t,e){var n;if(e instanceof Hh)n={update:Gf(t,e.key,e.value)};else if(e instanceof $h)n={delete:Vf(t,e.key)};else if(e instanceof Bh)n={update:Gf(t,e.key,e.data),updateMask:ad(e.Gt)};else{if(!(e instanceof Xh))return Ac();n={verify:Vf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Eh)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Th)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof xh)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof Ah)return{fieldPath:e.field.rt(),increment:n.Ut};throw Ac()}(0,t)}))),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Df(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ac()}(t,e.jt)),n}function Qf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Rh.updateTime(Mf(t.updateTime)):void 0!==t.exists?Rh.exists(t.exists):Rh.Kt()}(e.currentDocument):Rh.Kt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(kc("REQUEST_TIME"===e.setToServerValue),n=new Eh):"appendMissingElements"in e?n=new Th(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new xh(e.removeAllFromArray.values||[]):"increment"in e?n=new Ah(t,e.increment):Ac();var r=tl.lt(e.fieldPath);return new Nh(r,n)}(t,e)})):[];if(e.update){var i=Kf(t,e.update.name),o=new Sl({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new ol((t.fieldPaths||[]).map((function(t){return tl.lt(t)})))}(e.updateMask);return new Bh(i,o,s,n,r)}return new Hh(i,o,n,r)}if(e.delete){var a=Kf(t,e.delete);return new $h(a,n)}if(e.verify){var u=Kf(t,e.verify);return new Xh(u,n)}return Ac()}function Yf(t,e){return{documents:[qf(t,e.path)]}}function $f(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=qf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=qf(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(El(t.value))return{unaryFilter:{field:rd(t.field),op:"IS_NAN"}};if(Cl(t.value))return{unaryFilter:{field:rd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(El(t.value))return{unaryFilter:{field:rd(t.field),op:"IS_NOT_NAN"}};if(Cl(t.value))return{unaryFilter:{field:rd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rd(t.field),op:nd(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:rd(t.field),direction:ed(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||fl(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Zf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Zf(e.endAt)),n}function Xf(t){var e=Hf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){kc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[sd(e)]:void 0!==e.fieldFilter?[od(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Ac():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Yl(id(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return fl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=td(n.startAt));var l=null;return n.endAt&&(l=td(n.endAt)),eh(e,i,a,s,u,"F",c,l)}function Zf(t){return{before:t.before,values:t.position}}function td(t){return new Wl(t.values||[],!!t.before)}function ed(t){return kf[t]}function nd(t){return jf[t]}function rd(t){return{fieldPath:t.rt()}}function id(t){return tl.lt(t.fieldPath)}function od(t){return Fl.create(id(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ac()}}(t.fieldFilter.op),t.fieldFilter.value)}function sd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=id(t.unaryFilter.field);return Fl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=id(t.unaryFilter.field);return Fl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=id(t.unaryFilter.field);return Fl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=id(t.unaryFilter.field);return Fl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ac()}}function ad(t){var e=[];return t.fields.forEach((function(t){return e.push(t.rt())})),{fieldPaths:e}}function ud(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var cd=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},ld=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t((function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)}),(function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Ac(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t((function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}}))},t.prototype.On=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn((function(){return e(n)})):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Mn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Mn(r)},t}(),hd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new cd,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new pd(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=yd(e.target.error);n.Bn.reject(new pd(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new pd(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Tc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new vd(e)},t}(),fd=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(wo.p)())&&Sc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Tc("SimpleDb","Removing database:",t),bd(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(wo.p)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n=this;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Tc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new pd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Vc(Fc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new pd(t,n))},i.onupgradeneeded=function(t){Tc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Tc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}}))}))},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(wc.b)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(wc.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(wc.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=h.sent(),e=hd.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),ld.reject(t)})).On(),u={},s.catch((function(){})),[4,e.qn];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Tc("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),dd=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return bd(this.Zn.delete())},t}(),pd=function(t){function e(e,n){var r=this;return(r=t.call(this,Fc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(wc.c)(e,t),e}(Vc);function gd(t){return"IndexedDbTransactionError"===t.name}var vd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Tc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Tc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),bd(n)},t.prototype.add=function(t){return Tc("SimpleDb","ADD",this.store.name,t,t),bd(this.store.add(t))},t.prototype.get=function(t){var e=this;return bd(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Tc("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Tc("SimpleDb","DELETE",this.store.name,t),bd(this.store.delete(t))},t.prototype.count=function(){return Tc("SimpleDb","COUNT",this.store.name),bd(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.cs=function(t,e){Tc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,(function(t,e,n){return n.delete()}))},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new ld((function(n,r){e.onerror=function(t){var e=yd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.os=function(t,e){var n=[];return new ld((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new dd(i),s=e(i.primaryKey,i.value,o);if(s instanceof ld){var a=s.catch((function(t){return o.done(),ld.reject(t)}));n.push(a)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}})).next((function(){return ld.Mn(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function bd(t){return new ld((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=yd(t.target.error);n(e)}}))}var md=!1;function yd(t){var e=fd.Qn(Object(wo.p)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Vc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return md||(md=!0,setTimeout((function(){throw r}),0)),r}}return t}var _d=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new cd,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch((function(t){}))}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout((function(){return e.As()}),t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new Vc(Fc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps((function(){return null!==t.Is?(t.clearTimeout(),t.op().then((function(e){return t.Es.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function wd(t,e){if(Sc("AsyncQueue",e+": "+t),gd(t))return new Vc(Fc.UNAVAILABLE,e+": "+t);throw t}var Od="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Id=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach((function(t){return t()}))},t}();function Cd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Td(e)),e=Ed(t.get(n),e);return Td(e)}function Ed(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Td(t){return t+"\x01\x01"}function Sd(t){var e=t.length;if(kc(e>=2),2===e)return kc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Xc.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ac(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ac()}o=s+2}return new Xc(r)}var xd=function(t,e){this.seconds=t,this.nanoseconds=e},Pd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Pd.store="owner",Pd.key="owner";var Ad=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ad.store="mutationQueues",Ad.keyPath="userId";var kd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};kd.store="mutations",kd.keyPath="batchId",kd.userMutationsIndex="userMutationsIndex",kd.userMutationsKeyPath=["userId","batchId"];var jd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Cd(e)]},t.key=function(t,e,n){return[t,Cd(e),n]},t}();jd.store="documentMutations",jd.PLACEHOLDER=new jd;var Nd=function(t,e){this.path=t,this.readTime=e},Ld=function(t,e){this.path=t,this.version=e},Rd=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Rd.store="remoteDocuments",Rd.readTimeIndex="readTimeIndex",Rd.readTimeIndexPath="readTime",Rd.collectionReadTimeIndex="collectionReadTimeIndex",Rd.collectionReadTimeIndexPath=["parentPath","readTime"];var Dd=function(t){this.byteSize=t};Dd.store="remoteDocumentGlobal",Dd.key="remoteDocumentGlobalKey";var Md=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Md.store="targets",Md.keyPath="targetId",Md.queryTargetsIndexName="queryTargetsIndex",Md.queryTargetsKeyPath=["canonicalId","targetId"];var Ud=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ud.store="targetDocuments",Ud.keyPath=["targetId","path"],Ud.documentTargetsIndex="documentTargetsIndex",Ud.documentTargetsKeyPath=["path","targetId"];var Fd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Fd.key="targetGlobalKey",Fd.store="targetGlobal";var Vd=function(t,e){this.collectionId=t,this.parent=e};Vd.store="collectionParents",Vd.keyPath=["collectionId","parent"];var Kd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Kd.store="clientMetadata",Kd.keyPath="clientId";var qd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};qd.store="bundles",qd.keyPath="bundleId";var Hd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Hd.store="namedQueries",Hd.keyPath="name";var Bd=Object(wc.f)(Object(wc.f)([],Object(wc.f)(Object(wc.f)([],Object(wc.f)(Object(wc.f)([],Object(wc.f)(Object(wc.f)([],[Ad.store,kd.store,jd.store,Rd.store,Md.store,Pd.store,Fd.store,Ud.store]),[Kd.store])),[Dd.store])),[Vd.store])),[qd.store,Hd.store]),zd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(wc.c)(e,t),e}(Id);function Gd(t,e){var n=jc(t);return fd.zn(n.ps,e)}var Jd=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Uh(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Fh(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Fh(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),vf())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Dc(this.mutations,t.mutations,(function(t,e){return Kh(t,e)}))&&Dc(this.baseMutations,t.baseMutations,(function(t,e){return Kh(t,e)}))},t}(),Wd=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){kc(e.mutations.length===r.length);for(var i=pf(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Qd=function(t){this.Fs=t};function Yd(t,e){if(e.document)return Jf(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=el.Et(e.noDocument.path),r=ep(e.noDocument.readTime);return new jl(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=el.Et(e.unknownDocument.path);return r=ep(e.unknownDocument.version),new Nl(i,r)}return Ac()}function $d(t,e,n){var r=Xd(n),i=e.key.path.X().it();if(e instanceof kl){var o=function(t,e){return{name:Vf(t,e.key),fields:e.bt().mapValue.fields,updateTime:Lf(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new Rd(null,null,o,s,r,i)}if(e instanceof jl){var a=e.key.path.it(),u=tp(e.version);return s=e.hasCommittedMutations,new Rd(null,new Nd(a,u),null,s,r,i)}if(e instanceof Nl){var c=e.key.path.it(),l=tp(e.version);return new Rd(new Ld(c,l),null,null,!0,r,i)}return Ac()}function Xd(t){var e=t.j();return[e.seconds,e.nanoseconds]}function Zd(t){var e=new Qc(t[0],t[1]);return Yc.K(e)}function tp(t){var e=t.j();return new xd(e.seconds,e.nanoseconds)}function ep(t){var e=new Qc(t.seconds,t.nanoseconds);return Yc.K(e)}function np(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Qf(t.Fs,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Qf(t.Fs,e)})),o=Qc.fromMillis(e.localWriteTimeMs);return new Jd(e.batchId,o,n,i)}function rp(t){var e,n,r=ep(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ep(t.lastLimboFreeSnapshotVersion):Yc.min();return void 0!==t.query.documents?(kc(1===(n=t.query).documents.length),e=ch(nh(Hf(n.documents[0])))):e=function(t){return ch(Xf(t))}(t.query),new bh(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Uc.fromBase64String(t.resumeToken))}function ip(t,e){var n,r=tp(e.Ot),i=tp(e.lastLimboFreeSnapshotVersion);n=Ul(e.target)?Yf(t.Fs,e.target):$f(t.Fs,e.target);var o=e.resumeToken.toBase64();return new Md(e.targetId,Dl(e.target),r,o,e.sequenceNumber,i,n)}function op(t){var e=Xf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?lh(e,e.limit,"L"):e}var sp=function(){function t(){}return t.prototype.Os=function(t,e){return ap(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:ep(e.createTime),version:e.version};var e}))},t.prototype.ks=function(t,e){return ap(t).put({bundleId:(n=e).id,createTime:tp(Mf(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return up(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:op(e.bundledQuery),readTime:ep(e.readTime)};var e}))},t.prototype.Ls=function(t,e){return up(t).put(function(t){return{name:t.name,readTime:tp(Mf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function ap(t){return Gd(t,qd.store)}function up(t){return Gd(t,Hd.store)}var cp=function(){function t(){this.Bs=new lp}return t.prototype.qs=function(t,e){return this.Bs.add(e),ld.resolve()},t.prototype.Us=function(t,e){return ld.resolve(this.Bs.getEntries(e))},t}(),lp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new sf(Xc.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new sf(Xc.H)).it()},t}(),hp=function(){function t(){this.Qs=new lp}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs((function(){n.Qs.add(e)}));var o={collectionId:r,parent:Cd(i)};return fp(t).put(o)}return ld.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Mc(e),""],!1,!0);return fp(t).rs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Sd(o.parent))}return n}))},t}();function fp(t){return Gd(t,Vd.store)}var dp={Ks:!1,Ws:0,js:0,Gs:0},pp=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function gp(t){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){if(t.code!==Fc.FAILED_PRECONDITION||t.message!==Od)throw t;return Tc("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}pp.Xs=10,pp.Zs=1e3,pp.ti=new pp(41943040,pp.Xs,pp.Zs),pp.ei=new pp(-1,0,0);var vp=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){rl(this.ii,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.et=function(){return il(this.ii)},t}(),bp=function(){function t(){this.ri=new vp((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:Yc.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?ld.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function mp(t,e,n){var r=t.store(kd.store),i=t.store(jd.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.hs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){kc(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=jd.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return ld.Mn(o).next((function(){return c}))}function yp(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ac();e=t.noDocument}return JSON.stringify(e).length}var _p=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return kc(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Op(t).hs({index:kd.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ri=function(t,e,n,r){var i=this,o=Ip(t),s=Op(t);return s.add({}).next((function(a){kc("number"==typeof a);for(var u=new Jd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Wf(t.Fs,e)})),i=n.mutations.map((function(e){return Wf(t.Fs,e)}));return new kd(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),l=[],h=new sf((function(t,e){return Rc(t.rt(),e.rt())})),f=0,d=r;f<d.length;f++){var p=d[f],g=jd.key(i.userId,p.key.path,a);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(g,jd.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ei.qs(t,e))})),t.gs((function(){i.Ii[a]=u.keys()})),ld.Mn(l).next((function(){return u}))}))},t.prototype.Pi=function(t,e){var n=this;return Op(t).get(e).next((function(t){return t?(kc(t.userId===n.userId),np(n.Qt,t)):null}))},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?ld.resolve(this.Ii[e]):this.Pi(t,e).next((function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null}))},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Op(t).hs({index:kd.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(kc(e.batchId>=r),o=np(n.Qt,e)),i.done()})).next((function(){return o}))},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Op(t).hs({index:kd.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Op(t).rs(kd.userMutationsIndex,n).next((function(t){return t.map((function(t){return np(e.Qt,t)}))}))},t.prototype.bi=function(t,e){var n=this,r=jd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ip(t).hs({range:i},(function(r,i,s){var a=r[0],u=r[2],c=Sd(r[1]);if(a===n.userId&&e.path.isEqual(c))return Op(t).get(u).next((function(t){if(!t)throw Ac();kc(t.userId===n.userId),o.push(np(n.Qt,t))}));s.done()})).next((function(){return o}))},t.prototype.vi=function(t,e){var n=this,r=new sf(Rc),i=[];return e.forEach((function(e){var o=jd.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ip(t).hs({range:s},(function(t,i,o){var s=t[0],a=t[2],u=Sd(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),ld.Mn(i).next((function(){return n.Si(t,r)}))},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=jd.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new sf(Rc);return Ip(t).hs({range:s},(function(t,e,o){var s=t[0],u=t[2],c=Sd(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Si(t,a)}))},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Op(t).get(e).next((function(t){if(null===t)throw Ac();kc(t.userId===n.userId),r.push(np(n.Qt,t))})))})),ld.Mn(i).next((function(){return r}))},t.prototype.Ci=function(t,e){var n=this;return mp(t.ps,this.userId,e).next((function(r){return t.gs((function(){n.xi(e.batchId)})),ld.forEach(r,(function(e){return n.Ti.Ni(t,e)}))}))},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next((function(n){if(!n)return ld.resolve();var r=IDBKeyRange.lowerBound(jd.prefixForUser(e.userId)),i=[];return Ip(t).hs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Sd(t[1]);i.push(o)}else r.done()})).next((function(){kc(0===i.length)}))}))},t.prototype.Fi=function(t,e){return wp(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Cp(t).get(this.userId).next((function(t){return t||new Ad(e.userId,-1,"")}))},t}();function wp(t,e,n){var r=jd.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ip(t).hs({range:o,us:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Op(t){return Gd(t,kd.store)}function Ip(t){return Gd(t,jd.store)}function Cp(t){return Gd(t,Ad.store)}var Ep=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),Tp=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next((function(n){var r=new Ep(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Qi=function(t){return this.qi(t).next((function(t){return Yc.K(new Qc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ki=function(t){return this.qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)}))},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next((function(){return n.qi(t).next((function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)}))}))},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next((function(){return Sp(t).delete(e.targetId)})).next((function(){return n.qi(t)})).next((function(e){return kc(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)}))},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return Sp(t).hs((function(s,a){var u=rp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))})).next((function(){return ld.Mn(o)})).next((function(){return i}))},t.prototype.In=function(t,e){return Sp(t).hs((function(t,n){var r=rp(n);e(r)}))},t.prototype.qi=function(t){return xp(t).get(Fd.key).next((function(t){return kc(null!==t),t}))},t.prototype.Ui=function(t,e){return xp(t).put(Fd.key,e)},t.prototype.Gi=function(t,e){return Sp(t).put(ip(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next((function(t){return t.targetCount}))},t.prototype.tr=function(t,e){var n=Dl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Sp(t).hs({range:r,index:Md.queryTargetsIndexName},(function(t,n,r){var o=rp(n);Ml(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.er=function(t,e,n){var r=this,i=[],o=Pp(t);return e.forEach((function(e){var s=Cd(e.path);i.push(o.put(new Ud(n,s))),i.push(r.Ti.nr(t,n,e))})),ld.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=Pp(t);return ld.forEach(e,(function(e){var o=Cd(e.path);return ld.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])}))},t.prototype.Yi=function(t,e){var n=Pp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Pp(t),i=vf();return r.hs({range:n,us:!0},(function(t,e,n){var r=Sd(t[1]),o=new el(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Fi=function(t,e){var n=Cd(e.path),r=IDBKeyRange.bound([n],[Mc(n)],!1,!0),i=0;return Pp(t).hs({index:Ud.documentTargetsIndex,us:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Sn=function(t,e){return Sp(t).get(e).next((function(t){return t?rp(t):null}))},t}();function Sp(t){return Gd(t,Md.store)}function xp(t){return Gd(t,Fd.store)}function Pp(t){return Gd(t,Ud.store)}function Ap(t,e){var n=t[1],r=e[1],i=Rc(t[0],e[0]);return 0===i?Rc(n,r):i}var kp=function(){function t(t){this.cr=t,this.buffer=new sf(Ap),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ap(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),jp=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;Tc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,(function(){return Object(wc.b)(e,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return gd(e=n.sent())?(Tc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,gp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Np=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Pr=function(t,e){var n=this;if(0===e)return ld.resolve(Wc.q);var r=new kp(e);return this.mr.In(t,(function(t){return r.hr(t.sequenceNumber)})).next((function(){return n.mr.yr(t,(function(t){return r.hr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(Tc("LruGarbageCollector","Garbage collection skipped; disabled"),ld.resolve(dp)):this.pr(t).next((function(r){return r<n.params.zs?(Tc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),dp):n.br(t,e)}))},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next((function(e){return e>c.params.Js?(Tc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)})).next((function(r){return n=r,s=Date.now(),c.Xi(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.gr(t,n)})).next((function(t){return u=Date.now(),Ec()<=_o.a.DEBUG&&Tc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),ld.resolve({Ks:!0,Ws:r,js:i,Gs:t})}))},t}(),Lp=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new Np(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.vr=function(t){var e=0;return this.yr(t,(function(t){e++})).next((function(){return e}))},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,(function(t,n){return e(n)}))},t.prototype.nr=function(t,e,n){return Rp(t,n)},t.prototype.ir=function(t,e,n){return Rp(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Rp(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Cp(t).ls((function(r){return wp(t,r,e).next((function(t){return t&&(n=!0),ld.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,(function(s,a){if(a<=e){var u=n.Cr(t,s).next((function(e){if(!e)return o++,r._i(t,s).next((function(){return r.li(s),Pp(t).delete([0,Cd(s.path)])}))}));i.push(u)}})).next((function(){return ld.Mn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return Rp(t,e)},t.prototype.Dr=function(t,e){var n,r=Pp(t),i=Wc.q;return r.hs({index:Ud.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Wc.q&&e(new el(Sd(n)),i),i=s,n=o):i=Wc.q})).next((function(){i!==Wc.q&&e(new el(Sd(n)),i)}))},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function Rp(t,e){return Pp(t).put(function(t,e){return new Ud(0,Cd(t.path),e)}(e,t.bs))}var Dp=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return Fp(t).put(Vp(e),n)},t.prototype.li=function(t,e){var n=Fp(t),r=Vp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype._i=function(t,e){var n=this;return Fp(t).get(Vp(e)).next((function(t){return n.Mr(t)}))},t.prototype.Lr=function(t,e){var n=this;return Fp(t).get(Vp(e)).next((function(t){var e=n.Mr(t);return e?{hi:e,size:yp(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=lf();return this.Br(t,e,(function(t,e){var i=n.Mr(e);r=r.zt(t,i)})).next((function(){return r}))},t.prototype.qr=function(t,e){var n=this,r=lf(),i=new nf(el.H);return this.Br(t,e,(function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,yp(e))):(r=r.zt(t,null),i=i.zt(t,0))})).next((function(){return{Ur:r,Qr:i}}))},t.prototype.Br=function(t,e,n){if(e.et())return ld.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return Fp(t).hs({range:r},(function(t,e,r){for(var s=el.Et(t);o&&el.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ce()?i.oe():null}))},t.prototype.Kr=function(t,e,n){var r=this,i=ff(),o=e.path.length+1,s={};if(n.isEqual(Yc.min())){var a=e.path.it();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.it(),c=Xd(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Rd.collectionReadTimeIndex}return Fp(t).hs(s,(function(t,n,s){if(t.length===o){var a=Yd(r.Qt,n);e.path.nt(a.key.path)?a instanceof kl&&ph(e,a)&&(i=i.zt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Nr=function(t){return new Mp(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Up(t).get(Dd.key).next((function(t){return kc(!!t),t}))},t.prototype.kr=function(t,e){return Up(t).put(Dd.key,e)},t.prototype.Mr=function(t){if(t){var e=Yd(this.Qt,t);return e instanceof jl&&e.version.isEqual(Yc.min())?null:e}return null},t}(),Mp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new vp((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(wc.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new sf((function(t,e){return Rc(t.rt(),e.rt())}));return this.ri.forEach((function(o,s){var a=e.Gr.get(o);if(s.hi){var u=$d(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=yp(u);r+=c-a,n.push(e.jr.ai(t,o,u))}else if(r-=a,e.Wr){var l=$d(e.jr.Qt,new jl(o,Yc.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))})),i.forEach((function(r){n.push(e.jr.Ei.qs(t,r))})),n.push(this.jr.updateMetadata(t,r)),ld.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next((function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)}))},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next((function(t){var e=t.Ur;return t.Qr.forEach((function(t,e){n.Gr.set(t,e)})),e}))},e}(bp);function Up(t){return Gd(t,Dd.store)}function Fp(t){return Gd(t,Rd.store)}function Vp(t){return t.path.it()}var Kp=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;kc(n<r&&n>=0&&r<=11);var o=new hd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Pd.store)}(t),function(t){t.createObjectStore(Ad.store,{keyPath:Ad.keyPath}),t.createObjectStore(kd.store,{keyPath:kd.keyPath,autoIncrement:!0}).createIndex(kd.userMutationsIndex,kd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(jd.store)}(t),qp(t),function(t){t.createObjectStore(Rd.store)}(t));var s=ld.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ud.store),t.deleteObjectStore(Md.store),t.deleteObjectStore(Fd.store)}(t),qp(t)),s=s.next((function(){return function(t){var e=t.store(Fd.store),n=new Fd(0,0,Yc.min().j(),0);return e.put(Fd.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(kd.store).rs().next((function(n){t.deleteObjectStore(kd.store),t.createObjectStore(kd.store,{keyPath:kd.keyPath,autoIncrement:!0}).createIndex(kd.userMutationsIndex,kd.userMutationsKeyPath,{unique:!0});var r=e.store(kd.store),i=n.map((function(t){return r.put(t)}));return ld.Mn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Kd.store,{keyPath:Kd.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.zr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Dd.store)}(t),i.Hr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Jr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Yr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Rd.store);e.createIndex(Rd.readTimeIndex,Rd.readTimeIndexPath,{unique:!1}),e.createIndex(Rd.collectionReadTimeIndex,Rd.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Xr(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(qd.store,{keyPath:qd.keyPath})}(t),function(t){t.createObjectStore(Hd.store,{keyPath:Hd.keyPath})}(t)}))),s},t.prototype.Hr=function(t){var e=0;return t.store(Rd.store).hs((function(t,n){e+=yp(n)})).next((function(){var n=new Dd(e);return t.store(Dd.store).put(Dd.key,n)}))},t.prototype.zr=function(t){var e=this,n=t.store(Ad.store),r=t.store(kd.store);return n.rs().next((function(n){return ld.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(kd.userMutationsIndex,i).next((function(r){return ld.forEach(r,(function(r){kc(r.userId===n.userId);var i=np(e.Qt,r);return mp(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Jr=function(t){var e=t.store(Ud.store),n=t.store(Rd.store);return t.store(Fd.store).get(Fd.key).next((function(t){var r=[];return n.hs((function(n,i){var o=new Xc(n),s=function(t){return[0,Cd(t)]}(o);r.push(e.get(s).next((function(n){return n?ld.resolve():function(n){return e.put(new Ud(0,Cd(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return ld.Mn(r)}))}))},t.prototype.Yr=function(t,e){t.createObjectStore(Vd.store,{keyPath:Vd.keyPath});var n=e.store(Vd.store),r=new lp,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Cd(i)})}};return e.store(Rd.store).hs({us:!0},(function(t,e){var n=new Xc(t);return i(n.X())})).next((function(){return e.store(jd.store).hs({us:!0},(function(t,e){var n=Sd(t[1]);return i(n.X())}))}))},t.prototype.Xr=function(t){var e=this,n=t.store(Md.store);return n.hs((function(t,r){var i=rp(r),o=ip(e.Qt,i);return n.put(o)}))},t}();function qp(t){t.createObjectStore(Ud.store,{keyPath:Ud.keyPath}).createIndex(Ud.documentTargetsIndex,Ud.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Md.store,{keyPath:Md.keyPath}).createIndex(Md.queryTargetsIndexName,Md.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Fd.store)}var Hp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Bp=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=a,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new Vc(Fc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Lp(this,i),this.ho=n+"main",this.Qt=new Qd(u),this.lo=new fd(this.ho,11,new Kp(this.Qt)),this._o=new Tp(this.Ti,this.Qt),this.Ei=new hp,this.fo=function(t,e){return new Dp(t,e)}(this.Qt,this.Ei),this.wo=new sp,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&Sc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Vc(Fc.FAILED_PRECONDITION,Hp);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t._o.Ki(e)}))})).then((function(e){t.so=new Wc(e,t.eo)})).then((function(){t.io=!0})).catch((function(e){return t.lo&&t.lo.close(),Promise.reject(e)}))},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(wc.b)(e,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){return this.Er?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn((function(n){return Object(wc.b)(e,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps((function(){return Object(wc.b)(e,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Gp(e).put(new Kd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Vo(e).next((function(e){e||(t.isPrimary=!1,t.Zr.po((function(){return t.uo(!1)})))}))})).next((function(){return t.bo(e)})).next((function(n){return t.isPrimary&&!n?t.vo(e).next((function(){return!1})):!!n&&t.So(e).next((function(){return!0}))}))})).catch((function(e){if(gd(e))return Tc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Tc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Zr.po((function(){return t.uo(e)})),t.isPrimary=e}))},t.prototype.Vo=function(t){var e=this;return zp(t).get(Pd.key).next((function(t){return ld.resolve(e.Do(t))}))},t.prototype.Co=function(t){return Gp(t).delete(this.clientId)},t.prototype.xo=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Gd(t,Kd.store);return e.rs().next((function(t){var n=r.$o(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return ld.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,(function(){return t.To().then((function(){return t.xo()})).then((function(){return t.Ao()}))}))},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?ld.resolve(!0):zp(t).get(Pd.key).next((function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new Vc(Fc.FAILED_PRECONDITION,Hp);return!1}}return!(!e.networkEnabled||!e.inForeground)||Gp(t).rs().next((function(t){return void 0===e.$o(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Tc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.ko=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t=this;return Object(wc.d)(this,(function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Pd.store,Kd.store],(function(e){var n=new zd(e,Wc.q);return t.vo(n).next((function(){return t.Co(n)}))}))];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}}))}))},t.prototype.$o=function(t,e){var n=this;return t.filter((function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)}))},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Gp(e).rs().next((function(e){return t.$o(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return _p.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Tc("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Bd,(function(o){return r=new zd(o,i.so?i.so.next():Wc.q),"readwrite-primary"===e?i.Vo(r).next((function(t){return!!t||i.bo(r)})).next((function(e){if(!e)throw Sc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po((function(){return i.uo(!1)})),new Vc(Fc.FAILED_PRECONDITION,Od);return n(r)})).next((function(t){return i.So(r).next((function(){return t}))})):i.jo(r).next((function(){return n(r)}))})).then((function(t){return r.Vs(),t}))},t.prototype.jo=function(t){var e=this;return zp(t).get(Pd.key).next((function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Vc(Fc.FAILED_PRECONDITION,Hp)}))},t.prototype.So=function(t){var e=new Pd(this.clientId,this.allowTabSynchronization,Date.now());return zp(t).put(Pd.key,e)},t.Kn=function(){return fd.Kn()},t.prototype.vo=function(t){var e=this,n=zp(t);return n.get(Pd.key).next((function(t){return e.Do(t)?(Tc("IndexedDbPersistence","Releasing primary lease."),n.delete(Pd.key)):ld.resolve()}))},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Sc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps((function(){return t.inForeground="visible"===t.document.visibilityState,t.To()}))},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps((function(){return e.ko()}))},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return Tc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Sc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Sc("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function zp(t){return Gd(t,Pd.store)}function Gp(t){return Gd(t,Kd.store)}function Jp(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Wp=function(t,e){this.progress=t,this.Go=e},Qp=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next((function(r){return n.Jo(t,e,r)}))},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t}))},t.prototype.Yo=function(t,e,n){var r=lf();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)})),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next((function(e){return n.Zo(t,e)}))},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next((function(r){var i=n.Yo(t,e,r),o=cf();return i.forEach((function(t,e){e||(e=new jl(t,Yc.min())),o=o.zt(t,e)})),o}))},t.prototype.Kr=function(t,e,n){return function(t){return el.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):ah(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new el(e)).next((function(t){var e=ff();return t instanceof kl&&(e=e.zt(t.key,t)),e}))},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=ff();return this.Ei.Us(t,i).next((function(s){return ld.forEach(s,(function(s){var a=function(t,e){return new th(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.zt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next((function(n){return r=n,o.zo.Di(t,e)})).next((function(e){return o.sc(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=Fh(u,r.get(c),o.vs);r=l instanceof kl?r.zt(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){ph(e,n)||(r=r.remove(t))})),r}))},t.prototype.sc=function(t,e,n){for(var r=vf(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Bh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof kl&&(c=c.zt(t,e))})),c}))},t}(),Yp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=vf(),i=vf(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),$p=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(Yc.min())?this.uc(t,e):this.ac.Xo(t,r).next((function(o){var s=i.hc(e,o);return(rh(e)||ih(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(Ec()<=_o.a.DEBUG&&Tc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),dh(e)),i.ac.Kr(t,e,n).next((function(t){return s.forEach((function(e){t=t.zt(e.key,e)})),t})))}))},t.prototype.hc=function(t,e){var n=new sf(gh(t));return e.forEach((function(e,r){r instanceof kl&&ph(t,r)&&(n=n.add(r))})),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Ec()<=_o.a.DEBUG&&Tc("QueryEngine","Using full collection scan to execute query:",dh(e)),this.ac.Kr(t,e,Yc.min())},t}(),Xp=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new nf(Rc),this.dc=new vp((function(t){return Dl(t)}),Ml),this.wc=Yc.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new Qp(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Vr(n,e.fc)}))},t}();function Zp(t,e,n,r){return new Xp(t,e,n,r)}function tg(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(wc.d)(this,(function(s){switch(s.label){case 0:return n=jc(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.zo.pi(t).next((function(s){return o=s,r=n.persistence.Qo(e),i=new Qp(n.Ec,r,n.persistence.Ko()),r.pi(t)})).next((function(e){for(var n=[],r=[],s=vf(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return i.Xo(t,s).next((function(t){return{Ic:t,mc:n,Ac:r}}))}))}))];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}}))}))}function eg(t,e){var n=jc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=ld.resolve();return o.forEach((function(t){s=s.next((function(){return r._i(e,t)})).next((function(e){var o=e,s=n.$s.get(t);kc(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)}))})),s.next((function(){return t.zo.Ci(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}function ng(t){var e=jc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e._o.Qi(t)}))}function rg(t,e){var n=jc(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach((function(e,o){var a=i.get(o);if(a){s.push(n._o.sr(t,e.Qe,o).next((function(){return n._o.er(t,e.qe,o)})));var u=e.resumeToken;if(u.l()>0){var c=a.Mt(u,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return kc(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(a,c,e)&&s.push(n._o.Hi(t,c))}}}));var a=cf();if(e.Oe.forEach((function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))})),s.push(ig(t,o,e.Oe,r,void 0).next((function(t){a=t}))),!r.isEqual(Yc.min())){var u=n._o.Qi(t).next((function(e){return n._o.Wi(t,t.bs,r)}));s.push(u)}return ld.Mn(s).next((function(){return o.apply(t)})).next((function(){return n.Tc.Zo(t,a)}))})).then((function(t){return n.fc=i,t}))}function ig(t,e,n,r,i){var o=vf();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=cf();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof jl&&s.version.isEqual(Yc.min())?(e.li(n,u),o=o.zt(n,s)):null==a||s.version._(a.version)>0||0===s.version._(a.version)&&a.hasPendingWrites?(e.ai(s,u),o=o.zt(n,s)):Tc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function og(t,e){var n=jc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)}))}function sg(t,e){var n=jc(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n._o.tr(t,e).next((function(i){return i?ld.resolve(r=i):n._o.Bi(t).next((function(i){return r=new bh(e,i,0,t.bs),n._o.ji(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t}))}function ag(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(wc.d)(this,(function(a){switch(a.label){case 0:r=jc(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ti.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!gd(s=a.sent()))throw s;return Tc("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}}))}))}function ug(t,e,n){var r=jc(t),i=Yc.min(),o=vf();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=jc(t),i=r.dc.get(n);return void 0!==i?ld.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,ch(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r._c.Kr(t,e,n?i:Yc.min(),n?o:vf())})).next((function(t){return{documents:t,Rc:o}}))}))}function cg(t,e){var n=jc(t),r=jc(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Sn(t,e).next((function(t){return t?t.target:null}))}))}function lg(t){var e=jc(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=jc(t),i=cf(),o=Xd(n),s=Fp(e),a=IDBKeyRange.lowerBound(o,!0);return s.hs({index:Rd.readTimeIndex,range:a},(function(t,e){var n=Yd(r.Qt,e);i=i.zt(n.key,n),o=e.readTime})).next((function(){return{Go:i,readTime:Zd(o)}}))}(e.Ec,t,e.wc)})).then((function(t){var n=t.Go;return e.wc=t.readTime,n}))}function hg(t){return Object(wc.b)(this,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(n){return[2,(e=jc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Fp(t),n=Yc.min();return e.hs({index:Rd.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Zd(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.wc=t}))]}))}))}function fg(t,e,n,r){return Object(wc.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f,d;return Object(wc.d)(this,(function(p){switch(p.label){case 0:for(i=jc(t),o=vf(),s=cf(),a=pf(),u=0,c=n;u<c.length;u++)h=e.Pc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),a=a.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,sg(i,function(t){return ch(nh(Xc.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return ig(t,f,s,Yc.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i._o.Yi(t,d.targetId).next((function(){return i._o.er(t,o,d.targetId)})).next((function(){return i.Tc.Zo(t,e)}))}))}))]}}))}))}function dg(t,e,n){return void 0===n&&(n=vf()),Object(wc.b)(this,void 0,void 0,(function(){var r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return[4,sg(t,ch(op(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=jc(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Mf(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(Uc.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next((function(){return i._o.Yi(t,r.targetId)})).next((function(){return i._o.er(t,n,r.targetId)})).next((function(){return i.wo.Ls(t,e)}))}))]}}))}))}var pg=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return ld.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Mf(n.createTime)}),ld.resolve()},t.prototype.Ms=function(t,e){return ld.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:op(t.bundledQuery),readTime:Mf(t.readTime)}}(e)),ld.resolve()},t}(),gg=function(){function t(){this.vc=new sf(vg.Sc),this.Dc=new sf(vg.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new vg(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach((function(t){return n.nr(t,e)}))},t.prototype.ir=function(t,e){this.Nc(new vg(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.Fc=function(t){var e=this,n=new el(new Xc([])),r=new vg(n,t),i=new vg(n,t+1),o=[];return this.Dc.me([r,i],(function(t){e.Nc(t),o.push(t.key)})),o},t.prototype.Oc=function(){var t=this;this.vc.forEach((function(e){return t.Nc(e)}))},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new el(new Xc([])),n=new vg(e,t),r=new vg(e,t+1),i=vf();return this.Dc.me([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Fi=function(t){var e=new vg(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),vg=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return el.H(t.key,e.key)||Rc(t.Mc,e.Mc)},t.Cc=function(t,e){return Rc(t.Mc,e.Mc)||el.H(t.key,e.key)},t}(),bg=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new sf(vg.Sc)}return t.prototype.Ai=function(t){return ld.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var o=new Jd(i,e,n,r);this.zo.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Bc=this.Bc.add(new vg(u.key,i)),this.Ei.qs(t,u.key.path.X())}return ld.resolve(o)},t.prototype.Pi=function(t,e){return ld.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return ld.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return ld.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return ld.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new vg(e,0),i=new vg(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],(function(t){var e=n.qc(t.Mc);o.push(e)})),ld.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new sf(Rc);return e.forEach((function(t){var e=new vg(t,0),i=new vg(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],(function(t){r=r.add(t.Mc)}))})),ld.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;el.wt(i)||(i=i.child(""));var o=new vg(new el(i),0),s=new sf(Rc);return this.Bc.Ae((function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)}),o),ld.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.qc(t);null!==r&&n.push(r)})),n},t.prototype.Ci=function(t,e){var n=this;kc(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return ld.forEach(e.mutations,(function(i){var o=new vg(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)})).next((function(){n.Bc=r}))},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new vg(e,0),r=this.Bc.Re(n);return ld.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return ld.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),mg=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new nf(el.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return ld.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=lf();return e.forEach((function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)})),ld.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=ff(),i=new el(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),a=s.value,u=a.hi,c=a.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||u instanceof kl&&ph(e,u)&&(r=r.zt(u.key,u))}return ld.resolve(r)},t.prototype.jc=function(t,e){return ld.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Nr=function(t){return new yg(this)},t.prototype.Or=function(t){return ld.resolve(this.size)},t}(),yg=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(wc.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach((function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)})),ld.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(bp),_g=function(){function t(t){this.persistence=t,this.Gc=new vp((function(t){return Dl(t)}),Ml),this.lastRemoteSnapshotVersion=Yc.min(),this.highestTargetId=0,this.zc=0,this.Hc=new gg,this.targetCount=0,this.Jc=Ep.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach((function(t,n){return e(n)})),ld.resolve()},t.prototype.Qi=function(t){return ld.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return ld.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),ld.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),ld.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Ep(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,ld.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),ld.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,ld.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,a.targetId)),i++)})),ld.Mn(o).next((function(){return i}))},t.prototype.Zi=function(t){return ld.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return ld.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),ld.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach((function(e){i.push(r.Ni(t,e))})),ld.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),ld.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return ld.resolve(n)},t.prototype.Fi=function(t,e){return ld.resolve(this.Hc.Fi(e))},t}(),wg=function(){function t(t,e){var n=this;this.Yc={},this.so=new Wc(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new _g(this),this.Ei=new cp,this.fo=function(t,e){return new mg(t,(function(t){return n.Ti.Xc(t)}))}(this.Ei),this.Qt=new Qd(e),this.wo=new pg(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new bg(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Tc("MemoryPersistence","Starting transaction:",t);var i=new Og(this.so.next());return this.Ti.Zc(),n(i).next((function(t){return r.Ti.ta(i).next((function(){return t}))})).On().then((function(t){return i.Vs(),t}))},t.prototype.ea=function(t,e){return ld.Ln(Object.values(this.Yc).map((function(n){return function(){return n.Fi(t,e)}})))},t}(),Og=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(wc.c)(e,t),e}(Id),Ig=function(){function t(t){this.persistence=t,this.na=new gg,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Ac()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),ld.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),ld.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),ld.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach((function(t){return n.ra.add(t.toString())}));var r=this.persistence.Sr();return r.rr(t,e.targetId).next((function(t){t.forEach((function(t){return n.ra.add(t.toString())}))})).next((function(){return r.Ji(t,e)}))},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return ld.forEach(this.ra,(function(r){var i=el._t(r);return e.oa(t,i).next((function(t){t||n.li(i)}))})).next((function(){return e.sa=null,n.apply(t)}))},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next((function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())}))},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return ld.Ln([function(){return ld.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Cg(t,e){return"firestore_clients_"+t+"_"+e}function Eg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Tg(t,e){return"firestore_targets_"+t+"_"+e}var Sg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Vc(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Sc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),xg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Vc(i.error.code,i.error.message)),o?new t(e,i.state,r):(Sc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Pg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=mf(),s=0;i&&s<r.activeTargetIds.length;++s)i=pl(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Sc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ag=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Sc("SharedClientState","Failed to parse online state: "+e),null)},t}(),kg=function(){function t(){this.activeTargetIds=mf()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),jg=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new nf(Rc),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Cg(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new kg),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(wc.d)(this,(function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Cg(this.persistenceKey,r)))&&(o=Pg.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(a=this.pa(s))&&this.ba(a),u=0,c=this.Ta;u<c.length;u++)this.wa(c[u]);return this.Ta=[],this.window.addEventListener("unload",(function(){return l.ko()})),this.Er=!0,[2]}}))}))},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Tg(this.persistenceKey,t));if(n){var r=xg.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(Tg(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach((function(t){r.$a(t)})),this.currentUser=t,n.forEach((function(t){r.Ca(t)}))},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Tc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Tc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Tc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Tc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Sc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po((function(){return Object(wc.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(wc.d)(this,(function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=Wc.q;if(null!=t)try{var n=JSON.parse(t);kc("number"==typeof n),e=n}catch(t){Sc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Wc.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Sg(this.currentUser,t,e,n),i=Eg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=Eg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Tg(this.persistenceKey,t),i=new xg(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Pg.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return Sg.ca(new qc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return xg.ca(r,e)},t.prototype.pa=function(t){return Ag.ca(t)},t.prototype.Ya=function(t){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Tc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this._a.su(s,a).then((function(){n.Ea=r}))},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=mf();return t.forEach((function(t,n){e=e.Pe(n.activeTargetIds)})),e},t}(),Ng=function(){function t(){this.iu=new kg,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new kg,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Lg=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),Rg=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){Tc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){Tc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Dg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mg=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),Ug=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(wc.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise((function(i,o){var s=new _c;s.listenOnce(bc.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case vc.NO_ERROR:var e=s.getResponseJson();Tc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case vc.TIMEOUT:Tc("Connection",'RPC "'+t+'" timed out'),o(new Vc(Fc.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:var n=s.getStatus();if(Tc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Fc).indexOf(e)>=0?e:Fc.UNKNOWN}(r.status);o(new Vc(a,r.message))}else o(new Vc(Fc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Vc(Fc.UNAVAILABLE,"Connection failed."));break;default:Ac()}}finally{Tc("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new hc,i=pa(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(wo.x)()||Object(wo.A)()||Object(wo.t)()||Object(wo.v)()||Object(wo.B)()||Object(wo.s)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Tc("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Mg({fu:function(t){c?Tc("Connection","Not sending because WebChannel is closed:",t):(u||(Tc("Connection","Opening WebChannel transport."),a.open(),u=!0),Tc("Connection","WebChannel sending:",t),a.send(t))},du:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,yc.EventType.OPEN,(function(){c||Tc("Connection","WebChannel transport opened.")})),h(a,yc.EventType.CLOSE,(function(){c||(c=!0,Tc("Connection","WebChannel transport closed"),l.Ru())})),h(a,yc.EventType.ERROR,(function(t){c||(c=!0,xc("Connection","WebChannel transport errored:",t),l.Ru(new Vc(Fc.UNAVAILABLE,"The operation could not be completed")))})),h(a,yc.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];kc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Tc("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Qh[t];if(void 0!==e)return ef(e)}(i),s=r.message;void 0===o&&(o=Fc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new Vc(o,s)),a.close()}else Tc("Connection","WebChannel received:",n),l.Pu(n)}})),h(i,mc.STAT_EVENT,(function(t){10===t.stat?Tc("Connection","Detected buffering proxy"):11===t.stat&&Tc("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Au()}),0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);Tc("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then((function(t){return Tc("RestConnection","Received: ",t),t}),(function(e){throw xc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.0",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+Dg[t]},t}());function Fg(){return"undefined"!=typeof window?window:null}function Vg(){return"undefined"!=typeof document?document:null}function Kg(t){return new Nf(t,!0)}var qg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&Tc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,(function(){return e.ku=Date.now(),t()})),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),Hg=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new qg(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,(function(){return t.Zu()})))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){return this.Hu()?[2,this.close(0)]:[2]}))}))},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===Fc.RESOURCE_EXHAUSTED?(Sc(e.toString()),Sc("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===Fc.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then((function(e){t.Wu===n&&t.ih(e)}),(function(n){e((function(){var e=new Vc(Fc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)}))}))},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu((function(){n((function(){return e.state=2,e.listener.wu()}))})),this.stream.Tu((function(t){n((function(){return e.rh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu((function(){return Object(wc.b)(t,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.rh=function(t){return Tc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps((function(){return e.Wu===t?n():(Tc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Bg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Object(wc.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ac()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(kc(void 0===e||"string"==typeof e),Uc.fromBase64String(e||"")):(kc(void 0===e||e instanceof Uint8Array),Uc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Fc.UNKNOWN:ef(t.code);return new Vc(e,t.message||"")}(a);n=new Tf(r,i,o,s||null)}else if("documentChange"in e){i=Kf(t,(r=e.documentChange).document.name),o=Mf(r.document.updateTime);var a=new Sl({mapValue:{fields:r.document.fields}}),u=(s=new kl(i,o,a,{}),r.targetIds||[]);n=new Cf(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Kf(t,(r=e.documentDelete).document),o=r.readTime?Mf(r.readTime):Yc.min(),a=new jl(i,o),n=new Cf([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Kf(t,(r=e.documentRemove).document),n=new Cf([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ac();var c=e.filter;i=new Zh(r=c.count||0),n=new Ef(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return Yc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Yc.min():e.readTime?Mf(e.readTime):Yc.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=Bf(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=Ul(r)?{documents:Yf(t,r)}:{query:$f(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=Rf(t,e.resumeToken):e.Ot._(Yc.min())>0&&(n.readTime=Lf(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ac()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=Bf(this.Qt),e.removeTarget=t,this.th(e)},e}(Hg),zg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Object(wc.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(kc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(kc(void 0!==e),t.map((function(t){return function(t,e){var n=Mf(t.updateTime?t.updateTime:e);return n.isEqual(Yc.min())&&(n=Mf(e)),new Lh(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Mf(t.commitTime);return this.listener.dh(n,e)}return kc(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=Bf(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Wf(e.Qt,t)}))};this.th(n)},e}(Hg),Gg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(wc.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new Vc(Fc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.pu(t,e,n,i)})).catch((function(t){throw t.code===Fc.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.Du(t,e,n,i)})).catch((function(t){throw t.code===Fc.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.terminate=function(){this.Th=!1},e}((function(){})),Jg=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,(function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()})))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Sc(e),this.Rh=!1):Tc("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),Wg=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou((function(t){n.Ps((function(){return Object(wc.b)(o,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){switch(t.label){case 0:return rv(this)?(Tc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return(e=jc(t)).Nh.add(4),[4,Yg(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,Qg(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Oh=new Jg(n,r)};function Qg(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:if(!rv(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Yg(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function $g(t,e){var n=jc(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),nv(n)?ev(n):mv(n).Hu()&&Zg(n,e))}function Xg(t,e){var n=jc(t),r=mv(n);n.xh.delete(e),r.Hu()&&tv(n,e),0===n.xh.size&&(r.Hu()?r.Xu():rv(n)&&n.Oh.set("Unknown"))}function Zg(t,e){t.kh.on(e.targetId),mv(t).uh(e)}function tv(t,e){t.kh.on(e),mv(t).hh(e)}function ev(t){t.kh=new xf({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),mv(t).start(),t.Oh.Ph()}function nv(t){return rv(t)&&!mv(t).zu()&&t.xh.size>0}function rv(t){return 0===jc(t).Nh.size}function iv(t){t.kh=void 0}function ov(t){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){return t.xh.forEach((function(e,n){Zg(t,e)})),[2]}))}))}function sv(t,e){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(n){return iv(t),nv(t)?(t.Oh.Vh(e),ev(t)):t.Oh.set("Unknown"),[2]}))}))}function av(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r,i,o;return Object(wc.d)(this,(function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof Tf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(wc.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Mh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Tc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,uv(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Cf?t.kh.dn(e):e instanceof Ef?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(Yc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,ng(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach((function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}})),n.Fe.forEach((function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(Uc.T,n.Ot)),tv(t,e);var r=new bh(n.target,e,1,n.sequenceNumber);Zg(t,r)}})),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Tc("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,uv(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function uv(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r=this;return Object(wc.d)(this,(function(i){switch(i.label){case 0:if(!gd(e))throw e;return t.Nh.add(1),[4,Yg(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return ng(t.bh)}),t._s.po((function(){return Object(wc.b)(r,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){switch(e.label){case 0:return Tc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,Qg(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function cv(t,e){return e().catch((function(n){return uv(t,n,e)}))}function lv(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(wc.d)(this,(function(s){switch(s.label){case 0:e=jc(t),n=yv(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return rv(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,og(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=yv(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,uv(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return hv(e)&&fv(e),[2]}}))}))}function hv(t){return rv(t)&&!yv(t).zu()&&t.Ch.length>0}function fv(t){yv(t).start()}function dv(t){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){return yv(t).Eh(),[2]}))}))}function pv(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n,r;return Object(wc.d)(this,(function(i){for(e=yv(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]}))}))}function gv(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=Wd.from(r,e,n),[4,cv(t,(function(){return t.Dh.Bh(i)}))];case 1:return o.sent(),[4,lv(t)];case 2:return o.sent(),[2]}}))}))}function vv(t,e){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(n){switch(n.label){case 0:return e&&yv(t)._h?[4,function(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return tf(r=e.code)&&r!==Fc.ABORTED?(n=t.Ch.shift(),yv(t).Yu(),[4,cv(t,(function(){return t.Dh.qh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,lv(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return hv(t)&&fv(t),[2]}}))}))}function bv(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return n=jc(t),e?(n.Nh.delete(2),[4,Qg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,Yg(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function mv(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=jc(t);return r.Ih(),new Bg(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:ov.bind(null,t),Tu:sv.bind(null,t),ah:av.bind(null,t)}),t.$h.push((function(n){return Object(wc.b)(e,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),nv(t)?ev(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),iv(t),e.label=3;case 3:return[2]}}))}))}))),t.Uh}function yv(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=jc(t);return r.Ih(),new zg(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:dv.bind(null,t),Tu:vv.bind(null,t),wh:pv.bind(null,t),dh:gv.bind(null,t)}),t.$h.push((function(n){return Object(wc.b)(e,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,lv(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(Tc("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qh}var _v=function(){this.Kh=void 0,this.listeners=[]},wv=function(){this.queries=new vp((function(t){return fh(t)}),hh),this.onlineState="Unknown",this.Wh=new Set};function Ov(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(wc.d)(this,(function(c){switch(c.label){case 0:if(n=jc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new _v),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return a=c.sent(),u=wd(a,"Initialization of query '"+dh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&Tv(n),[2]}}))}))}function Iv(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(wc.d)(this,(function(a){return n=jc(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]}))}))}function Cv(t,e){for(var n=jc(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].zh(s)&&(r=!0);a.Kh=s}}r&&Tv(n)}function Ev(t,e,n){var r=jc(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Tv(t){t.Wh.forEach((function(t){t.next()}))}var Sv=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new wf(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=wf.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),xv=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),Pv=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return Kf(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?Jf(this.Qt,t.document,!1):new jl(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return Mf(t)},t}(),Av=function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=kv(t)}return t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new Pv(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||vf()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return[4,fg(this.bh,new Pv(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,dg(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Wp(Object.assign({},this.progress),t))]}}))}))},t}();function kv(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var jv=function(t){this.key=t},Nv=function(t){this.key=t},Lv=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=vf(),this.De=vf(),this.hl=gh(t),this.ll=new yf(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new _f,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,a=!1,u=rh(this.query)&&i.size===this.query.limit?i.last():null,c=ih(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt((function(t,e){var l=i.get(t),h=e instanceof kl?e:null;h&&(h=ph(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.hl(h,u)>0||c&&n.hl(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),rh(this.query)||ih(this.query))for(;s.size>this.query.limit;){var l=rh(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:a,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ac()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)})),this.El(n);var s=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,u=a!==this.al;return this.al=a,0!==o.length||u?{snapshot:new wf(this.query,t.ll,i,o,t.De,0===a,u,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new _f,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach((function(t){return e.cl=e.cl.add(t)})),t.Ue.forEach((function(t){})),t.Qe.forEach((function(t){return e.cl=e.cl.delete(t)})),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=vf(),this.ll.forEach((function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))}));var n=[];return e.forEach((function(e){t.ul.has(e)||n.push(new Nv(e))})),this.ul.forEach((function(t){e.has(t)||n.push(new jv(t))})),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=vf();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return wf.Ne(this.query,this.ll,this.De,0===this.al)},t}(),Rv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Dv=function(t){this.key=t,this.Pl=!1},Mv=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new vp((function(t){return fh(t)}),hh),this.Sl=new Map,this.Dl=new Set,this.Cl=new nf(el.H),this.xl=new Map,this.Nl=new gg,this.$l={},this.Fl=new Map,this.Ol=Ep.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function Uv(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(wc.d)(this,(function(a){switch(a.label){case 0:return n=db(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,sg(n.bh,ch(e))];case 2:return o=a.sent(),s=n.Vl.Fa(o.targetId),[4,Fv(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.Ml&&$g(n.yl,o),a.label=4;case 4:return[2,r]}}))}))}function Fv(t,e,n,r){return Object(wc.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(wc.d)(this,(function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(wc.b)(this,void 0,void 0,(function(){var i,o,s;return Object(wc.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,ug(t.bh,e.query,!1).then((function(t){return e.view.fl(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(Xv(t,e.targetId,s.Il),s.snapshot)]}}))}))}(t,e,n,r)},[4,ug(t.bh,e,!0)];case 1:return i=l.sent(),o=new Lv(e,i.Rc),s=o.fl(i.documents),a=If.Le(n,r&&"Offline"!==t.onlineState),u=o.wi(s,t.Ml,a),Xv(t,n,u.Il),c=new Rv(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}}))}))}function Vv(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return n=jc(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter((function(t){return!hh(t,e)}))),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,ag(n.bh,r.targetId,!1).then((function(){n.Vl.La(r.targetId),Xg(n.yl,r.targetId),Yv(n,r.targetId)})).catch(gp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Yv(n,r.targetId),[4,ag(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Kv(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(wc.d)(this,(function(a){switch(a.label){case 0:r=pb(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=jc(t),i=Qc.now(),o=e.reduce((function(t,e){return t.add(e.key)}),vf());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Tc.Xo(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Vh(c,n.get(c.key));null!=l&&s.push(new Bh(c.key,l,Pl(l.proto.mapValue),Rh.exists(!0)))}return r.zo.Ri(t,i,s,e)}))})).then((function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}}))}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new nf(Rc)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,eb(r,i.ri)];case 3:return a.sent(),[4,lv(r.yl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=wd(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function qv(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:n=jc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,rg(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach((function(t,e){var r=n.xl.get(e);r&&(kc(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?kc(r.Pl):t.Qe.size>0&&(kc(r.Pl),r.Pl=!1))})),[4,eb(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,gp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Hv(t,e,n){var r=jc(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach((function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=jc(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)})),r&&Tv(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function Bv(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Object(wc.d)(this,(function(c){switch(c.label){case 0:return(r=jc(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new nf(el.H)).zt(o,new jl(o,Yc.min())),a=vf().add(o),u=new Of(Yc.min(),new Map,new sf(Rc),s,a),[4,qv(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),tb(r),[3,4];case 2:return[4,ag(r.bh,e,!1).then((function(){return Yv(r,e,n)})).catch(gp)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function zv(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:n=jc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,eg(n.bh,e)];case 2:return i=o.sent(),Qv(n,r,null),Wv(n,r),n.Vl.Na(r,"acknowledged"),[4,eb(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,gp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Gv(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:r=jc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=jc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.zo.Pi(t,e).next((function(e){return kc(null!==e),r=e.keys(),n.zo.Ci(t,e)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}(r.bh,e)];case 2:return i=o.sent(),Qv(r,e,n),Wv(r,e),r.Vl.Na(e,"rejected",n),[4,eb(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,gp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Jv(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(wc.d)(this,(function(a){switch(a.label){case 0:rv((n=jc(t)).yl)||Tc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=jc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.zo.Vi(t)}))}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=a.sent(),s=wd(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Wv(t,e){(t.Fl.get(e)||[]).forEach((function(t){t.resolve()})),t.Fl.delete(e)}function Qv(t,e,n){var r=jc(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function Yv(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach((function(e){t.Nl.Fi(e)||$v(t,e)}))}function $v(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(Xg(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),tb(t))}function Xv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof jv?(t.Nl.nr(o.key,e),Zv(t,o)):o instanceof Nv?(Tc("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||$v(t,o.key)):Ac()}}function Zv(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(Tc("SyncEngine","New document in limbo: "+n),t.Dl.add(r),tb(t))}function tb(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new el(Xc.ot(e)),r=t.Ol.next();t.xl.set(r,new Dv(n)),t.Cl=t.Cl.zt(n,r),$g(t.yl,new bh(ch(nh(n.path)),r,2,Wc.q))}}function eb(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(wc.d)(this,(function(a){switch(a.label){case 0:return r=jc(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach((function(t,a){s.push(r.Ll(a,e,n).then((function(t){if(t){r.Ml&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Yp.oc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Object(wc.d)(this,(function(l){switch(l.label){case 0:n=jc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return ld.forEach(e,(function(e){return ld.forEach(e.ic,(function(r){return n.persistence.Ti.nr(t,e.targetId,r)})).next((function(){return ld.forEach(e.rc,(function(r){return n.persistence.Ti.ir(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!gd(r=l.sent()))throw r;return Tc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.fc.get(a),c=u.Lt(u.Ot),n.fc=n.fc.zt(a,c));return[2]}}))}))}(r.bh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function nb(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return(n=jc(t)).currentUser.isEqual(e)?[3,3]:(Tc("SyncEngine","User change. New user:",e.A()),[4,tg(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach((function(t){t.forEach((function(t){t.reject(new Vc(Fc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,eb(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function rb(t,e){var n=jc(t),r=n.xl.get(e);if(r&&r.Pl)return vf().add(r.key);var i=vf(),o=n.Sl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.vl.get(a[s]);i=i.Pe(u.view._l)}return i}function ib(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return[4,ug((n=jc(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&Xv(n,e.targetId,i.Il),i)]}}))}))}function ob(t){return Object(wc.b)(this,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(n){return[2,lg((e=jc(t)).bh).then((function(t){return eb(e,t)}))]}))}))}function sb(t,e,n,r){return Object(wc.b)(this,void 0,void 0,(function(){var i,o;return Object(wc.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=jc(t),r=jc(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.yi(t,e).next((function(e){return e?n.Tc.Xo(t,e):ld.resolve(null)}))}))}((i=jc(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,lv(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Qv(i,e,r||null),Wv(i,e),function(t,e){jc(jc(t).zo).xi(e)}(i.bh,e)):Ac(),s.label=4;case 4:return[4,eb(i,o)];case 5:return s.sent(),[3,7];case 6:Tc("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function ab(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(wc.d)(this,(function(c){switch(c.label){case 0:return db(n=jc(t)),pb(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,ub(n,r.it())]);case 1:return i=c.sent(),n.kl=!0,[4,bv(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)$g(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(a=[],u=Promise.resolve(),n.Sl.forEach((function(t,e){n.Vl.Ma(e)?a.push(e):u=u.then((function(){return Yv(n,e),ag(n.bh,e,!0)})),Xg(n.yl,e)})),[4,u]);case 4:return c.sent(),[4,ub(n,a)];case 5:return c.sent(),function(t){var e=jc(t);e.xl.forEach((function(t,n){Xg(e.yl,n)})),e.Nl.Oc(),e.xl=new Map,e.Cl=new nf(el.H)}(n),n.kl=!1,[4,bv(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function ub(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(wc.d)(this,(function(g){switch(g.label){case 0:n=jc(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Sl.get(a=s[o]))&&0!==c.length?[4,sg(n.bh,ch(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,ib(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,cg(n.bh,a)];case 8:return p=g.sent(),[4,sg(n.bh,p)];case 9:return u=g.sent(),[4,Fv(n,cb(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}}))}))}function cb(t){return eh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function lb(t){var e=jc(t);return jc(jc(e.bh).persistence).Uo()}function hb(t,e,n,r){return Object(wc.b)(this,void 0,void 0,(function(){var i,o,s;return Object(wc.d)(this,(function(a){switch(a.label){case 0:return(i=jc(t)).kl?(Tc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,lg(i.bh)];case 3:return o=a.sent(),s=Of.Me(e,"current"===n),[4,eb(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,ag(i.bh,e,!0)];case 6:return a.sent(),Yv(i,e,r),[3,8];case 7:Ac(),a.label=8;case 8:return[2]}}))}))}function fb(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return Object(wc.d)(this,(function(f){switch(f.label){case 0:if(!(r=db(t)).kl)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(Tc("SyncEngine","Adding an already active target "+s),[3,5]):[4,cg(r.bh,s)]:[3,6];case 2:return a=f.sent(),[4,sg(r.bh,a)];case 3:return u=f.sent(),[4,Fv(r,cb(a),u.targetId,!1)];case 4:f.sent(),$g(r.yl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(wc.d)(this,(function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,ag(r.bh,t,!1).then((function(){Xg(r.yl,t),Yv(r,t)})).catch(gp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function db(t){var e=jc(t);return e.yl.Dh.Lh=qv.bind(null,e),e.yl.Dh.vn=rb.bind(null,e),e.yl.Dh.Mh=Bv.bind(null,e),e.bl.ah=Cv.bind(null,e.gl),e.bl.Bl=Ev.bind(null,e.gl),e}function pb(t){var e=jc(t);return e.yl.Dh.Bh=zv.bind(null,e),e.yl.Dh.qh=Gv.bind(null,e),e}function gb(t,e,n){var r=jc(t);(function(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Object(wc.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=c.sent(),[4,function(t,e){var n=jc(t),r=Mf(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return n.wo.Os(t,e.id)})).then((function(t){return!!t&&t.createTime._(r)>=0}))}(t.bh,r)];case 2:return c.sent()?[4,e.close()]:[3,4];case 3:return[2,(c.sent(),void n.ql(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n.Ul(kv(r)),i=new Av(r,t.bh,e.Qt),[4,e.Ql()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.rl(o)]:[3,10];case 7:return(s=c.sent())&&n.Ul(s),[4,e.Ql()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return a=c.sent(),[4,eb(t,a.Go,void 0)];case 12:return c.sent(),[4,function(t,e){var n=jc(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.wo.ks(t,e)}))}(t.bh,r)];case 13:return c.sent(),n.ql(a.progress),[3,15];case 14:return xc("SyncEngine","Loading bundle failed with "+(u=c.sent())),n.Kl(u),[3,15];case 15:return[2]}}))}))})(r,e,n).then((function(){r.Vl.Wa()}))}var vb=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){switch(e.label){case 0:return this.Qt=Kg(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}}))}))},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return Zp(this.persistence,new $p,t.Jl,this.Qt)},t.prototype.jl=function(t){return new wg(Ig.ia,this.Qt)},t.prototype.Wl=function(t){return new Ng},t.prototype.terminate=function(){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}}))}))},t}(),bb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(wc.c)(e,t),e.prototype.initialize=function(e){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,hg(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,pb(this.Yl._a)];case 4:return n.sent(),[4,lv(this.Yl.yl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Hl=function(t){return Zp(this.persistence,new $p,t.Jl,this.Qt)},e.prototype.zl=function(t){return new jp(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=Jp(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?pp.Ys(this.cacheSizeBytes):pp.ti;return new Bp(this.synchronizeTabs,e,t.clientId,n,t._s,Fg(),Vg(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Ng},e}(vb),mb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(wc.c)(e,t),e.prototype.initialize=function(e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r=this;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof jg?(this.Vl._a={eu:sb.bind(null,n),nu:hb.bind(null,n),su:fb.bind(null,n),Uo:lb.bind(null,n),tu:ob.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro((function(t){return Object(wc.b)(r,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){switch(e.label){case 0:return[4,ab(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=Fg();if(!jg.Kn(e))throw new Vc(Fc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Jp(t.yu.t,t.yu.persistenceKey);return new jg(e,t._s,n,t.clientId,t.Jl)},e}(bb),yb=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n=this;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Hv(n._a,t,1)},this.yl.Dh.n_=nb.bind(null,this._a),[4,bv(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.t_=function(t){return new wv},t.prototype.Xl=function(t){var e=Kg(t.yu.t),n=new Ug(t.yu);return function(t,e,n){return new Gg(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Hv(s._a,t,0)},o=Rg.Kn()?new Rg:new Lg,new Wg(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Mv(t,e,n,r,i,o);return s&&(a.kl=!0),a}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return e=jc(t),Tc("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,Yg(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}}))}))}(this.yl)},t}();function _b(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(wc.b)(this,void 0,void 0,(function(){var r;return Object(wc.d)(this,(function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]}))}))},cancel:function(){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var wb=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Ob=function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new cd,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then((function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Ql=function(){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}}))}))},t.prototype.c_=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new xv(JSON.parse(r),t.length+n)]}}))}))},t.prototype.l_=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.a_=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t,e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.h_=function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t,e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),Ib=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Vc(Fc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new tl(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}(),Cb=function(t){this._methodName=t},Eb=function(t){this.d_=t};function Tb(t,e,n){if(!n)throw new Vc(Fc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Sb(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Vc(Fc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function xb(t,e,n,r){if(!0===e&&!0===r)throw new Vc(Fc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Pb(t){if(!el.wt(t))throw new Vc(Fc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ab(t){if(el.wt(t))throw new Vc(Fc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function kb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ac()}function jb(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Vc(Fc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=kb(t);throw new Vc(Fc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Nb(t,e){if(e<=0)throw new Vc(Fc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Lb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Vc(Fc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Vc(Fc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,xb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Rb=new Map,Db=function(){function t(t,e){this.w_="(lite)",this.E_=new Lb({}),this.T_=!1,t instanceof Ic?(this.I_=t,this.m_=new Bc):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Vc(Fc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ic(t.options.projectId)}(t),this.m_=new zc(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Vc(Fc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Vc(Fc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Lb(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Bc;switch(t.type){case"gapi":var e=t.client;return kc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Jc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Vc(Fc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Rb.get(this))&&(Tc("ComponentProvider","Removing Datastore"),Rb.delete(this),t.terminate()),Promise.resolve();var t},t}(),Mb=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Fb(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Ub=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Fb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,nh(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(wc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new Mb(this.firestore,null,new el(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Ub);function Vb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Eb&&(t=t.d_),Tb("collection","path",e),t instanceof Db)return Ab(n=Xc.ot.apply(Xc,Object(wc.f)([e],r))),new Fb(t,null,n);if(!(t instanceof Mb||t instanceof Fb))throw new Vc(Fc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ab(n=Xc.ot.apply(Xc,Object(wc.f)([t.path],r)).child(Xc.ot(e))),new Fb(t.firestore,null,n)}function Kb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Eb&&(t=t.d_),1===arguments.length&&(e=Lc.u()),Tb("doc","path",e),t instanceof Db)return Pb(n=Xc.ot.apply(Xc,Object(wc.f)([e],r))),new Mb(t,null,new el(n));if(!(t instanceof Mb||t instanceof Fb))throw new Vc(Fc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Pb(n=t.D_.child(Xc.ot.apply(Xc,Object(wc.f)([e],r)))),new Mb(t.firestore,t instanceof Fb?t.v_:null,new el(n))}function qb(t,e){return t instanceof Eb&&(t=t.d_),e instanceof Eb&&(e=e.d_),(t instanceof Mb||t instanceof Fb)&&(e instanceof Mb||e instanceof Fb)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Hb(t,e){return t instanceof Eb&&(t=t.d_),e instanceof Eb&&(e=e.d_),t instanceof Ub&&e instanceof Ub&&t.firestore===e.firestore&&hh(t.C_,e.C_)&&t.v_===e.v_}var Bb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Vc(Fc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Vc(Fc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return Rc(this.x_,t.x_)||Rc(this.N_,t.N_)},t}(),zb=/^__.*__$/,Gb=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new Bh(t,this.data,this.Gt,e,this.fieldTransforms):new Hh(t,this.data,e,this.fieldTransforms)},t}(),Jb=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Bh(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function Wb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ac()}}var Qb=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return gm(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find((function(e){return t.nt(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.nt(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Wb(this.k_)&&zb.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Yb=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Kg(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Qb({k_:t,methodName:e,j_:n,path:tl.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function $b(t){var e=t.p_(),n=Kg(t.I_);return new Yb(t.I_,!!e.ignoreUndefinedProperties,n)}function Xb(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);hm("Data must be an object, but it was:",s,r);var a,u,c=cm(r,s);if(o.merge)a=new ol(s.Gt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=fm(e,f[h],n);if(!s.contains(d))throw new Vc(Fc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");vm(l,d)||l.push(d)}a=new ol(l),u=s.fieldTransforms.filter((function(t){return a.Tt(t.field)}))}else a=null,u=s.fieldTransforms;return new Gb(new Sl(c),a,u)}var Zb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Cb);function tm(t,e,n){return new Qb({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var em=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype.z_=function(t){return new Nh(t.path,new Eh)},e.prototype.isEqual=function(t){return t instanceof e},e}(Cb),nm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(wc.c)(e,t),e.prototype.z_=function(t){var e=tm(this,t,!0),n=this.H_.map((function(t){return um(t,e)})),r=new Th(n);return new Nh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Cb),rm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(wc.c)(e,t),e.prototype.z_=function(t){var e=tm(this,t,!0),n=this.H_.map((function(t){return um(t,e)})),r=new xh(n);return new Nh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Cb),im=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(wc.c)(e,t),e.prototype.z_=function(t){var e=new Ah(t.Qt,_h(t.Qt,this.J_));return new Nh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Cb);function om(t,e,n,r){var i=t.G_(1,e,n);hm("Data must be an object, but it was:",i,r);var o=[],s=new xl;rl(r,(function(t,r){var a=pm(e,t,n);r instanceof Eb&&(r=r.d_);var u=i.U_(a);if(r instanceof Zb)o.push(a);else{var c=um(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new ol(o);return new Jb(s.Pt(),a,i.fieldTransforms)}function sm(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[fm(e,r,n)],u=[i];if(o.length%2!=0)throw new Vc(Fc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(fm(e,o[c])),u.push(o[c+1]);for(var l=[],h=new xl,f=a.length-1;f>=0;--f)if(!vm(l,a[f])){var d=a[f],p=u[f];p instanceof Eb&&(p=p.d_);var g=s.U_(d);if(p instanceof Zb)l.push(d);else{var v=um(p,g);null!=v&&(l.push(d),h.set(d,v))}}var b=new ol(l);return new Jb(h.Pt(),b,s.fieldTransforms)}function am(t,e,n,r){return void 0===r&&(r=!1),um(n,t.G_(r?4:3,e))}function um(t,e){if(t instanceof Eb&&(t=t.d_),lm(t))return hm("Unsupported field value:",e,t),cm(t,e);if(t instanceof Cb)return function(t,e){if(!Wb(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=um(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Eb&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _h(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Qc.fromDate(t);return{timestampValue:Lf(e.Qt,n)}}if(t instanceof Qc)return n=new Qc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Lf(e.Qt,n)};if(t instanceof Bb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Kc)return{bytesValue:Rf(e.Qt,t.I)};if(t instanceof Mb){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Uf(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+kb(t))}(t,e)}function cm(t,e){var n={};return il(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):rl(t,(function(t,r){var i=um(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function lm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Qc||t instanceof Bb||t instanceof Kc||t instanceof Mb||t instanceof Cb)}function hm(t,e,n){if(!lm(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=kb(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function fm(t,e,n){if(e instanceof Eb&&(e=e.d_),e instanceof Ib)return e.f_;if("string"==typeof e)return pm(t,e);throw gm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var dm=new RegExp("[~\\*/\\[\\]]");function pm(t,e,n){if(e.search(dm)>=0)throw gm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ib.bind.apply(Ib,Object(wc.f)([void 0],e.split("."))))).f_}catch(r){throw gm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function gm(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Vc(Fc.INVALID_ARGUMENT,(a+=". ")+t+u)}function vm(t,e){return t.some((function(t){return t.isEqual(e)}))}var bm=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n=this;return Object(wc.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Vc(Fc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(wc.d)(this,(function(u){switch(u.label){case 0:return n=jc(t),r=Bf(n.Qt)+"/documents",i={documents:e.map((function(t){return Vf(n.Qt,t)}))},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){kc(!!e.found);var n=Kf(t,e.found.name),r=Mf(e.found.updateTime),i=new Sl({mapValue:{fields:e.found.fields}});return new kl(n,r,i,{})}(t,e):"missing"in e?function(t,e){kc(!!e.missing),kc(!!e.readTime);var n=Kf(t,e.missing),r=Mf(e.readTime);return new jl(n,r)}(t,e):Ac()}(n.Qt,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());kc(!!e),a.push(e)})),a)]}}))}))}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof jl||t instanceof kl?n.sf(t):Ac()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new $h(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t,e=this;return Object(wc.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=el._t(n);e.mutations.push(new Xh(r,e.jt(r)))})),[4,function(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return n=jc(t),r=Bf(n.Qt)+"/documents",i={writes:e.map((function(t){return Wf(n.Qt,t)}))},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof kl)e=t.version;else{if(!(t instanceof jl))throw Ac();e=Yc.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Vc(Fc.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Rh.updateTime(e):Rh.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Yc.min()))throw new Vc(Fc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rh.updateTime(e)}return Rh.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),mm=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new qg(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu((function(){return Object(wc.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(wc.d)(this,(function(r){return t=new bm(this.Sh),(e=this.uf(t))&&e.then((function(e){n._s.Ps((function(){return t.commit().then((function(){n.Es.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!fl(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps((function(){return e.af(),Promise.resolve()}))):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!tf(e)}return!1},t}(),ym=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=qc.UNAUTHENTICATED,this.clientId=Lc.u(),this._f=function(){},this.C=new cd,this.credentials.v((function(t){Tc("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()}))}return t.prototype.getConfiguration=function(){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this._s.wf)throw new Vc(Fc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new cd;return this._s.Tf((function(){return Object(wc.b)(t,void 0,void 0,(function(){var t,n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=wd(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function _m(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return t._s.Af(),Tc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff((function(n){r.isEqual(n)||(r=n,t._s.po((function(){return Object(wc.b)(i,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){switch(t.label){case 0:return[4,tg(e.bh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Po((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function wm(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return t._s.Af(),[4,Om(t)];case 1:return n=i.sent(),Tc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t._s.po((function(){return function(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return(n=jc(t))._s.Af(),Tc("RemoteStore","RemoteStore received new credentials"),r=rv(n),n.Nh.add(3),[4,Yg(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,Qg(n)];case 3:return i.sent(),[2]}}))}))}(e.yl,n)}))})),t.If=e,[2]}}))}))}function Om(t){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Tc("FirestoreClient","Using default OfflineComponentProvider"),[4,_m(t,new vb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Im(t){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Tc("FirestoreClient","Using default OnlineComponentProvider"),[4,wm(t,new yb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function Cm(t){return Om(t).then((function(t){return t.persistence}))}function Em(t){return Om(t).then((function(t){return t.bh}))}function Tm(t){return Im(t).then((function(t){return t.yl}))}function Sm(t){return Im(t).then((function(t){return t._a}))}function xm(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return[4,Im(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Uv.bind(null,e._a),n.Hh=Vv.bind(null,e._a),n)]}}))}))}function Pm(t,e,n){var r=this;void 0===n&&(n={});var i=new cd;return t._s.Ps((function(){return Object(wc.b)(r,void 0,void 0,(function(){var r;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new wb({next:function(o){e.Ps((function(){return Iv(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Vc(Fc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Vc(Fc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Sv(nh(n.path),o,{includeMetadataChanges:!0,nl:!0});return Ov(t,s)},[4,xm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}function Am(t,e,n){var r=this;void 0===n&&(n={});var i=new cd;return t._s.Ps((function(){return Object(wc.b)(r,void 0,void 0,(function(){var r;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new wb({next:function(n){e.Ps((function(){return Iv(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Vc(Fc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Sv(n,o,{includeMetadataChanges:!0,nl:!0});return Ov(t,s)},[4,xm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}var km=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new qg(this,"async_queue_retry"),this.vf=function(){var e=Vg();e&&Tc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Vg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Vg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t,e=this;return Object(wc.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!gd(t=n.sent()))throw t;return Tc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Sc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=_d.Ts(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Ac()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t;return Object(wc.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ds-e.ds}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()}))},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function jm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Nm=function(){function t(){this.kf={},this.Mf=new cd,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)},t}(),Lm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new km,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(wc.c)(e,t),e.prototype.b_=function(){return this.qf||Dm(this),this.qf.terminate()},e}(Db);function Rm(t){return t.qf||Dm(t),t.qf.df(),t.qf}function Dm(t){var e=t.p_(),n=function(t,e,n){return new Oc(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new ym(t.m_,t.Bf,n)}function Mm(t,e,n){var r=this,i=new cd;return t._s.enqueue((function(){return Object(wc.b)(r,void 0,void 0,(function(){var r;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,_m(t,n)];case 1:return o.sent(),[4,wm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Fc.FAILED_PRECONDITION||t.code===Fc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Um(t){if(t.R_||t.P_)throw new Vc(Fc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Fm=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),gl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ul(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(cl(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Ac()}},t.prototype.Hf=function(t,e){var n=this,r={};return rl(t.fields||{},(function(t,i){r[t]=n.Uf(i,e)})),r},t.prototype.Gf=function(t){return new Bb(ul(t.latitude),ul(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.Uf(t,e)}))},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return ll(n)?t(n):n}(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(hl(t));default:return null}},t.prototype.Qf=function(t){var e=al(t);return new Qc(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=Xc.ot(t);kc(ud(n));var r=new Ic(n.get(1),n.get(3)),i=new el(n.Y(5));return r.isEqual(e)||Sc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Vm=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Mb(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Km(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(qm("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Km=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Vm);function qm(t,e){return"string"==typeof e?pm(t,e):e instanceof Eb?e.d_.f_:e.f_}function Hm(t){if(ih(t)&&0===t.xt.length)throw new Vc(Fc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Bm=function(){};function zm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var Gm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(wc.c)(e,t),e.prototype.td=function(t){var e=$b(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new Vc(Fc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Zm(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Xm(r,t,l[c]));a={arrayValue:{values:u}}}else a=Xm(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Zm(s,o),a=am(n,"where",s,"in"===o||"not-in"===o);var h=Fl.create(i,o,a);return function(t,e){if(e.Ct()){var n=sh(t);if(null!==n&&!n.isEqual(e.field))throw new Vc(Fc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=oh(t);null!==r&&ty(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Vc(Fc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new Ub(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new th(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Bm),Jm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(wc.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Vc(Fc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Vc(Fc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Yl(e,n);return function(t,e){if(null===oh(t)){var n=sh(t);null!==n&&ty(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new Ub(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new th(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Bm),Wm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(wc.c)(e,t),e.prototype.td=function(t){return new Ub(t.firestore,t.v_,lh(t.C_,this.od,this.ad))},e}(Bm),Qm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(wc.c)(e,t),e.prototype.td=function(t){var e=$m(t,this.type,this.ud,this.hd);return new Ub(t.firestore,t.v_,function(t,e){return new th(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Bm),Ym=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(wc.c)(e,t),e.prototype.td=function(t){var e=$m(t,this.type,this.ud,this.hd);return new Ub(t.firestore,t.v_,function(t,e){return new th(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Bm);function $m(t,e,n,r){if(n[0]instanceof Eb&&(n[0]=n[0].d_),n[0]instanceof Vm)return function(t,e,n,r,i){if(!r)throw new Vc(Fc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=uh(t);s<a.length;s++){var u=a[s];if(u.field.ut())o.push(wl(e,r.key));else{var c=r.field(u.field);if(ll(c))throw new Vc(Fc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.rt();throw new Vc(Fc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Wl(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=$b(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new Vc(Fc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ut()){if("string"!=typeof c)throw new Vc(Fc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ah(t)&&-1!==c.indexOf("/"))throw new Vc(Fc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Xc.ot(c));if(!el.wt(l))throw new Vc(Fc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new el(l);a.push(wl(e,h))}else{var f=am(n,r,c);a.push(f)}}return new Wl(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Xm(t,e,n){if(n instanceof Eb&&(n=n.d_),"string"==typeof n){if(""===n)throw new Vc(Fc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ah(e)&&-1!==n.indexOf("/"))throw new Vc(Fc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Xc.ot(n));if(!el.wt(r))throw new Vc(Fc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return wl(t,new el(r))}if(n instanceof Mb)return wl(t,n.S_);throw new Vc(Fc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+kb(n)+".")}function Zm(t,e){if(!Array.isArray(t)||0===t.length)throw new Vc(Fc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Vc(Fc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function ty(t,e,n){if(!n.isEqual(e))throw new Vc(Fc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ey(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var ny=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(wc.c)(e,t),e.prototype.Wf=function(t){return new Kc(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Mb(this.firestore,null,e)},e}(Fm),ry=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),iy=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).Yf=e,a.ld=e,a.metadata=o,a}return Object(wc.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new oy(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(qm("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Vm),oy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(iy),sy=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new ry(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach((function(r){t.call(e,new oy(n.Yf,n.Xf,r.key,r,new ry(n._d.De.has(r.key),n._d.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new Vc(Fc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map((function(e){return{type:"added",doc:new oy(t.Yf,t.Xf,e.doc.key,e.doc,new ry(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t._d.Se;return t._d.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new oy(t.Yf,t.Xf,e.doc.key,e.doc,new ry(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ay(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.dd=e),this.fd},t}();function ay(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ac()}}function uy(t,e){return t instanceof iy&&e instanceof iy?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof sy&&e instanceof sy&&t.Yf===e.Yf&&Hb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var cy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(wc.c)(e,t),e.prototype.Wf=function(t){return new Kc(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Mb(this.firestore,null,e)},e}(Fm);function ly(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=jb(t,Mb);var o=jb(t.firestore,Lm),s=$b(o);return e instanceof Eb&&(e=e.d_),fy(o,[("string"==typeof e||e instanceof Ib?sm(s,"updateDoc",t.S_,e,n,r):om(s,"updateDoc",t.S_,e)).F_(t.S_,Rh.exists(!0))])}function hy(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Eb&&(t=t.d_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||jm(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(jm(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Mb)c=jb(t.firestore,Lm),l=nh(t.S_.path),u={next:function(e){i[a]&&i[a](dy(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=jb(t,Ub);c=jb(d.firestore,Lm),l=d.C_;var p=new cy(c);u={next:function(t){i[a]&&i[a](new sy(c,p,d,t))},error:i[a+1],complete:i[a+2]},Hm(t.C_)}return function(t,e,n,r){var i=this,o=new wb(r),s=new Sv(e,o,n);return t._s.Ps((function(){return Object(wc.b)(i,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return e=Ov,[4,xm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.i_(),t._s.Ps((function(){return Object(wc.b)(i,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return e=Iv,[4,xm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Rm(c),l,h,u)}function fy(t,e){return function(t,e){var n=this,r=new cd;return t._s.Ps((function(){return Object(wc.b)(n,void 0,void 0,(function(){var n;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return n=Kv,[4,Sm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Rm(t),e)}function dy(t,e,n){var r=n.docs.get(e.S_),i=new cy(t);return new iy(t,i,e.S_,r,new ry(n.hasPendingWrites,n.fromCache),e.v_)}var py=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=$b(t)}return t.prototype.set=function(t,e,n){this.md();var r=gy(t,this.Yf),i=ey(r.v_,e,n),o=Xb(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,Rh.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=gy(t,this.Yf);return e instanceof Eb&&(e=e.d_),o="string"==typeof e||e instanceof Ib?sm(this.Id,"WriteBatch.update",s.S_,e,n,r):om(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,Rh.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=gy(t,this.Yf);return this.Ed=this.Ed.concat(new $h(e.S_,Rh.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new Vc(Fc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function gy(t,e){if(t instanceof Eb&&(t=t.d_),t.firestore!==e)throw new Vc(Fc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var vy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(wc.c)(e,t),e.prototype.get=function(e){var n=this,r=gy(e,this.Yf),i=new cy(this.Yf);return t.prototype.get.call(this,e).then((function(t){return new iy(n.Yf,i,r.S_,t.Zf,new ry(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=$b(t)}return t.prototype.get=function(t){var e=this,n=gy(t,this.Yf),r=new ny(this.Yf);return this.Ad.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Ac();var i=t[0];if(i instanceof jl)return new Vm(e.Yf,r,n.S_,null,n.v_);if(i instanceof kl)return new Vm(e.Yf,r,i.key,i,n.v_);throw Ac()}))},t.prototype.set=function(t,e,n){var r=gy(t,this.Yf),i=ey(r.v_,e,n),o=Xb(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=gy(t,this.Yf);return e instanceof Eb&&(e=e.d_),o="string"==typeof e||e instanceof Ib?sm(this.Id,"Transaction.update",s.S_,e,n,r):om(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=gy(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function by(){if("undefined"==typeof Uint8Array)throw new Vc(Fc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function my(){if("undefined"==typeof atob)throw new Vc(Fc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var yy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.fromBase64String=function(t){return my(),new e(Kc.fromBase64String(t))},e.fromUint8Array=function(t){return by(),new e(Kc.fromUint8Array(t))},e.prototype.toBase64=function(){return my(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return by(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Eb),_y=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Um(t=jb(t,Lm));var n=Rm(t),r=t.p_(),i=new yb;return Mm(n,i,new bb(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Um(t=jb(t,Lm));var e=Rm(t),n=t.p_(),r=new yb;return Mm(e,r,new mb(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Vc(Fc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new cd;return t.Bf.Tf((function(){return Object(wc.b)(e,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){switch(e.label){case 0:return fd.Kn()?[4,fd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Jp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.d_)},t}(),wy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Ic||(i.Pd=e),i}return Object(wc.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=jb(t,Db)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&xc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return Object(wc.b)(e,void 0,void 0,(function(){var e,n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return[4,Cm(t)];case 1:return e=r.sent(),[4,Tm(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=jc(t);return e.Nh.delete(0),Qg(e)}(n))]}}))}))}))}(Rm(jb(this.d_,Lm)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return Object(wc.b)(e,void 0,void 0,(function(){var e,n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return[4,Cm(t)];case 1:return e=r.sent(),[4,Tm(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return(e=jc(t)).Nh.add(0),[4,Yg(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Rm(jb(this.d_,Lm)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&xb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new cd;return t._s.Ps((function(){return Object(wc.b)(e,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return e=Jv,[4,Sm(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Rm(jb(this.d_,Lm)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new wb(e);return t._s.Ps((function(){return Object(wc.b)(n,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){jc(t).Wh.add(e),e.next()},[4,xm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.i_(),t._s.Ps((function(){return Object(wc.b)(n,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){jc(t).Wh.delete(e)},[4,xm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Rm(t=jb(t,Lm)),jm(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new Vc(Fc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ry(this,Vb(this.d_,t))}catch(t){throw Sy(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Ty(this,Kb(this.d_,t))}catch(t){throw Sy(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new jy(this,function(t,e){if(t=jb(t,Db),Tb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Vc(Fc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ub(t,null,function(t){return new th(Xc.ct(),t)}(e))}(this.d_,t))}catch(t){throw Sy(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new cd;return t._s.Ps((function(){return Object(wc.b)(n,void 0,void 0,(function(){var n;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Im(t).then((function(t){return t.Sh}))}(t)];case 1:return n=i.sent(),new mm(t._s,n,e,r).run(),[2]}}))}))})),r.promise}(Rm(t),(function(n){return e(new vy(t,n))}))}(this.d_,(function(n){return t(new Iy(e,n))}))},e.prototype.batch=function(){var t=this;return Rm(this.d_),new Cy(new py(this.d_,(function(e){return fy(t.d_,e)})))},e.prototype.loadBundle=function(t){throw new Vc(Fc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Vc(Fc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Eb),Oy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(wc.c)(e,t),e.prototype.Wf=function(t){return new yy(new Kc(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return Ty.yd(e,this.firestore,null)},e}(Fm),Iy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new Oy(e),r}return Object(wc.c)(e,t),e.prototype.get=function(t){var e=this,n=Dy(t);return this.d_.get(n).then((function(t){return new Ay(e.Yf,new iy(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=Dy(t);return n?(Sb("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Dy(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(wc.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Dy(t);return this.d_.delete(e),this},e}(Eb),Cy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype.set=function(t,e,n){var r=Dy(t);return n?(Sb("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Dy(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(wc.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Dy(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(Eb),Ey=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(wc.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new oy(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new ky(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Oy(t),n),i.set(n,o)),o},e}(Eb);Ey.Vd=new WeakMap;var Ty=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Oy(e),r}return Object(wc.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new Vc(Fc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new Mb(n.d_,r,new el(t)))},e.yd=function(t,n,r){return new e(n,new Mb(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ry(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ry(this.firestore,Vb(this.d_,t))}catch(t){throw Sy(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Eb&&(t=t.d_),t instanceof Mb&&qb(this.d_,t)},e.prototype.set=function(t,e){e=Sb("DocumentReference.set",e);try{return function(t,e,n){t=jb(t,Mb);var r=jb(t.firestore,Lm),i=ey(t.v_,e,n);return fy(r,[Xb($b(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Rh.Kt())])}(this.d_,t,e)}catch(t){throw Sy(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ly(this.d_,t):ly.apply(void 0,Object(wc.f)([this.d_,t,e],n))}catch(t){throw Sy(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return fy(jb((t=this.d_).firestore,Lm),[new $h(t.S_,Rh.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=xy(e),i=Py(e,(function(e){return new Ay(t.firestore,new iy(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))}));return hy(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jb(t,Mb);var e=jb(t.firestore,Lm),n=Rm(e),r=new cy(e);return function(t,e){var n=this,r=new cd;return t._s.Ps((function(){return Object(wc.b)(n,void 0,void 0,(function(){var n;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=jc(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Tc.Ho(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof kl?n.resolve(i):i instanceof jl?n.resolve(null):n.reject(new Vc(Fc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=wd(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Em(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new iy(e,r,t.S_,n,new ry(n instanceof kl&&n.Vt,!0),t.v_)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=jb(t,Mb);var e=jb(t.firestore,Lm);return Pm(Rm(e),t.S_,{source:"server"}).then((function(n){return dy(e,t,n)}))}(this.d_):function(t){t=jb(t,Mb);var e=jb(t.firestore,Lm);return Pm(Rm(e),t.S_).then((function(n){return dy(e,t,n)}))}(this.d_)).then((function(t){return new Ay(e.firestore,new iy(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(t?Ey.gd(this.firestore,t):null))},e}(Eb);function Sy(t,e,n){return t.message=t.message.replace(e,n),t}function xy(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!jm(r))return r}return{}}function Py(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=jm(t[0])?t[0]:jm(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ay=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(wc.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ty(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return uy(this.d_,t.d_)},e}(Eb),ky=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Ay),jy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Oy(e),r}return Object(wc.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,zm(this.d_,function(t,e,n){var r=e,i=qm("where",t);return new Gm(i,r,n)}(t,n,r)))}catch(t){throw Sy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,zm(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=qm("orderBy",t);return new Jm(r,n)}(t,n)))}catch(t){throw Sy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,zm(this.d_,function(t){return Nb("limit",t),new Wm("limit",t,"F")}(t)))}catch(t){throw Sy(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,zm(this.d_,function(t){return Nb("limitToLast",t),new Wm("limitToLast",t,"L")}(t)))}catch(t){throw Sy(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qm("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Sy(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qm("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Sy(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ym("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Sy(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ym("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Sy(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Hb(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jb(t,Ub);var e=jb(t.firestore,Lm),n=Rm(e),r=new cy(e);return function(t,e){var n=this,r=new cd;return t._s.Ps((function(){return Object(wc.b)(n,void 0,void 0,(function(){var n;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(wc.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,ug(t,e,!0)];case 1:return a=u.sent(),r=new Lv(e,a.Rc),i=r.fl(a.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=wd(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Em(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new sy(e,r,t,n)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=jb(t,Ub);var e=jb(t.firestore,Lm),n=Rm(e),r=new cy(e);return Am(n,t.C_,{source:"server"}).then((function(n){return new sy(e,r,t,n)}))}(this.d_):function(t){t=jb(t,Ub);var e=jb(t.firestore,Lm),n=Rm(e),r=new cy(e);return Hm(t.C_),Am(n,t.C_).then((function(n){return new sy(e,r,t,n)}))}(this.d_)).then((function(t){return new Ly(e.firestore,new sy(e.firestore.d_,e.Xf,e.d_,t._d))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=xy(e),i=Py(e,(function(e){return new Ly(t.firestore,new sy(t.firestore.d_,t.Xf,t.d_,e._d))}));return hy(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(t?Ey.gd(this.firestore,t):null))},e}(Eb),Ny=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(wc.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ky(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(Eb),Ly=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(wc.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new jy(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map((function(e){return new ky(t.Yf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map((function(t){return new Ny(e.Yf,t)}))},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach((function(r){t.call(e,new ky(n.Yf,r))}))},e.prototype.isEqual=function(t){return uy(this.d_,t.d_)},e}(Eb),Ry=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(wc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new Ty(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Ty(this.firestore,void 0===t?Kb(this.d_):Kb(this.d_,t))}catch(t){throw Sy(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=jb(t.firestore,Lm),r=Kb(t),i=ey(t.v_,e);return fy(n,[Xb($b(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Rh.exists(!1))]).then((function(){return r}))}(this.d_,t).then((function(t){return new Ty(e.firestore,t)}))},e.prototype.isEqual=function(t){return qb(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(t?Ey.gd(this.firestore,t):null))},e}(jy);function Dy(t){return t instanceof Eb&&(t=t.d_),jb(t,Mb)}var My,Uy,Fy=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Ib.bind.apply(Ib,Object(wc.f)([void 0],e))))||this}return Object(wc.c)(e,t),e.documentId=function(){return new e(tl.ht().rt())},e.prototype.isEqual=function(t){return t instanceof Eb&&(t=t.d_),t instanceof Ib&&this.d_.f_.isEqual(t.f_)},e}(Eb),Vy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.serverTimestamp=function(){var t=new em("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Zb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nm("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rm("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new im("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(Eb),Ky=n("/6Yf"),qy={Firestore:wy,GeoPoint:Bb,Timestamp:Qc,Blob:yy,Transaction:Iy,WriteBatch:Cy,DocumentReference:Ty,DocumentSnapshot:Ay,Query:jy,QueryDocumentSnapshot:ky,QuerySnapshot:Ly,CollectionReference:Ry,FieldPath:Fy,FieldValue:Vy,setLogLevel:function(t){Cc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Ky.a("firestore",(function(t){return function(t,e){return new wy(t,new Lm(t,e),new _y)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},qy)))})(My=yo.a),My.registerVersion("@firebase/firestore","2.2.0"),(Uy=wy).prototype.loadBundle=function(t){return function(t,e){var n=Rm(t=jb(t,Lm)),r=new Nm;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new Ob(t,e)}(function(t,e){if(t instanceof Uint8Array)return _b(t,e);if(t instanceof ArrayBuffer)return _b(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,Kg(e));t._s.Ps((function(){return Object(wc.b)(i,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return e=gb,[4,Sm(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,t.I_,e,r),r}(this.d_,t)},Uy.prototype.namedQuery=function(t){var e,n,r=this;return(e=this.d_,n=t,function(t,e){var n=this;return t._s.enqueue((function(){return Object(wc.b)(n,void 0,void 0,(function(){var n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=jc(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.wo.Ms(t,e)}))},[4,Em(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(Rm(e=jb(e,Lm)),n).then((function(t){return t?new Ub(e,null,t.query):null}))).then((function(t){return t?new jy(r,t):null}))};var Hy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},By=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Object(wc.c)(e,t),e}(Error),zy=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t;return Object(wc.d)(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(My){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t,e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function Gy(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var Jy,Wy,Qy,Yy=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return Gy(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?Gy(t,(function(t){return e.decode(t)})):t},t}(),$y=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new Yy,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new zy(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var s=new URL(r);this.customDomain=s.origin,this.region="us-central1"}catch(My){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f;return Object(wc.d)(this,(function(d){switch(d.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=d.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new By("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(n.timeout||7e4),u=a.timer,c=a.promise,[4,Promise.race([Xy(u,this.postJSON(r,i,o)),c,Xy(u,this.cancelAllRequests)])];case 2:if(!(l=d.sent()))throw new By("cancelled","Firebase Functions instance was deleted.");if(h=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!Hy[a])return new By("internal","internal");r=Hy[a],i=a}var u=s.message;"string"==typeof u&&(i=u),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(My){}return"ok"===r?null:new By(r,i,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new By("internal","Response is not valid JSON object.");if(void 0===(f=l.json.data)&&(f=l.json.result),void 0===f)throw new By("internal","Response is missing data field.");return[2,{data:this.serializer.decode(f)}]}}))}))},t}();function Xy(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}Jy=yo.a,Wy=fetch.bind(self),Qy={Functions:$y},Jy.INTERNAL.registerComponent(new Ky.a("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new $y(n,r,i,e,Wy)}),"PUBLIC").setServiceProps(Qy).setMultipleInstances(!0)),yo.a.registerVersion("@firebase/functions","0.6.3");var Zy,t_=n("nbvr"),e_="w:0.4.21",n_=((Zy={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Zy["not-registered"]="Firebase Installation is not registered.",Zy["installation-not-found"]="Firebase Installation not found.",Zy["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Zy["app-offline"]="Could not process request. Application offline.",Zy["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Zy),r_=new wo.b("installations","Installations",n_);function i_(t){return t instanceof wo.c&&t.code.includes("request-failed")}function o_(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function s_(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function a_(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,r_.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function u_(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function c_(t,e){var n=e.refreshToken,r=u_(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function l_(t){return Object(wc.b)(this,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function h_(t,e){var n=e.fid;return Object(wc.b)(this,void 0,void 0,(function(){var e,r,i,o,s;return Object(wc.d)(this,(function(a){switch(a.label){case 0:return e=o_(t),r=u_(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:e_})},[4,l_((function(){return fetch(e,i)}))];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:s_(s.authToken)}];case 3:return[4,a_("Create Installation",o)];case 4:throw a.sent()}}))}))}function f_(t){return new Promise((function(e){setTimeout(e,t)}))}var d_=/^[cdef][\w-]{21}$/;function p_(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(wc.f)([],Object(wc.e)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return d_.test(e)?e:""}catch(n){return""}}function g_(t){return t.appName+"!"+t.appId}var v_=new Map;function b_(t,e){var n=g_(t);m_(n,e),function(t,e){var n=__();n&&n.postMessage({key:t,fid:e}),w_()}(n,e)}function m_(t,e){var n,r,i=v_.get(t);if(i)try{for(var o=Object(wc.g)(i),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var y_=null;function __(){return!y_&&"BroadcastChannel"in self&&((y_=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){m_(t.data.key,t.data.fid)}),y_}function w_(){0===v_.size&&y_&&(y_.close(),y_=null)}var O_,I_="firebase-installations-store",C_=null;function E_(){return C_||(C_=Object(t_.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(I_)}}))),C_}function T_(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(wc.d)(this,(function(a){switch(a.label){case 0:return n=g_(t),[4,E_()];case 1:return r=a.sent(),i=r.transaction(I_,"readwrite"),[4,(o=i.objectStore(I_)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||b_(t,e.fid),[2,e]}}))}))}function S_(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return e=g_(t),[4,E_()];case 1:return n=i.sent(),[4,(r=n.transaction(I_,"readwrite")).objectStore(I_).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function x_(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(wc.d)(this,(function(u){switch(u.label){case 0:return n=g_(t),[4,E_()];case 1:return r=u.sent(),i=r.transaction(I_,"readwrite"),[4,(o=i.objectStore(I_)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||b_(t,a.fid),[2,a]}}))}))}function P_(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return[4,x_(t,(function(n){var r=function(t){return j_(t||{fid:p_(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(r_.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,h_(t,e)];case 1:return n=i.sent(),[2,T_(t,n)];case 2:return i_(r=i.sent())&&409===r.customData.serverCode?[4,S_(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,T_(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:A_(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function A_(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n,r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return[4,k_(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,f_(100)];case 3:return o.sent(),[4,k_(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,P_(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function k_(t){return x_(t,(function(t){if(!t)throw r_.create("installation-not-found");return j_(t)}))}function j_(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function N_(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(wc.b)(this,void 0,void 0,(function(){var t,i,o,s,a;return Object(wc.d)(this,(function(u){switch(u.label){case 0:return t=function(t,e){var n=e.fid;return o_(t)+"/"+n+"/authTokens:generate"}(n,e),i=c_(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:e_}})},[4,l_((function(){return fetch(t,s)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,s_(u.sent())];case 3:return[4,a_("Generate Auth Token",a)];case 4:throw u.sent()}}))}))}function L_(t,e){return void 0===e&&(e=!1),Object(wc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return[4,x_(t.appConfig,(function(r){if(!D_(r))throw r_.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return[4,R_(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,f_(100)];case 3:return i.sent(),[4,R_(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,L_(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw r_.create("app-offline");var s=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(wc.a)(Object(wc.a)({},t),{authToken:e})}(r);return n=function(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,N_(t,e)];case 1:return n=o.sent(),i=Object(wc.a)(Object(wc.a)({},e),{authToken:n}),[4,T_(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!i_(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,S_(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(wc.a)(Object(wc.a)({},e),{authToken:{requestStatus:0}}),[4,T_(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,s),s}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function R_(t){return x_(t,(function(t){if(!D_(t))throw r_.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(wc.a)(Object(wc.a)({},t),{authToken:{requestStatus:0}}):t}))}function D_(t){return void 0!==t&&2===t.registrationStatus}function M_(t){return Object(wc.b)(this,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return[4,P_(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function U_(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(wc.d)(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return o_(t)+"/"+n}(t,e),r=c_(t,e),i={method:"DELETE",headers:r},[4,l_((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,a_("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}function F_(t){return r_.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new Ky.a("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw F_("App Configuration");if(!t.name)throw F_("App Name");try{for(var r=Object(wc.g)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw F_(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return[4,P_(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):L_(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(n){switch(n.label){case 0:return[4,M_(t.appConfig)];case 1:return n.sent(),[4,L_(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return[4,x_(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw r_.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw r_.create("app-offline");case 3:return[4,U_(e,n)];case 4:return r.sent(),[4,S_(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){__();var n=g_(t),r=v_.get(n);r||(r=new Set,v_.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=g_(t),r=v_.get(n);r&&(r.delete(e),0===r.size&&v_.delete(n),w_())}(n,e)}}(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.21")}(yo.a);var V_=((O_={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',O_["only-available-in-window"]="This method is available in a Window context.",O_["only-available-in-sw"]="This method is available in a service worker context.",O_["permission-default"]="The notification permission was not granted and dismissed instead.",O_["permission-blocked"]="The notification permission was not granted and blocked instead.",O_["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",O_["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",O_["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",O_["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",O_["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",O_["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",O_["token-update-no-token"]="FCM returned no token when updating the user to push.",O_["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",O_["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",O_["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",O_["invalid-vapid-key"]="The public VAPID key must be a string.",O_["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",O_),K_=new wo.b("messaging","Messaging",V_),q_="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",H_=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function B_(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(wc.f)([],Object(wc.e)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function z_(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var G_="fcm_token_details_db",J_="fcm_token_object_Store";function W_(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n=this;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes(G_))return[2,null];r.label=2;case 2:return e=null,[4,Object(t_.openDb)(G_,5,(function(r){return Object(wc.b)(n,void 0,void 0,(function(){var n,i,o,s;return Object(wc.d)(this,(function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(J_)?[4,(n=r.transaction.objectStore(J_)).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,n.clear()];case 2:if(a.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:B_(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:B_(o.auth),p256dh:B_(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:B_(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Object(t_.deleteDb)(G_)];case 4:return r.sent(),[4,Object(t_.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(t_.deleteDb)("undefined")];case 6:return r.sent(),[2,Q_(e)?e:null]}}))}))}function Q_(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var Y_="firebase-messaging-store",$_=null;function X_(){return $_||($_=Object(t_.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Y_)}}))),$_}function Z_(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return e=nw(t),[4,X_()];case 1:return[4,i.sent().transaction(Y_).objectStore(Y_).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,W_(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,tw(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function tw(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return n=nw(t),[4,X_()];case 1:return r=o.sent(),[4,(i=r.transaction(Y_,"readwrite")).objectStore(Y_).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function ew(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return e=nw(t),[4,X_()];case 1:return n=i.sent(),[4,(r=n.transaction(Y_,"readwrite")).objectStore(Y_).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function nw(t){return t.appConfig.appId}function rw(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(wc.d)(this,(function(a){switch(a.label){case 0:return[4,aw(t)];case 1:n=a.sent(),r=uw(e),i={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(sw(t.appConfig),i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),K_.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw K_.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw K_.create("token-subscribe-no-token");return[2,o.token]}}))}))}function iw(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(wc.d)(this,(function(a){switch(a.label){case 0:return[4,aw(t)];case 1:n=a.sent(),r=uw(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(sw(t.appConfig)+"/"+e.token,i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),K_.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw K_.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw K_.create("token-update-no-token");return[2,o.token]}}))}))}function ow(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(wc.d)(this,(function(s){switch(s.label){case 0:return[4,aw(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(sw(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw K_.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=s.sent(),K_.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))}function sw(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function aw(t){var e=t.appConfig,n=t.installations;return Object(wc.b)(this,void 0,void 0,(function(){var t;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function uw(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==q_&&(n.web.applicationPubKey=e),n}function cw(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(wc.d)(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw K_.create("permission-blocked");return[4,dw(e,n)];case 1:return r=a.sent(),[4,Z_(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:B_(r.getKey("auth")),p256dh:B_(r.getKey("p256dh"))},i?[3,3]:[2,fw(t,o)];case 3:if(l=(c=o).endpoint===(u=i.subscriptionOptions).endpoint,c.vapidKey===u.vapidKey&&l&&c.auth===u.auth&&c.p256dh===u.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,ow(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,fw(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,hw({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l}))}))}function lw(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return[4,Z_(t)];case 1:return(n=i.sent())?[4,ow(t,n.token)]:[3,4];case 2:return i.sent(),[4,ew(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function hw(t,e,n){return Object(wc.b)(this,void 0,void 0,(function(){var r,i,o;return Object(wc.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,iw(e,t)];case 1:return r=s.sent(),i=Object(wc.a)(Object(wc.a)({},t),{token:r,createTime:Date.now()}),[4,tw(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,lw(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function fw(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return[4,rw(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,tw(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function dw(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:z_(e)})]}}))}))}function pw(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function gw(t){return new Promise((function(e){setTimeout(e,t)}))}var vw=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw K_.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(wc.b)(this,void 0,void 0,(function(){var n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Z_(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:q_,r.label=2;case 2:return[2,cw(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return lw(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw K_.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw K_.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw K_.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw K_.create("only-available-in-window")},t.prototype.onMessage=function(){throw K_.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw K_.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n,r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,_w()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,yw(n,e)]:(r=!1,e.notification?[4,ww(bw(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,gw(1e3)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Object(wc.b)(this,void 0,void 0,(function(){var r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,lw(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Z_(this.firebaseDependencies)];case 3:return r=i.sent(),[4,lw(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,cw(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:q_)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Object(wc.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(wc.d)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(pw(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,mw(o)]):[2]):[2];case 1:return(a=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=u.sent(),[4,gw(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=u.sent(),u.label=6;case 6:return a?(r.messageType=H_.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}}))}))},t}();function bw(t){var e,n=Object(wc.a)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function mw(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n,r,i,o,s,a;return Object(wc.d)(this,(function(u){switch(u.label){case 0:return[4,_w()];case 1:e=u.sent();try{for(n=Object(wc.g)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(c){s={error:c}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function yw(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=H_.PUSH_RECEIVED;try{for(var i=Object(wc.g)(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function _w(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function ww(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var Ow=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===H_.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),pw(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw K_.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,cw(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=q_),[2]}))}))},t.prototype.updateSwReg=function(t){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw K_.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t,e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),K_.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,lw(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t;return Object(wc.d)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw K_.create("denied"===t?"permission-blocked":"permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw K_.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw K_.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw K_.create("invalid-sw-registration");if(this.swRegistration)throw K_.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw K_.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw K_.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case H_.NOTIFICATION_CLICKED:return"notification_open";case H_.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function Iw(t){return K_.create("missing-app-config-values",{valueName:t})}var Cw={isSupported:Ew};function Ew(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}yo.a.INTERNAL.registerComponent(new Ky.a("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw Iw("App Configuration Object");if(!t.name)throw Iw("App Name");var r=t.options;try{for(var i=Object(wc.g)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw Iw(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!Ew())throw K_.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new vw(n):new Ow(n)}),"PUBLIC").setServiceProps(Cw));var Tw="firebasestorage.googleapis.com",Sw=function(t){function e(n,r){var i=t.call(this,xw(n),"Firebase Storage: "+r+" ("+xw(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(wc.c)(e,t),e.prototype._codeEquals=function(t){return xw(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(wo.c);function xw(t){return"storage/"+t}function Pw(){return new Sw("unknown","An unknown error occurred, please check the error payload for server response.")}function Aw(){return new Sw("canceled","User canceled the upload/download.")}function kw(){return new Sw("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function jw(t){return new Sw("invalid-argument",t)}function Nw(){return new Sw("app-deleted","The Firebase app was deleted.")}function Lw(t){return new Sw("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rw(t,e){return new Sw("invalid-format","String does not match format '"+t+"': "+e)}function Dw(t){throw new Sw("internal-error","Internal error: "+t)}var Mw={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Uw=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Fw(t,e){switch(t){case Mw.RAW:return new Uw(Vw(e));case Mw.BASE64:case Mw.BASE64URL:return new Uw(Kw(t,e));case Mw.DATA_URL:return new Uw((n=new qw(e)).base64?Kw(Mw.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(My){throw Rw(Mw.DATA_URL,"Malformed data URL.")}return Vw(e)}(n.rest),new qw(e).contentType)}var n;throw Pw()}function Vw(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Kw(t,e){switch(t){case Mw.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Rw(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Mw.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Rw(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(My){throw Rw(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var qw=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Rw(Mw.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),Hw={STATE_CHANGED:"state_changed"},Bw={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zw(t){switch(t){case"running":case"pausing":case"canceling":return Bw.RUNNING;case"paused":return Bw.PAUSED;case"success":return Bw.SUCCESS;case"canceled":return Bw.CANCELED;case"error":default:return Bw.ERROR}}var Gw=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Jw=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Gw.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Gw.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Gw.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Dw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Dw("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Dw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(My){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Dw("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Ww=function(){function t(){}return t.prototype.createXhrIo=function(){return new Jw},t}();function Qw(t){return"string"==typeof t||t instanceof String}function Yw(t){return $w()&&t instanceof Blob}function $w(){return"undefined"!=typeof Blob}function Xw(t,e,n,r){if(r<e)throw jw("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw jw("Invalid value for '"+t+"'. Expected "+n+" or less.")}function Zw(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function tO(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Zw();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if($w())return new Blob(t);throw new Sw("unsupported-environment","This browser doesn't seem to support creating Blobs")}var eO=function(){function t(t,e){var n=0,r="";Yw(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Yw(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if($w()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(tO.apply(null,r))}var i=e.map((function(t){return Qw(t)?Fw(Mw.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),nO=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(My){return new t(e,"")}if(""===n.path)return n;throw new Sw("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=Tw.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new Sw("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function rO(t){var e,n;try{e=JSON.parse(t)}catch(My){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function iO(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function oO(t){return"https://"+Tw+"/v0"+t}function sO(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function aO(t,e){return e}var uO=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||aO}}(),cO=null;function lO(){if(cO)return cO;var t=[];t.push(new uO("bucket")),t.push(new uO("generation")),t.push(new uO("metageneration")),t.push(new uO("name","fullPath",!0));var e=new uO("name");e.xform=function(t,e){return function(t){return!Qw(t)||t.length<2?t:iO(t)}(e)},t.push(e);var n=new uO("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new uO("timeCreated")),t.push(new uO("updated")),t.push(new uO("md5Hash",null,!0)),t.push(new uO("cacheControl",null,!0)),t.push(new uO("contentDisposition",null,!0)),t.push(new uO("contentEncoding",null,!0)),t.push(new uO("contentLanguage",null,!0)),t.push(new uO("contentType",null,!0)),t.push(new uO("metadata","customMetadata",!0)),cO=t}function hO(t,e,n){var r=rO(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new nO(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function fO(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var dO=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function pO(t){if(!t)throw Pw()}function gO(t,e){return function(n,r){var i=hO(t,r,e);return pO(null!==i),i}}function vO(t){return function(e,n){var r;return(r=401===e.getStatus()?new Sw("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Sw("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Sw("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function bO(t){var e=vO(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Sw("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function mO(t,e,n){var r=oO(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new dO(r,"GET",gO(t,n),i);return o.errorHandler=bO(e),o}function yO(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var _O=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function wO(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(My){pO(!1)}return pO(!!n&&-1!==(e||["active"]).indexOf(n)),n}var OO=262144,IO=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function CO(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var EO=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=lO(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then((function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=yO(e,r,i),a={name:s.fullPath},u=oO(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=fO(s,n),h=new dO(u,"POST",(function(t){var e;wO(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(My){pO(!1)}return pO(Qw(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=vO(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=new dO(n,"POST",(function(t){var e=wO(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(My){pO(!1)}n||pO(!1);var i=Number(n);return pO(!isNaN(i)),new _O(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=vO(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=OO*this._chunkMultiplier,n=new _O(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new _O(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Sw("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw kw();var p=new dO(n,"POST",(function(t,n){var i,s=wO(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?gO(e,o)(t,n):null,new _O(a,c,"final"===s,i)}),e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=vO(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(My){return t._error=My,void t._transition("error")}var s=t._ref.storage._makeRequest(o,i);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){OO*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=mO(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=yO(e,r,i),c=fO(u,n),l=eO.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw kw();var h={name:u.fullPath},f=oO(o),d=t.maxUploadRetryTime,p=new dO(f,"POST",gO(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=vO(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Aw(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=zw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new IO(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(zw(this._state)){case Bw.SUCCESS:CO(this._resolve.bind(null,this.snapshot))();break;case Bw.CANCELED:case Bw.ERROR:CO(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(zw(this._state)){case Bw.RUNNING:case Bw.PAUSED:t.next&&CO(t.next.bind(t,this.snapshot))();break;case Bw.SUCCESS:t.complete&&CO(t.complete.bind(t))();break;case Bw.CANCELED:case Bw.ERROR:t.error&&CO(t.error.bind(t,this._error))();break;default:t.error&&CO(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),TO=function(){function t(t,e){this._service=t,this._location=e instanceof nO?e:nO.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new nO(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return iO(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new nO(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Lw(t)},t}();function SO(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Xw("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=oO(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new dO(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=rO(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new nO(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new nO(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return pO(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=vO(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}}))}))}function xO(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new nO(t._location.bucket,n);return new TO(t.storage,r)}var PO=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),AO=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new PO(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new PO(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new PO(t,i,i._ref))}:{next:e.next?function(t){return e.next(new PO(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),kO=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new jO(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new jO(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),jO=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(xO(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new AO(function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new EO(t,new eO(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Mw.RAW),this._throwIfRoot("putString");var r=Fw(e,t),i=Object(wc.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new AO(new EO(this._delegate,new eO(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e,n=this;return(t=this._delegate,e={prefixes:[],items:[]},function t(e,n,r){return Object(wc.b)(this,void 0,void 0,(function(){var i,o,s;return Object(wc.d)(this,(function(a){switch(a.label){case 0:return[4,SO(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(s=n.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))).then((function(t){return new kO(t,n.storage)}))},t.prototype.list=function(t){var e=this;return SO(this._delegate,t).then((function(t){return new kO(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=mO(t.storage,t._location,lO()),[2,t.storage._makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=oO(e.fullServerUrl()),o=fO(n,r),s=t.maxOperationRetryTime,a=new dO(i,"PATCH",gO(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=bO(e),a}(t.storage,t._location,e,lO()),[2,t.storage._makeRequest(r,n).getPromise()]}}))}))}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=oO(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new dO(r,"GET",function(t,e){return function(n,r){var i=hO(t,r,e);return pO(null!==i),function(t,e){var n=rO(e);if(null===n)return null;if(!Qw(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return oO("/b/"+i(t.bucket)+"/o/"+i(n))+sO({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=bO(e),o}(t.storage,t._location,lO()),[2,t.storage._makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new Sw("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=oO(e.fullServerUrl()),r=new dO(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=bO(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Lw(t)},t}(),NO=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),LO=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(My){o(My)}else null!==s?((r=Pw()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?Nw():Aw():new Sw("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new RO(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new RO(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Gw.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new RO(s,n))}else{var a=n.getErrorCode()===Gw.ABORT;e(!1,new RO(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(wc.f)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(wc.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),RO=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function DO(t){return/^[A-Za-z]+:\/\//.test(t)}function MO(t,e){if(e&&DO(e)){if(t instanceof UO)return new TO(t,e);throw jw("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof UO){var r=e;if(null==r._bucket)throw new Sw("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new TO(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw jw('`path` param cannot contain ".."');return xO(e,n)}return e}(t,e)}var UO=function(){function t(t,e,n,r,i){var o,s;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?nO.makeFromBucketSpec(r):null==(s=null==(o=this.app.options)?void 0:o.storageBucket)?null:nO.makeFromBucketSpec(s)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Xw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Xw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t,e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new TO(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new NO(Nw());var r=function(t,e,n,r,i){var o=sO(t.urlParams),s=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,i),new LO(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),FO=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(DO(t))throw jw("ref() expected a child path but got a URL, use refFromURL instead.");return new jO(MO(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!DO(t))throw jw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{nO.makeFromUrl(t)}catch(My){throw jw("refFromUrl() expected a valid full URL but got an invalid one.")}return new jO(MO(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function VO(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new FO(n,new UO(n,r,new Ww,e,yo.a.SDK_VERSION))}!function(t){var e={TaskState:Bw,TaskEvent:Hw,StringFormat:Mw,Storage:UO,Reference:jO};t.INTERNAL.registerComponent(new Ky.a("storage",VO,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.4.4")}(yo.a);var KO,qO,HO,BO="0.4.7",zO=BO,GO="FB-PERF-TRACE-MEASURE",JO="_wt_",WO="_fcp",QO="_fid",YO="@firebase/performance/config",$O="@firebase/performance/configexpire",XO="Performance",ZO=((KO={})["trace started"]="Trace {$traceName} was started before.",KO["trace stopped"]="Trace {$traceName} is not running.",KO["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",KO["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",KO["no window"]="Window is not available.",KO["no app id"]="App id is not available.",KO["no project id"]="Project id is not available.",KO["no api key"]="Api key is not available.",KO["invalid cc log"]="Attempted to queue invalid cc event",KO["FB not default"]="Performance can only start when Firebase app instance is the default one.",KO["RC response not ok"]="RC response is not ok",KO["invalid attribute name"]="Attribute name {$attributeName} is invalid.",KO["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",KO["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",KO["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",KO),tI=new wo.b("performance",XO,ZO),eI=new _o.b(XO);eI.logLevel=_o.a.INFO;var nI,rI=function(){function t(t){if(this.window=t,!t)throw tI.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(wo.w)()||(eI.info("IndexedDB is not supported by current browswer"),!1):(eI.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===qO&&(qO=new t(HO)),qO},t}();function iI(t,e){var n=t.length-e.length;if(n<0||n>1)throw tI.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var oI,sI=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=iI("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=iI("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw tI.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw tI.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw tI.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===nI&&(nI=new t),nI},t}();function aI(){return oI}var uI=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),cI=["firebase_","google_","ga_"],lI=new RegExp("^[a-zA-Z]\\w*$");function hI(){var t=rI.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function fI(){switch(rI.getInstance().document.visibilityState){case"visible":return uI.VISIBLE;case"hidden":return uI.HIDDEN;default:return uI.UNKNOWN}}function dI(){var t=rI.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function pI(t){if(!t)return t;var e=sI.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=gI(e.tracesSamplingRate),e.logNetworkAfterSampling=gI(e.networkRequestsSamplingRate),t}function gI(t){return Math.random()<=t}var vI,bI=1;function mI(){return bI=2,vI=vI||function(){var t=rI.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=sI.getInstance().installationsService.getId()).then((function(t){oI=t})),t;var t})).then((function(t){return function(t){var e=function(){var t=rI.getInstance().localStorage;if(t){var e=t.getItem($O);if(e&&Number(e)>Date.now()){var n=t.getItem(YO);if(n)try{return JSON.parse(n)}catch(r){return}}}}();return e?(pI(e),Promise.resolve()):function(t){return(e=sI.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+sI.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+sI.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:sI.getInstance().getAppId(),app_version:zO,sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw tI.create("RC response not ok")}))})).catch((function(){eI.info("Could not fetch config, will use default configs")}));var e}(t).then(pI).then((function(t){return function(t){var e=rI.getInstance().localStorage;t&&e&&(e.setItem(YO,JSON.stringify(t)),e.setItem($O,String(Date.now()+60*sI.getInstance().configTimeToLive*60*1e3)))}(t)}),(function(){}))}(t)})).then((function(){return yI()}),(function(){return yI()}))}function yI(){bI=3}var _I,wI=1e4,OI=3,II=[],CI=!1;function EI(t){if(!t.eventTime||!t.message)throw tI.create("invalid cc log");II=Object(wc.f)(Object(wc.f)([],II),[t])}function TI(t,e){var n;_I||(n=PI,_I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];EI({message:n.apply(void 0,t),eventTime:Date.now()})}),_I(t,e)}function SI(t){var e=sI.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&rI.getInstance().requiredApisAvailable()&&(t.isAuto&&fI()!==uI.VISIBLE||(3===bI?xI(t):mI().then((function(){return xI(t)}),(function(){return xI(t)}))))}function xI(t){if(aI()){var e=sI.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return TI(t,1)}),0)}}function PI(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:AI(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:AI(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function AI(){return{google_app_id:sI.getInstance().getAppId(),app_instance_id:aI(),web_app_info:{sdk_version:zO,page_url:rI.getInstance().getUrl(),service_worker_status:hI(),visibility_state:fI(),effective_connection_type:dI()},application_process_state:0}}var kI=["_fp",WO,QO],jI=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=rI.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw tI.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw tI.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),SI(this)},t.prototype.record=function(t,e,n){if(t<=0)throw tI.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw tI.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(wc.a)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}SI(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(o=this.name,0===(i=t).length||i.length>100||!(o&&o.startsWith(JO)&&kI.indexOf(i)>-1)&&i.startsWith("_"))throw tI.create("invalid custom metric name",{customMetricName:t});var n,r,i,o;this.counters[t]=(n=e,(r=Math.floor(n))<n&&eI.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>40||cI.some((function(t){return n.startsWith(t)}))||!n.match(lI)),i=function(t){return 0!==t.length&&t.length<=100}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw tI.create("invalid attribute name",{attributeName:t});if(!i)throw tI.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(wc.a)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=rI.getInstance().getUrl();if(i){var o=new t(JO+i,!0),s=Math.floor(1e3*rI.getInstance().getTimeOrigin());if(o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric(WO,Math.floor(1e3*u.startTime)),r&&o.putMetric(QO,Math.floor(1e3*r))}SI(o)}},t.createUserTimingTrace=function(e){SI(new t(e,!1,e))},t}();function NI(t){var e=t;if(e&&void 0!==e.responseStart){var n=rI.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=sI.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return TI(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function LI(){aI()&&(setTimeout((function(){return function(){var t=rI.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){jI.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),jI.createOobTrace(e,n,t))}))}else jI.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=rI.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)NI(n[e]);t.setupObserver("resource",NI)}()}),0),setTimeout((function(){return function(){for(var t=rI.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)RI(n[e]);t.setupObserver("measure",RI)}()}),0))}function RI(t){var e=t.name;e.substring(0,GO.length)!==GO&&jI.createUserTimingTrace(e)}var DI=function(){function t(t){this.app=t,rI.getInstance().requiredApisAvailable()&&Object(wo.N)().then((function(t){t&&(CI||(function t(e){setTimeout((function(){var e,n;if(0!==OI)return II.length?(n=(e=II.splice(0,1e3)).map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),void function(e,n){return function(t){var e=sI.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(e).then((function(t){return t.ok||eI.info("Call to Firebase backend failed."),t.json()})).then((function(e){var r=Number(e.nextRequestWaitMillis),i=wI;isNaN(r)||(i=Math.max(r,i));var o=e.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(II=Object(wc.f)(Object(wc.f)([],n),II),eI.info("Retry transport request later.")),OI=3,t(i)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:sI.getInstance().logSource,log_event:n},e).catch((function(){II=Object(wc.f)(Object(wc.f)([],e),II),OI--,eI.info("Tries left: "+OI+"."),t(wI)}))):t(wI)}),e)}(5500),CI=!0),mI().then(LI,LI))})).catch((function(t){eI.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new jI(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return sI.getInstance().instrumentationEnabled},set:function(t){sI.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return sI.getInstance().dataCollectionEnabled},set:function(t){sI.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new Ky.a("performance",(function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw tI.create("FB not default");if("undefined"==typeof window)throw tI.create("no window");return function(t){HO=t}(window),sI.getInstance().firebaseAppInstance=t,sI.getInstance().installationsService=e,new DI(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC")),t.registerVersion("@firebase/performance",BO)}(yo.a);var MI,UI="https://www.googletagmanager.com/gtag/js",FI=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),VI=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),KI=new _o.b("@firebase/analytics");function qI(t,e,n,r,i,o){return Object(wc.b)(this,void 0,void 0,(function(){var s,a,u,c;return Object(wc.d)(this,(function(l){switch(l.label){case 0:s=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),(u=a.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),KI.error(c),[3,8];case 8:return t(FI.CONFIG,i,o),[2]}}))}))}function HI(t,e,n,r,i){return Object(wc.b)(this,void 0,void 0,(function(){var o,s,a,u,c,l,h;return Object(wc.d)(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=f.sent(),u=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=s;c<l.length&&"break"!==u(l[c]);c++);f.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return f.sent(),t(FI.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),KI.error(h),[3,5];case 5:return[2]}}))}))}var BI=((MI={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",MI["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",MI["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",MI["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",MI["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",MI["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",MI["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",MI["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',MI["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',MI),zI=new wo.b("analytics","Analytics",BI),GI=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function JI(t){var e;return Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(wc.d)(this,(function(u){switch(u.label){case 0:return n=t.appId,r={method:"GET",headers:(c=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":c}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=u.sent()).status||304===o.status)return[3,6];s="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,o.json()];case 3:return a=u.sent(),(null===(e=a.error)||void 0===e?void 0:e.message)&&(s=a.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw zI.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s});case 6:return[2,o.json()]}var c}))}))}function WI(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=GI),Object(wc.b)(this,void 0,void 0,(function(){var e,s,a,u,c,l,h;return Object(wc.d)(this,(function(f){switch(f.label){case 0:e=t.appId,s=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,QI(n,i)];case 2:return f.sent(),[3,4];case 3:if(a=f.sent(),s)return KI.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return f.trys.push([4,6,,7]),[4,JI(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof wo.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),s)return KI.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return l=503===Number(c.customData.httpStatus)?Object(wo.j)(o,r.intervalMillis,30):Object(wo.j)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),KI.debug("Calling attemptFetch again in "+l+" millis"),[2,WI(t,h,n,r)];case 7:return[2]}}))}))}function QI(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(zI.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var YI,$I,XI=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),ZI={},tC=[],eC={},nC="dataLayer",rC="gtag",iC=!1;function oC(t){if(iC)throw zI.create("already-initialized");t.dataLayerName&&(nC=t.dataLayerName),t.gtagName&&(rC=t.gtagName)}var sC="analytics";function aC(){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){switch(t.label){case 0:if(Object(wo.s)())return[2,!1];if(!Object(wo.e)())return[2,!1];if(!Object(wo.w)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(wo.N)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new Ky.a(sC,(function(t){return function(t,e){!function(){var t=[];if(Object(wo.s)()&&t.push("This is a browser extension environment."),Object(wo.e)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=zI.create("invalid-analytics-context",{errorInfo:e});KI.warn(n.message)}}();var n,r,i=t.options.appId;if(!i)throw zI.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw zI.create("no-api-key");KI.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ZI[i])throw zI.create("already-exists",{id:i});if(!iC){n=nC,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return Object(wc.b)(this,void 0,void 0,(function(){var a;return Object(wc.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==FI.EVENT?[3,2]:[4,HI(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==FI.CONFIG?[3,4]:[4,qI(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(FI.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),KI.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(ZI,tC,eC,nC,rC);$I=o.wrappedGtag,YI=o.gtagCore,iC=!0}return ZI[i]=function(t,e,n,r,i,o){return Object(wc.b)(this,void 0,void 0,(function(){var s,a,u,c,l,h,f;return Object(wc.d)(this,(function(d){switch(d.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=GI),Object(wc.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u=this;return Object(wc.d)(this,(function(c){if(i=(n=t.options).apiKey,o=n.measurementId,!(r=n.appId))throw zI.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw zI.create("no-api-key")}return s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new XI,setTimeout((function(){return Object(wc.b)(u,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){return a.abort(),[2]}))}))}),6e4),[2,WI({appId:r,apiKey:i,measurementId:o},s,a,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&KI.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return KI.error(t)})),e.push(s),a=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t;return Object(wc.d)(this,(function(e){switch(e.label){case 0:return Object(wo.w)()?[3,1]:(KI.warn(zI.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(wo.N)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),KI.warn(zI.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,a])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(UI))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=UI+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(FI.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}(t,tC,eC,e,YI,nC),{app:t,logEvent:function(t,e,n){(function(t,e,n,r,i){return Object(wc.b)(this,void 0,void 0,(function(){var o,s;return Object(wc.d)(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(FI.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=Object(wc.a)(Object(wc.a)({},r),{send_to:o}),t(FI.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})($I,ZI[i],t,e,n).catch((function(t){return KI.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(wc.b)(this,void 0,void 0,(function(){var i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(FI.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(FI.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})($I,ZI[i],t,e).catch((function(t){return KI.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Object(wc.b)(this,void 0,void 0,(function(){var i;return Object(wc.d)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(FI.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(FI.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})($I,ZI[i],t,e).catch((function(t){return KI.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Object(wc.b)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(wc.d)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)i["user_properties."+(a=s[o])]=n[a];return t(FI.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(FI.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})($I,ZI[i],t,e).catch((function(t){return KI.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(ZI[i],t).catch((function(t){return KI.error(t)}))},INTERNAL:{delete:function(){return delete ZI[i],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:oC,EventName:VI,isSupported:aC})),t.INTERNAL.registerComponent(new Ky.a("analytics-internal",(function(t){try{return{logEvent:t.getProvider(sC).getImmediate().logEvent}}catch(My){throw zI.create("interop-component-reg-failed",{reason:My})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.5")}(yo.a);var uC,cC=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(wc.d)(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}}))}))},t}(),lC=((uC={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",uC["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",uC["registration-api-key"]="Undefined API key. Check Firebase app initialization.",uC["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",uC["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",uC["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",uC["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",uC["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",uC["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",uC["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',uC["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',uC["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",uC["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",uC),hC=new wo.b("remoteconfig","Remote Config",lC),fC=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,v;return Object(wc.d)(this,(function(b){switch(b.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=b.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===m&&(m=navigator),m.languages&&m.languages[0]||m.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(i)},s=fetch(r,o),a=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),b.label=2;case 2:return b.trys.push([2,5,,6]),[4,Promise.race([s,a])];case 3:return b.sent(),[4,s];case 4:return u=b.sent(),[3,6];case 5:throw c=b.sent(),l="fetch-client-network","AbortError"===c.name&&(l="fetch-timeout"),hC.create(l,{originalErrorMessage:c.message});case 6:if(h=u.status,f=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];g=void 0,b.label=7;case 7:return b.trys.push([7,9,,10]),[4,u.json()];case 8:return g=b.sent(),[3,10];case 9:throw v=b.sent(),hC.create("fetch-client-parse",{originalErrorMessage:v.message});case 10:d=g.entries,p=g.state,b.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(d={}),304!==h&&200!==h)throw hC.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:f,config:d}]}var m}))}))},t}(),dC=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),pC=["1","true","t","yes","y","on"],gC=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&pC.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),vC=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=_o.a.DEBUG;break;case"silent":this._logger.logLevel=_o.a.SILENT;break;default:this._logger.logLevel=_o.a.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t,e,n;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(wc.d)(this,(function(i){switch(i.label){case 0:t=new dC,setTimeout((function(){return Object(wc.b)(r,void 0,void 0,(function(){return Object(wc.d)(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof wo.c&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return Object(wc.b)(this,void 0,void 0,(function(){return Object(wc.d)(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Object(wc.a)(Object(wc.a)({},t),e))).reduce((function(t,e){return t[e]=n.getValue(e),t}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new gC("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new gC("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new gC("static"))},t}();function bC(t,e){var n=t.target.error||void 0;return hC.create(e,{originalErrorMessage:n&&n.message})}var mC="app_namespace_store",yC=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(bC(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(mC,{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n=this;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([mC],"readonly").objectStore(mC),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(bC(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(My){i(hC.create("storage-get",{originalErrorMessage:My&&My.message}))}}))]}}))}))},t.prototype.set=function(t,e){return Object(wc.b)(this,void 0,void 0,(function(){var n,r=this;return Object(wc.d)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var s=n.transaction([mC],"readwrite").objectStore(mC),a=r.createCompositeKey(t);try{var u=s.put({compositeKey:a,value:e});u.onerror=function(t){o(bC(t,"storage-set"))},u.onsuccess=function(){i()}}catch(My){o(hC.create("storage-set",{originalErrorMessage:My&&My.message}))}}))]}}))}))},t.prototype.delete=function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e,n=this;return Object(wc.d)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([mC],"readwrite").objectStore(mC),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(bC(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(My){i(hC.create("storage-delete",{originalErrorMessage:My&&My.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),_C=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(wc.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o;return Object(wc.d)(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function wC(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(hC.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var OC,IC=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(wc.b)(this,void 0,void 0,(function(){var e;return Object(wc.d)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(wc.b)(this,void 0,void 0,(function(){var e,i,o;return Object(wc.d)(this,(function(s){switch(s.label){case 0:return[4,wC(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof wo.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(wo.j)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),CC="@firebase/remote-config";(OC=yo.a).INTERNAL.registerComponent(new Ky.a("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw hC.create("registration-window");var i=n.options,o=i.projectId,s=i.apiKey,a=i.appId;if(!o)throw hC.create("registration-project-id");if(!s)throw hC.create("registration-api-key");if(!a)throw hC.create("registration-app-id");var u=new yC(a,n.name,e=e||"firebase"),c=new _C(u),l=new _o.b(CC);l.logLevel=_o.a.ERROR;var h=new fC(r,OC.SDK_VERSION,e,o,s,a),f=new IC(h,u),d=new cC(f,u,c,l),p=new vC(n,d,c,u,l);return p.ensureInitialized(),p}),"PUBLIC").setMultipleInstances(!0)),OC.registerVersion(CC,"0.1.32"),yo.a.registerVersion("firebase","8.3.0","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),yo.a.registerVersion("firebase","8.3.0");var EC=n("VRyK"),TC=n("pxpQ"),SC=n("qgXg"),xC=n("Ylt2");class PC extends Se.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new AC(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new xe.a;if(this.isStopped||this.hasError?o=Tn.a.EMPTY:(this.observers.push(t),o=new xC.a(this,t)),r&&t.add(t=new TC.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||SC.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class AC{constructor(t,e){this.time=t,this.value=e}}function kC(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new PC(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function jC(t,e){return e?un(()=>t,e):un(()=>t)}var NC=n("tf+s");const LC=new r.q("angularfire2.auth.use-emulator"),RC=new r.q("angularfire2.auth.settings"),DC=new r.q("angularfire2.auth.tenant-id"),MC=new r.q("angularfire2.auth.langugage-code"),UC=new r.q("angularfire2.auth.use-device-language"),FC=new r.q("angularfire.auth.persistence");let VC=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Ee.d(i),f=Object(Ee.h)(h),d=new Se.a,p=Object(Te.a)(void 0).pipe(Object(TC.b)(h.outsideAngular),un(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(dt.a)(()=>Object(Ee.g)(t,i,e)),Object(dt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Ee.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),kC({bufferSize:1,refCount:!1}));if(j(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Te.a)(null);else{p.pipe(Cn()).subscribe();const t=p.pipe(un(t=>t.getRedirectResult().then(t=>t,()=>null)),f,kC({bufferSize:1,refCount:!1})),e=t=>new ht.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(un(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(un(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(jC(n),Object(NC.a)(h.outsideAngular),Object(TC.b)(h.insideAngular)),this.user=t.pipe(jC(r),Object(NC.a)(h.outsideAngular),Object(TC.b)(h.insideAngular)),this.idToken=this.user.pipe(un(t=>t?Object(gt.a)(t.getIdToken()):Object(Te.a)(null))),this.idTokenResult=this.user.pipe(un(t=>t?Object(gt.a)(t.getIdTokenResult()):Object(Te.a)(null))),this.credential=Object(EC.a)(t,d,this.authState.pipe(ze(t=>!t))).pipe(Object(dt.a)(t=>(null==t?void 0:t.user)?t:null),Object(NC.a)(h.outsideAngular),Object(TC.b)(h.insideAngular))}return Object(Ee.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Ee.c),r.Pb(Ee.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(LC,8),r.Pb(RC,8),r.Pb(DC,8),r.Pb(MC,8),r.Pb(UC,8),r.Pb(FC,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Ee.c),Object(r.Pb)(Ee.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(LC,8),Object(r.Pb)(RC,8),Object(r.Pb)(DC,8),Object(r.Pb)(MC,8),Object(r.Pb)(UC,8),Object(r.Pb)(FC,8))},token:t,providedIn:"any"}),t})(),KC=(()=>{class t{constructor(t){this.auth=t,this.user=this.auth.user}inscri(t,e){return yo.a.auth().createUserWithEmailAndPassword(t,e)}log(t,e){return yo.a.auth().signInWithEmailAndPassword(t,e)}logout(){yo.a.auth().signOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(VC))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var qC=n("D0XW");function HC(){return t=>t.lift(new BC)}class BC{call(t,e){return e.subscribe(new zC(t))}}class zC extends ke.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class GC{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new JC(t,this.compare,this.keySelector))}}class JC extends ke.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var WC=n("Jgta");function QC(t,e){return function(t,e=qC.a){return new ht.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function YC(t,e){return QC(t,e).pipe(Object(dt.a)(t=>({payload:t,type:"query"})))}function $C(t,e){return YC(t,e).pipe(gn(void 0),HC(),Object(dt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function XC(t,e,n){return $C(t,n).pipe(vn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return ZC(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return ZC(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ZC(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new GC(void 0,void 0)),Object(dt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function ZC(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function tE(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class eE{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=$C(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(dt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(gn(void 0),HC(),ze(([t,e])=>e.length>0||!t),Object(dt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(vn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=tE(t);return XC(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return YC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(dt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(gt.a)(this.query.get(t)).pipe(Object(TC.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new nE(this.ref.doc(t),this.afs)}}class nE{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=uE(n,e);return new eE(r,i,this.afs)}snapshotChanges(){return QC(this.ref,this.afs.schedulers.outsideAngular).pipe(gn(void 0),HC(),Object(dt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(dt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(gt.a)(this.ref.get(t)).pipe(Object(TC.b)(this.afs.schedulers.insideAngular))}}class rE{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?$C(this.query,this.afs.schedulers.outsideAngular).pipe(Object(dt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ze(t=>t.length>0),this.afs.keepUnstableUntilFirst):$C(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(vn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=tE(t);return XC(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return YC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(dt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(gt.a)(this.query.get(t)).pipe(Object(TC.b)(this.afs.schedulers.insideAngular))}}const iE=new r.q("angularfire2.enableFirestorePersistence"),oE=new r.q("angularfire2.firestore.persistenceSettings"),sE=new r.q("angularfire2.firestore.settings"),aE=new r.q("angularfire2.firestore.use-emulator");function uE(t,e=(t=>t)){return{query:e(t),ref:t}}let cE=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Ee.d(o),this.keepUnstableUntilFirst=Object(Ee.h)(this.schedulers);const c=Object(Ee.g)(t,o,e);!WC.a.auth&&u&&Object(Ee.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Ee.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!j(i)){const e=()=>{try{return Object(gt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(My){return"undefined"!=typeof console&&console.warn(My),Object(Te.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Te.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=uE(n,e),o=this.schedulers.ngZone.run(()=>r);return new eE(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new rE(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new nE(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Ee.c),r.Pb(Ee.b,8),r.Pb(iE,8),r.Pb(sE,8),r.Pb(r.B),r.Pb(r.z),r.Pb(oE,8),r.Pb(aE,8),r.Pb(LC,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Ee.c),Object(r.Pb)(Ee.b,8),Object(r.Pb)(iE,8),Object(r.Pb)(sE,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(oE,8),Object(r.Pb)(aE,8),Object(r.Pb)(LC,8))},token:t,providedIn:"any"}),t})(),lE=(()=>{class t{constructor(t){this.angularfirestore=t}addClient(t,e,n,r){return this.angularfirestore.doc("/client/"+t).set({id:t,name:e,email:n,password:r})}addClient1(t,e,n,r,i,o){return this.angularfirestore.doc("/client1/"+t).set({id:t,name:e,email:n,namepiece:r,tel:i,message:o})}addreclamaion(t,e,n,r,i){return this.angularfirestore.doc("/dommande/"+t).set({id:t,name:e,email:n,tel:r,message:i})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(cE))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-footer"]],decls:48,vars:0,consts:[["id","footer"],[1,"footer-top"],[1,"container"],[1,"row"],[1,"col-lg-3","col-md-6","footer-contact"],[1,"col-lg-3","col-md-6","footer-links"],[1,"bx","bx-chevron-right"],["href","#"],["href","#about"],["href","#services"],["href","#Reference"],[1,"col-lg-3","col-md-12","footer-links"],[1,"social-links","mt-3"],["href","#",1,"email"],[1,"icofont-envelope"],["href","#",1,"facebook"],[1,"bx","bxl-facebook"]],template:function(t,e){1&t&&(r.Lb(0,"footer",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Lb(3,"div",3),r.Lb(4,"div",4),r.Lb(5,"h3"),r.dc(6,"P I P"),r.Jb(7,"span"),r.Kb(),r.Lb(8,"p"),r.dc(9," Sfax "),r.Jb(10,"br"),r.Lb(11,"strong"),r.dc(12,"Phone:"),r.Kb(),r.dc(13," +2 16 20 124 654"),r.Jb(14,"br"),r.Lb(15,"strong"),r.dc(16,"Email:"),r.Kb(),r.dc(17," pip@pip.com.tn"),r.Jb(18,"br"),r.Kb(),r.Kb(),r.Lb(19,"div",5),r.Lb(20,"h4"),r.dc(21,"Useful Links"),r.Kb(),r.Lb(22,"ul"),r.Lb(23,"li"),r.Jb(24,"i",6),r.Lb(25,"a",7),r.dc(26,"Home"),r.Kb(),r.Kb(),r.Lb(27,"li"),r.Jb(28,"i",6),r.Lb(29,"a",8),r.dc(30,"About us"),r.Kb(),r.Kb(),r.Lb(31,"li"),r.Jb(32,"i",6),r.Lb(33,"a",9),r.dc(34,"Services"),r.Kb(),r.Kb(),r.Lb(35,"li"),r.Jb(36,"i",6),r.Lb(37,"a",10),r.dc(38,"reference"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(39,"div",11),r.Lb(40,"h4"),r.dc(41,"Our Social Networks"),r.Kb(),r.Jb(42,"p"),r.Lb(43,"div",12),r.Lb(44,"a",13),r.Jb(45,"i",14),r.Kb(),r.Lb(46,"a",15),r.Jb(47,"i",16),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb())},styles:[""]}),t})(),fE=(()=>{class t{constructor(t,e){this.AuthService=t,this.client=e}ngOnInit(){}inscription1(t){let e=t.value;this.client.addClient1(yo.a.auth().currentUser.uid,e.name,e.email,e.namepiece,e.tel,e.message)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(KC),r.Ib(lE))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-commande"]],decls:44,vars:0,consts:[["action","forms/contact.php","method","post","role","form",1,"php-email-form"],["b","ngForm"],[1,"form-row"],[1,"col","form-group"],["type","text","name","name","id","name","placeholder","name","data-rule","minlen:4","data-msg","Please enter at least 4 chars","name","name","ngModel","",1,"form-control"],["name","ngModel"],[1,"validate"],["type","email","name","email","id","email","placeholder","Your Email","data-rule","email","data-msg","Please enter a valid email","name","email","ngModel","",1,"form-control"],["email","ngModel"],[1,"form-group"],["type","text","name","subject","id","subject","placeholder","nome piece","data-rule","minlen:4","data-msg","Please enter at least 8 chars of subject","name","namepiece","ngModel","",1,"form-control"],["namepiece","ngModel"],["type","text","name","subject","id","subject","placeholder","image","data-rule","minlen:4","data-msg","Please enter at least 8 chars of subject",1,"form-control"],["type","text","name","tel","id","subject","placeholder","tel","data-rule","minlen:4","data-msg","Please enter at least 8 chars of subject","name","tel","ngModel","",1,"form-control"],["tel","ngModel"],["name","message","rows","5","data-rule","required","data-msg","Please write something for us","placeholder","Message","name","message","ngModel","",1,"form-control"],["message","ngModel"],[1,"mb-3"],[1,"text-center"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(t,e){if(1&t){const t=r.Mb();r.Jb(0,"br"),r.Jb(1,"br"),r.Jb(2,"br"),r.Jb(3,"br"),r.Jb(4,"br"),r.Jb(5,"br"),r.Lb(6,"form",0,1),r.Lb(8,"div",2),r.Lb(9,"div",3),r.Jb(10,"input",4,5),r.Jb(12,"div",6),r.Kb(),r.Lb(13,"div",3),r.Jb(14,"input",7,8),r.Jb(16,"div",6),r.Kb(),r.Kb(),r.Lb(17,"div",9),r.Jb(18,"input",10,11),r.Jb(20,"div",6),r.Kb(),r.Lb(21,"div",9),r.Jb(22,"input",12),r.Jb(23,"div",6),r.Kb(),r.Lb(24,"div",9),r.Jb(25,"input",13,14),r.Jb(27,"div",6),r.Kb(),r.Lb(28,"div",9),r.Jb(29,"textarea",15,16),r.Jb(31,"div",6),r.Kb(),r.Jb(32,"div",17),r.Lb(33,"div",18),r.Lb(34,"button",19),r.Sb("click",(function(){r.Zb(t);const n=r.Yb(7);return e.inscription1(n)})),r.dc(35,"Send Message"),r.Kb(),r.Kb(),r.Kb(),r.dc(36,"\nbr>"),r.Jb(37,"br"),r.Jb(38,"br"),r.Jb(39,"br"),r.Jb(40,"br"),r.Jb(41,"br"),r.Jb(42,"br"),r.Jb(43,"app-footer")}},directives:[Oe,Pt,me,Ot,xt,we,hE],styles:[""]}),t})(),dE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-images"]],decls:10,vars:0,consts:[["width","700px","height","550px","src","assets/img/bara/1.jpg","alt","",1,"nasri"],["width","700px","height","400px","src","assets/img/bara/3.jpg","alt","",1,"feres"]],template:function(t,e){1&t&&(r.Jb(0,"img",0),r.Lb(1,"h3"),r.Lb(2,"span"),r.dc(3,"+"),r.Kb(),r.dc(4,"Industries des engrais chimiques "),r.Kb(),r.Jb(5,"img",1),r.Lb(6,"h3"),r.Lb(7,"span"),r.dc(8,"+"),r.Kb(),r.dc(9,"Industries des engrais chimiques "),r.Kb())},styles:[".nasri[_ngcontent-%COMP%]{margin-left:50px}span[_ngcontent-%COMP%]{color:#fc0000}h3[_ngcontent-%COMP%]{margin-left:100px}.feres[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:300px}.feres[_ngcontent-%COMP%]{margin-left:50px}"]}),t})(),pE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-later"]],decls:10,vars:0,consts:[["src","assets/img/bara/2.jpg","alt","",1,"nasri"],["width","700px","height","400px","src","assets/img/bara/4.jpg","alt","",1,"saif"]],template:function(t,e){1&t&&(r.Lb(0,"h3"),r.Lb(1,"span"),r.dc(2,"+"),r.Kb(),r.dc(3,"Industries des engrais chimiques "),r.Kb(),r.Jb(4,"img",0),r.Lb(5,"h3"),r.Lb(6,"span"),r.dc(7,"+"),r.Kb(),r.dc(8,"Industries des engrais chimiques "),r.Kb(),r.Jb(9,"img",1))},styles:["span[_ngcontent-%COMP%]{color:#fc0000}h3[_ngcontent-%COMP%]{margin-top:300px;margin-left:100px}.nasri[_ngcontent-%COMP%]{margin-top:220px;width:720px}.saif[_ngcontent-%COMP%]{margin-top:150px}"]}),t})(),gE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-domaine"]],decls:26,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-6","col-sm-6"]],template:function(t,e){1&t&&(r.Jb(0,"br"),r.Jb(1,"br"),r.Jb(2,"br"),r.Jb(3,"br"),r.Jb(4,"br"),r.Lb(5,"h1"),r.dc(6,"DOMAINE D'INTERVENTION "),r.Lb(7,"span"),r.dc(8," P I P "),r.Kb(),r.Kb(),r.Jb(9,"br"),r.Jb(10,"br"),r.Jb(11,"br"),r.Lb(12,"div",0),r.Lb(13,"h5"),r.dc(14,"PIP intervienne dans tous les domaines d'activites indsustrielles petrochimiques , environnementales, pharmaceutiques et agroalimentaires et propose un accoppagnement des la phase de conception "),r.Kb(),r.Jb(15,"br"),r.Jb(16,"br"),r.Kb(),r.Lb(17,"div",1),r.Lb(18,"div",2),r.Jb(19,"app-images"),r.Kb(),r.Lb(20,"div",2),r.Jb(21,"app-later"),r.Kb(),r.Kb(),r.Jb(22,"br"),r.Jb(23,"br"),r.Jb(24,"br"),r.Jb(25,"app-footer"))},directives:[dE,pE,hE],styles:["h1[_ngcontent-%COMP%]{margin-left:500px}span[_ngcontent-%COMP%]{color:#106eea}h5[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}"]}),t})(),vE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-serviceimages"]],decls:7,vars:0,consts:[["width","750px","height","300px","src","assets/img/bara3/013.png","alt",""],["width","750px","height","300px","src","assets/img/bara3/014.png","alt",""],[1,"nasri"],["width","750px","height","300px","src","assets/img/bara3/09.png","alt","",1,"saif"]],template:function(t,e){1&t&&(r.Jb(0,"img",0),r.Jb(1,"img",1),r.Lb(2,"h3",2),r.Lb(3,"span"),r.dc(4,"+"),r.Kb(),r.dc(5,"Industries des engrais chimiques "),r.Kb(),r.Jb(6,"img",3))},styles:["span[_ngcontent-%COMP%]{color:#fc0000}.nasri[_ngcontent-%COMP%]{margin-top:150px;margin-left:50px}.saif[_ngcontent-%COMP%]{margin-top:200px;margin-left:10px}"]}),t})(),bE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-serviceimages1"]],decls:9,vars:0,consts:[[1,"nasri"],["width","750px","height","300px","src","assets/img/bara3/06.png","alt","",1,"saif"],[1,"feres"]],template:function(t,e){1&t&&(r.Lb(0,"h3",0),r.Lb(1,"span"),r.dc(2,"+"),r.Kb(),r.dc(3,"Industries des engrais chimiques "),r.Kb(),r.Jb(4,"img",1),r.Lb(5,"h3",2),r.Lb(6,"span"),r.dc(7,"+"),r.Kb(),r.dc(8,"Industries des engrais chimiques "),r.Kb())},styles:["span[_ngcontent-%COMP%]{color:#fc0000}.nasri[_ngcontent-%COMP%]{margin-left:50px}.nasri[_ngcontent-%COMP%], .saif[_ngcontent-%COMP%]{margin-top:300px}.feres[_ngcontent-%COMP%]{margin-top:150px;margin-left:50px}"]}),t})(),mE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-exemple"]],decls:14,vars:0,consts:[[1,"row"],[1,"col-md-6","col-sm-6"]],template:function(t,e){1&t&&(r.Jb(0,"br"),r.Jb(1,"br"),r.Jb(2,"br"),r.Jb(3,"br"),r.Jb(4,"br"),r.Lb(5,"div",0),r.Lb(6,"div",1),r.Jb(7,"app-serviceimages"),r.Kb(),r.Lb(8,"div",1),r.Jb(9,"app-serviceimages1"),r.Kb(),r.Kb(),r.Jb(10,"br"),r.Jb(11,"br"),r.Jb(12,"br"),r.Jb(13,"app-footer"))},directives:[vE,bE,hE],styles:[""]}),t})(),yE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-mantimag"]],decls:6,vars:0,consts:[["width","750px","height","500px","src","assets/img/bara3/22.jpg","alt",""],[1,"nasri"],["width","750px","height","500px","src","assets/img/bara3/20.jpg","alt","",1,"saif"]],template:function(t,e){1&t&&(r.Jb(0,"img",0),r.Lb(1,"h3",1),r.Lb(2,"span"),r.dc(3,"+"),r.Kb(),r.dc(4,"Industries des engrais chimiques "),r.Kb(),r.Jb(5,"img",2))},styles:["span[_ngcontent-%COMP%]{color:#fc0000}.nasri[_ngcontent-%COMP%]{margin-left:50px}.nasri[_ngcontent-%COMP%], .saif[_ngcontent-%COMP%]{margin-top:250px}.saif[_ngcontent-%COMP%]{margin-left:10px}"]}),t})(),_E=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-mantimag1"]],decls:9,vars:0,consts:[[1,"nasri"],["width","750px","height","500px","src","assets/img/bara3/21.jpg","alt","",1,"saif"],[1,"feres"]],template:function(t,e){1&t&&(r.Lb(0,"h3",0),r.Lb(1,"span"),r.dc(2,"+"),r.Kb(),r.dc(3,"Industries des engrais chimiques "),r.Kb(),r.Jb(4,"img",1),r.Lb(5,"h3",2),r.Lb(6,"span"),r.dc(7,"+"),r.Kb(),r.dc(8,"Industries des engrais chimiques "),r.Kb())},styles:["span[_ngcontent-%COMP%]{color:#fc0000}.nasri[_ngcontent-%COMP%]{margin-left:50px}.feres[_ngcontent-%COMP%], .nasri[_ngcontent-%COMP%], .saif[_ngcontent-%COMP%]{margin-top:250px}.feres[_ngcontent-%COMP%]{margin-left:50px}"]}),t})(),wE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-exemple1"]],decls:14,vars:0,consts:[[1,"row"],[1,"col-md-6","col-sm-6"]],template:function(t,e){1&t&&(r.Jb(0,"br"),r.Jb(1,"br"),r.Jb(2,"br"),r.Jb(3,"br"),r.Jb(4,"br"),r.Lb(5,"div",0),r.Lb(6,"div",1),r.Jb(7,"app-mantimag"),r.Kb(),r.Lb(8,"div",1),r.Jb(9,"app-mantimag1"),r.Kb(),r.Kb(),r.Jb(10,"br"),r.Jb(11,"br"),r.Jb(12,"br"),r.Jb(13,"app-footer"))},directives:[yE,_E,hE],styles:[""]}),t})();const OE=function(){return["exemple1"]},IE=function(){return["exemple"]};let CE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-card"]],decls:89,vars:4,consts:[[1,"row"],[1,"col-md-6","col-sm-6"],[1,"card-container"],[1,"card"],[1,"front"],[1,"cover"],["src","assets/img/pip4.png"],[1,"user"],["src","assets/img/pip.png",1,"img-circle"],[1,"content"],[1,"main"],[1,"name"],[1,"profession"],[1,"footer"],[1,"fa","fa-mail-forward"],[1,"back"],[1,"header"],[1,"motto"],[1,"stats-container"],[1,"stats"],[1,"nav-link",3,"routerLink"],["type","button",1,"btn","btn-outline-info"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Lb(3,"div",3),r.Lb(4,"div",4),r.Lb(5,"div",5),r.Jb(6,"img",6),r.Kb(),r.Lb(7,"div",7),r.Jb(8,"img",8),r.Kb(),r.Lb(9,"div",9),r.Lb(10,"div",10),r.Lb(11,"h3",11),r.dc(12," PECHEMICAL & INDUSTRIAL PARTNERSHIP"),r.Kb(),r.Lb(13,"p",12),r.dc(14,"PIP"),r.Kb(),r.Jb(15,"br"),r.Lb(16,"h4",11),r.dc(17,"Maintenance des installation"),r.Kb(),r.Kb(),r.Lb(18,"div",13),r.Jb(19,"i",14),r.dc(20," Auto Rotation "),r.Kb(),r.Kb(),r.Kb(),r.Lb(21,"div",15),r.Lb(22,"div",16),r.Jb(23,"h5",17),r.Kb(),r.Lb(24,"div",9),r.Lb(25,"div",10),r.Lb(26,"h4",11),r.Lb(27,"span"),r.dc(28," P I P"),r.Kb(),r.Kb(),r.Jb(29,"br"),r.Lb(30,"h3",11),r.dc(31,"Maintenance des installation"),r.Kb(),r.Lb(32,"div",18),r.Lb(33,"div",19),r.Lb(34,"p"),r.dc(35," ===> "),r.Kb(),r.Kb(),r.Lb(36,"div",19),r.Lb(37,"p"),r.Lb(38,"a",20),r.Lb(39,"button",21),r.dc(40,"More detail"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(41,"div",19),r.Lb(42,"p"),r.dc(43," <=== "),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Jb(44,"div",13),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(45,"div",1),r.Lb(46,"div",2),r.Lb(47,"div",3),r.Lb(48,"div",4),r.Lb(49,"div",5),r.Jb(50,"img",6),r.Kb(),r.Lb(51,"div",7),r.Jb(52,"img",8),r.Kb(),r.Lb(53,"div",9),r.Lb(54,"div",10),r.Lb(55,"h3",11),r.dc(56," PECHEMICAL & INDUSTRIAL PARTNERSHIP"),r.Kb(),r.Lb(57,"p",12),r.dc(58,"PIP"),r.Kb(),r.Jb(59,"br"),r.Lb(60,"h4",11),r.dc(61,"Construction & Montage industriel"),r.Kb(),r.Kb(),r.Lb(62,"div",13),r.Jb(63,"i",14),r.dc(64," Auto Rotation "),r.Kb(),r.Kb(),r.Kb(),r.Lb(65,"div",15),r.Lb(66,"div",16),r.Jb(67,"h5",17),r.Kb(),r.Lb(68,"div",9),r.Lb(69,"div",10),r.Lb(70,"h4",11),r.Lb(71,"span"),r.dc(72," P I P"),r.Kb(),r.Kb(),r.Jb(73,"br"),r.Lb(74,"h3",11),r.dc(75,"Construction & Montage industriel"),r.Kb(),r.Lb(76,"div",18),r.Lb(77,"div",19),r.Lb(78,"p"),r.dc(79," ===> "),r.Kb(),r.Kb(),r.Lb(80,"div",19),r.Lb(81,"p"),r.Lb(82,"a",20),r.Lb(83,"button",21),r.dc(84,"More detail"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(85,"div",19),r.Lb(86,"p"),r.dc(87," <=== "),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Jb(88,"div",13),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(38),r.Vb("routerLink",r.Wb(2,OE)),r.yb(44),r.Vb("routerLink",r.Wb(3,IE)))},directives:[Ji],styles:["h4[_ngcontent-%COMP%]{color:rgba(45,65,119,.9)}"]}),t})(),EE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-services"]],decls:27,vars:0,consts:[["id","services",1,"services"],["data-aos","fade-up",1,"container"],[1,"section-title"],["id","clients",1,"clients","section-bg"],["data-aos","zoom-in",1,"container"],[1,"row"],[1,"col-lg-2","col-md-4","col-6","d-flex","align-items-center","justify-content-center"],["src","assets/img/clients/1.png","alt","",1,"img-fluid"],["src","assets/img/clients/2.png","alt","",1,"img-fluid"],["src","assets/img/clients/3.jpg","alt","",1,"img-fluid"],["src","assets/img/clients/4.png","alt","",1,"img-fluid"],["src","assets/img/clients/5.jpg","alt","",1,"img-fluid"],["src","assets/img/clients/client-6.png","alt","",1,"img-fluid"]],template:function(t,e){1&t&&(r.Lb(0,"section",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Lb(3,"h2"),r.dc(4,"Services"),r.Kb(),r.Lb(5,"h3"),r.dc(6,"Check our "),r.Lb(7,"span"),r.dc(8,"Services"),r.Kb(),r.Kb(),r.Lb(9,"p"),r.dc(10,"Welcome to our services Here we present the best services: "),r.Kb(),r.Kb(),r.Jb(11,"app-card"),r.Kb(),r.Kb(),r.Lb(12,"section",3),r.Lb(13,"div",4),r.Lb(14,"div",5),r.Lb(15,"div",6),r.Jb(16,"img",7),r.Kb(),r.Lb(17,"div",6),r.Jb(18,"img",8),r.Kb(),r.Lb(19,"div",6),r.Jb(20,"img",9),r.Kb(),r.Lb(21,"div",6),r.Jb(22,"img",10),r.Kb(),r.Lb(23,"div",6),r.Jb(24,"img",11),r.Kb(),r.Lb(25,"div",6),r.Jb(26,"img",12),r.Kb(),r.Kb(),r.Kb(),r.Kb())},directives:[CE],styles:[""]}),t})(),TE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-reference"]],decls:87,vars:0,consts:[["id","Reference",1,"portfolio"],["data-aos","fade-up",1,"container"],[1,"section-title"],["data-aos","fade-up","data-aos-delay","100",1,"row"],[1,"col-lg-12","d-flex","justify-content-center"],["id","portfolio-flters"],["data-filter","*",1,"filter-active"],["data-aos","fade-up","data-aos-delay","200",1,"row","portfolio-container"],[1,"col-lg-4","col-md-6","portfolio-item","filter-app"],["src","assets/img/portfolio/1.png","alt","",1,"img-fluid"],[1,"portfolio-info"],["href","assets/img/portfolio/1.png","data-gall","portfolioGallery","title","App 1",1,"venobox","preview-link"],[1,"bx","bx-plus"],["href","portfolio-details.html","title","More Details",1,"details-link"],[1,"col-lg-4","col-md-6","portfolio-item","filter-web"],["src","assets/img/portfolio/2.png","alt","",1,"img-fluid"],["href","assets/img/portfolio/2.png","data-gall","portfolioGallery","title","Web 3",1,"venobox","preview-link"],["src","assets/img/portfolio/3.png","alt","",1,"img-fluid"],["href","assets/img/portfolio/3.png","data-gall","portfolioGallery","title","App 2",1,"venobox","preview-link"],[1,"col-lg-4","col-md-6","portfolio-item","filter-card"],["src","assets/img/portfolio/4.png","alt","",1,"img-fluid"],["href","assets/img/portfolio/4.png","data-gall","portfolioGallery","title","Card 2",1,"venobox","preview-link"],["src","assets/img/portfolio/5.png","alt","",1,"img-fluid"],["href","assets/img/portfolio/5.png","data-gall","portfolioGallery","title","Web 2",1,"venobox","preview-link"],["src","assets/img/portfolio/6.png","alt","",1,"img-fluid"],["href","assets/img/portfolio/6.png","data-gall","portfolioGallery","title","App 3",1,"venobox","preview-link"],["src","assets/img/portfolio/7.png","alt","",1,"img-fluid"],["href","assets/img/portfolio/7.png","data-gall","portfolioGallery","title","Card 1",1,"venobox","preview-link"]],template:function(t,e){1&t&&(r.Lb(0,"section",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Lb(3,"h2"),r.dc(4,"reference"),r.Kb(),r.Lb(5,"h3"),r.dc(6,"Check our "),r.Lb(7,"span"),r.dc(8,"reference"),r.Kb(),r.Kb(),r.Lb(9,"p"),r.dc(10,"welcome, References PIP :"),r.Kb(),r.Kb(),r.Lb(11,"div",3),r.Lb(12,"div",4),r.Lb(13,"ul",5),r.Lb(14,"li",6),r.dc(15,"All"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(16,"div",7),r.Lb(17,"div",8),r.Jb(18,"img",9),r.Lb(19,"div",10),r.Lb(20,"h4"),r.dc(21,"Contrat"),r.Kb(),r.Lb(22,"p"),r.dc(23,"1"),r.Kb(),r.Lb(24,"a",11),r.Jb(25,"i",12),r.Kb(),r.Jb(26,"a",13),r.Kb(),r.Kb(),r.Lb(27,"div",14),r.Jb(28,"img",15),r.Lb(29,"div",10),r.Lb(30,"h4"),r.dc(31,"Contrat"),r.Kb(),r.Lb(32,"p"),r.dc(33,"2"),r.Kb(),r.Lb(34,"a",16),r.Jb(35,"i",12),r.Kb(),r.Jb(36,"a",13),r.Kb(),r.Kb(),r.Lb(37,"div",8),r.Jb(38,"img",17),r.Lb(39,"div",10),r.Lb(40,"h4"),r.dc(41,"Contrat"),r.Kb(),r.Lb(42,"p"),r.dc(43,"3"),r.Kb(),r.Lb(44,"a",18),r.Jb(45,"i",12),r.Kb(),r.Jb(46,"a",13),r.Kb(),r.Kb(),r.Lb(47,"div",19),r.Jb(48,"img",20),r.Lb(49,"div",10),r.Lb(50,"h4"),r.dc(51,"Contrat"),r.Kb(),r.Lb(52,"p"),r.dc(53,"4"),r.Kb(),r.Lb(54,"a",21),r.Jb(55,"i",12),r.Kb(),r.Jb(56,"a",13),r.Kb(),r.Kb(),r.Lb(57,"div",14),r.Jb(58,"img",22),r.Lb(59,"div",10),r.Lb(60,"h4"),r.dc(61,"Contrat"),r.Kb(),r.Lb(62,"p"),r.dc(63,"5"),r.Kb(),r.Lb(64,"a",23),r.Jb(65,"i",12),r.Kb(),r.Jb(66,"a",13),r.Kb(),r.Kb(),r.Lb(67,"div",8),r.Jb(68,"img",24),r.Lb(69,"div",10),r.Lb(70,"h4"),r.dc(71,"Contrat"),r.Kb(),r.Lb(72,"p"),r.dc(73,"6"),r.Kb(),r.Lb(74,"a",25),r.Jb(75,"i",12),r.Kb(),r.Jb(76,"a",13),r.Kb(),r.Kb(),r.Lb(77,"div",19),r.Jb(78,"img",26),r.Lb(79,"div",10),r.Lb(80,"h4"),r.dc(81,"Contrat"),r.Kb(),r.Lb(82,"p"),r.dc(83,"7"),r.Kb(),r.Lb(84,"a",27),r.Jb(85,"i",12),r.Kb(),r.Jb(86,"a",13),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb())},styles:[""]}),t})(),SE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-contact"]],decls:62,vars:0,consts:[["id","clients",1,"clients","section-bg"],["data-aos","zoom-in",1,"container"],["id","contact",1,"contact"],["data-aos","fade-up",1,"container"],[1,"section-title"],["data-aos","fade-up","data-aos-delay","100",1,"row"],[1,"col-lg-6"],[1,"info-box","mb-4"],[1,"bx","bx-map"],[1,"col-lg-3","col-md-6"],[1,"bx","bx-envelope"],[1,"bx","bx-phone-call"],[1,"mapouter"],[1,"gmap_canvas"],["width","100%","height","384px","id","gmap_canvas","src","https://maps.google.com/maps?q=sfax&t=&z=13&ie=UTF8&iwloc=&output=embed","frameborder","0","scrolling","no","marginheight","0","marginwidth","0"],["action","forms/contact.php","method","post","role","form",1,"php-email-form"],[1,"form-row"],[1,"col","form-group"],["type","text","name","name","id","name","placeholder","Your Name","data-rule","minlen:4","data-msg","Please enter at least 4 chars",1,"form-control"],[1,"validate"],["type","email","name","email","id","email","placeholder","Your Email","data-rule","email","data-msg","Please enter a valid email",1,"form-control"],[1,"form-group"],["type","text","name","subject","id","subject","placeholder","Subject","data-rule","minlen:4","data-msg","Please enter at least 8 chars of subject",1,"form-control"],["name","message","rows","5","data-rule","required","data-msg","Please write something for us","placeholder","Message",1,"form-control"],[1,"mb-3"],[1,"loading"],[1,"error-message"],[1,"sent-message"],[1,"text-center"],["type","submit"]],template:function(t,e){1&t&&(r.Lb(0,"section",0),r.Jb(1,"div",1),r.Lb(2,"section",2),r.Lb(3,"div",3),r.Lb(4,"div",4),r.Lb(5,"h2"),r.dc(6,"Contact"),r.Kb(),r.Lb(7,"h3"),r.Lb(8,"span"),r.dc(9,"Contact Us"),r.Kb(),r.Kb(),r.Kb(),r.Lb(10,"div",5),r.Lb(11,"div",6),r.Lb(12,"div",7),r.Jb(13,"i",8),r.Lb(14,"h3"),r.dc(15,"Our Address"),r.Kb(),r.Lb(16,"p"),r.dc(17,"Sfax"),r.Kb(),r.Kb(),r.Kb(),r.Lb(18,"div",9),r.Lb(19,"div",7),r.Jb(20,"i",10),r.Lb(21,"h3"),r.dc(22,"Email Us"),r.Kb(),r.Lb(23,"p"),r.dc(24,"pip@pip.com.tn "),r.Kb(),r.Kb(),r.Kb(),r.Lb(25,"div",9),r.Lb(26,"div",7),r.Jb(27,"i",11),r.Lb(28,"h3"),r.dc(29,"Call Us"),r.Kb(),r.Lb(30,"p"),r.dc(31,"+2 1820124580 "),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(32,"div",5),r.Lb(33,"div",6),r.Lb(34,"div",12),r.Lb(35,"div",13),r.Jb(36,"iframe",14),r.Jb(37,"br"),r.Kb(),r.Kb(),r.Kb(),r.Lb(38,"div",6),r.Lb(39,"form",15),r.Lb(40,"div",16),r.Lb(41,"div",17),r.Jb(42,"input",18),r.Jb(43,"div",19),r.Kb(),r.Lb(44,"div",17),r.Jb(45,"input",20),r.Jb(46,"div",19),r.Kb(),r.Kb(),r.Lb(47,"div",21),r.Jb(48,"input",22),r.Jb(49,"div",19),r.Kb(),r.Lb(50,"div",21),r.Jb(51,"textarea",23),r.Jb(52,"div",19),r.Kb(),r.Lb(53,"div",24),r.Lb(54,"div",25),r.dc(55,"Loading"),r.Kb(),r.Jb(56,"div",26),r.Lb(57,"div",27),r.dc(58,"Your message has been sent. Thank you!"),r.Kb(),r.Kb(),r.Lb(59,"div",28),r.Lb(60,"button",29),r.dc(61,"Send Message"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb())},directives:[Oe,Pt,me],styles:["",".mapouter[_ngcontent-%COMP%]{position:relative;text-align:right;height:500px;width:600px;}",".gmap_canvas[_ngcontent-%COMP%] {overflow:hidden;background:none!important;height:500px;width:590px;}"]}),t})(),xE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-home"]],decls:15,vars:0,consts:[["id","hero",1,"d-flex","align-items-center"],["data-aos","zoom-out","data-aos-delay","100",1,"container"],["id","main"]],template:function(t,e){1&t&&(r.Lb(0,"section",0),r.Lb(1,"div",1),r.Lb(2,"h1"),r.dc(3,"Welcome to "),r.Lb(4,"span"),r.dc(5,"PIP"),r.Kb(),r.Kb(),r.Lb(6,"h2"),r.dc(7,"Petrochemcal & Industrail Partnership"),r.Kb(),r.Kb(),r.Kb(),r.Lb(8,"main",2),r.Jb(9,"app-about"),r.Jb(10,"app-services"),r.Jb(11,"app-reference"),r.Jb(12,"app-contact"),r.Jb(13,"app-footer"),r.dc(14,"> "),r.Kb())},directives:[bo,EE,TE,SE,hE],styles:[""]}),t})();function PE(t,e){if(1&t&&(r.Lb(0,"p",32),r.dc(1),r.Kb()),2&t){const t=r.Ub();r.yb(1),r.ec(t.erreur)}}let AE=(()=>{class t{constructor(t,e,n){this.AuthService=t,this.client=e,this.router=n,this.isUser=!1}ngOnInit(){this.AuthService.user.subscribe(t=>{this.isUser=!!t})}inscription(t){let e=t.value;this.AuthService.inscri(e.email,e.password).then(()=>{this.client.addClient(yo.a.auth().currentUser.uid,e.email,e.name,e.password)}).then(()=>{this.router.navigate(["home"])})}log(t){let e=t.value;this.AuthService.log(e.email,e.password).then(()=>{this.router.navigate(["home"])}).catch(t=>{this.erreur=t.message,console.log(this.erreur)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(KC),r.Ib(lE),r.Ib(Gi))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-inscri"]],decls:67,vars:1,consts:[[1,"login-wrap"],[1,"login-html"],["id","tab-1","type","radio","name","tab","checked","",1,"sign-in"],["for","tab-1",1,"tab"],["id","tab-2","type","radio","name","tab",1,"sign-up"],["for","tab-2",1,"tab"],[1,"login-form"],[1,"sign-in-htm"],["n","ngForm"],[1,"group"],["for","user",1,"label"],["id","user","type","text","name","email","ngModel","",1,"input"],["email","ngModel"],["for","pass",1,"label"],["id","pass","type","password","data-type","password","name","password","ngModel","",1,"input"],["password","ngModel"],["id","check","type","checkbox","checked","",1,"check"],["for","check"],[1,"icon"],["class","erreurlogin",4,"ngIf"],["type","submit","value","Sign In",1,"button",3,"click"],[1,"hr"],[1,"foot-lnk"],["href","#forgot"],[1,"sign-up-htm"],["f","ngForm"],["id","user","type","text","name","name","ngModel","",1,"input"],["name","ngModel"],["id","pass","type","password","data-type","password",1,"input"],["id","pass","type","text","name","email","ngModel","",1,"input"],["type","submit","value","Sign Up",1,"button",3,"click"],["for","tab-1"],[1,"erreurlogin"]],template:function(t,e){if(1&t){const t=r.Mb();r.Jb(0,"br"),r.Jb(1,"br"),r.Jb(2,"br"),r.Jb(3,"br"),r.Jb(4,"br"),r.Lb(5,"div",0),r.Lb(6,"div",1),r.Jb(7,"input",2),r.Lb(8,"label",3),r.dc(9,"Sign In"),r.Kb(),r.Jb(10,"input",4),r.Lb(11,"label",5),r.dc(12,"Sign Up"),r.Kb(),r.Lb(13,"div",6),r.Lb(14,"div",7),r.Lb(15,"form",null,8),r.Lb(17,"div",9),r.Lb(18,"label",10),r.dc(19,"Username"),r.Kb(),r.Jb(20,"input",11,12),r.Kb(),r.Lb(22,"div",9),r.Lb(23,"label",13),r.dc(24,"Password"),r.Kb(),r.Jb(25,"input",14,15),r.Kb(),r.Kb(),r.Lb(27,"div",9),r.Jb(28,"input",16),r.Lb(29,"label",17),r.Jb(30,"span",18),r.dc(31," Keep me Signed in"),r.Kb(),r.Kb(),r.cc(32,PE,2,1,"p",19),r.Lb(33,"div",9),r.Lb(34,"input",20),r.Sb("click",(function(){r.Zb(t);const n=r.Yb(16);return e.log(n)})),r.Kb(),r.Kb(),r.Jb(35,"div",21),r.Lb(36,"div",22),r.Lb(37,"a",23),r.dc(38,"Forgot Password?"),r.Kb(),r.Kb(),r.Kb(),r.Lb(39,"div",24),r.Lb(40,"form",null,25),r.Lb(42,"div",9),r.Lb(43,"label",10),r.dc(44,"Username"),r.Kb(),r.Jb(45,"input",26,27),r.Kb(),r.Lb(47,"div",9),r.Lb(48,"label",13),r.dc(49,"Password"),r.Kb(),r.Jb(50,"input",14,15),r.Kb(),r.Lb(52,"div",9),r.Lb(53,"label",13),r.dc(54,"Repeat Password"),r.Kb(),r.Jb(55,"input",28),r.Kb(),r.Lb(56,"div",9),r.Lb(57,"label",13),r.dc(58,"Email Address"),r.Kb(),r.Jb(59,"input",29,12),r.Kb(),r.Kb(),r.Lb(61,"div",9),r.Lb(62,"input",30),r.Sb("click",(function(){r.Zb(t);const n=r.Yb(41);return e.inscription(n)})),r.Kb(),r.Kb(),r.Jb(63,"div",21),r.Lb(64,"div",22),r.Lb(65,"label",31),r.dc(66,"Already Member?"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()}2&t&&(r.yb(32),r.Vb("ngIf",e.erreur))},directives:[Oe,Pt,me,Ot,xt,we,x],styles:['body[_ngcontent-%COMP%]{margin:0;color:#6a6f8c;background:#c8c8c8;font:600 16px/18px Open Sans,sans-serif}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:"";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both;display:block}a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.login-wrap[_ngcontent-%COMP%]{width:100%;margin:auto;max-width:525px;min-height:670px;position:relative;background:url(https://www.google.com/url?cd=vfe&psig=AOvVaw1Y1ORJkdUJgkhi_zOfSZ7_&sa=i&source=images&url=http%3A%2F%2Fwww.editionstechnip.com%2Ffr%2Fcatalogue-detail%2F1432%2Fprocedes-de-petrochimie-tome-2-grands-intermediaires-oxygenes-chlores-et-nitres-les.html&ust=1615032095213000&ved=0CAIQjRxqFwoTCPDdu8KNme8CFQAAAAAdAAAAABAJ) no-repeat 50%;box-shadow:0 12px 15px 0 rgba(0,0,0,.24),0 17px 50px 0 rgba(214,37,37,.19)}.login-html[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;padding:90px 70px 50px;background:rgba(45,65,119,.9)}.login-html[_ngcontent-%COMP%]   .sign-in-htm[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-up-htm[_ngcontent-%COMP%]{top:0;left:0;right:0;bottom:0;position:absolute;transform:rotateY(180deg);-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:all .4s linear}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]{display:none}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{text-transform:uppercase}.login-html[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{font-size:22px;padding-bottom:5px;margin:0 15px 10px 0;display:inline-block;border-bottom:2px solid transparent}.login-html[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%]{color:#fff;border-color:#1161ee}.login-form[_ngcontent-%COMP%]{min-height:345px;position:relative;perspective:1000px;transform-style:preserve-3d}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{margin-bottom:15px}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100%;color:#fff;display:block}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{border:none;padding:15px 20px;border-radius:25px;background:hsla(0,0%,100%,.1)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   input[data-type=password][_ngcontent-%COMP%]{text-security:circle;-webkit-text-security:circle}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#aaa;font-size:12px}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background:#1161ee}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:2px;position:relative;display:inline-block;background:hsla(0,0%,100%,.1)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after, .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{content:"";width:10px;height:2px;background:#fff;position:absolute;transition:all .2s ease-in-out 0s}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{left:3px;width:5px;bottom:6px;transform:scale(0) rotate(0)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{top:6px;right:0;transform:scale(0) rotate(0)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#fff}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background:#1161ee}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{transform:scale(1) rotate(45deg)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{transform:scale(1) rotate(-45deg)}.login-html[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%] + .sign-up[_ngcontent-%COMP%] + .tab[_ngcontent-%COMP%] + .login-form[_ngcontent-%COMP%]   .sign-in-htm[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%] + .login-form[_ngcontent-%COMP%]   .sign-up-htm[_ngcontent-%COMP%]{transform:rotate(0)}.hr[_ngcontent-%COMP%]{height:2px;margin:60px 0 50px;background:hsla(0,0%,100%,.2)}.foot-lnk[_ngcontent-%COMP%]{text-align:center}.erreurlogin[_ngcontent-%COMP%]{color:red}']}),t})(),kE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-profile"]],decls:20,vars:0,consts:[[1,"col","form-group"],["type","text","name","name","id","name","placeholder","Your Name","data-rule","minlen:4","data-msg","Please enter at least 4 chars",1,"form-control"],[1,"validate"],["type","email","name","email","id","email","placeholder","Your Email","data-rule","email","data-msg","Please enter a valid email",1,"form-control"],[1,"form-group"],["type","text","name","subject","id","subject","placeholder","Subject","data-rule","minlen:4","data-msg","Please enter at least 8 chars of subject",1,"form-control"],["name","message","rows","5","data-rule","required","data-msg","Please write something for us","placeholder","Message",1,"form-control"]],template:function(t,e){1&t&&(r.Jb(0,"br"),r.Jb(1,"br"),r.Jb(2,"br"),r.Jb(3,"br"),r.Jb(4,"br"),r.Lb(5,"div",0),r.Jb(6,"input",1),r.Jb(7,"div",2),r.Kb(),r.Lb(8,"div",0),r.Jb(9,"input",3),r.Jb(10,"div",2),r.Kb(),r.Lb(11,"div",0),r.Jb(12,"input",3),r.Jb(13,"div",2),r.Kb(),r.Lb(14,"div",4),r.Jb(15,"input",5),r.Jb(16,"div",2),r.Kb(),r.Lb(17,"div",4),r.Jb(18,"textarea",6),r.Jb(19,"div",2),r.Kb())},styles:[""]}),t})(),jE=(()=>{class t{constructor(t,e){this.AuthService=t,this.client=e}ngOnInit(){}inscription1(t){let e=t.value;this.client.addreclamaion(yo.a.auth().currentUser.uid,e.email,e.name,e.tel,e.message)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(KC),r.Ib(lE))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-reclamation"]],decls:39,vars:0,consts:[["action","forms/contact.php","method","post","role","form",1,"php-email-form"],["b","ngForm"],[1,"form-row"],[1,"col","form-group"],["type","text","name","name","id","name","placeholder","name","data-rule","minlen:4","data-msg","Please enter at least 4 chars","name","name","ngModel","",1,"form-control"],["name","ngModel"],[1,"validate"],["type","email","name","email","id","email","placeholder","Your Email","data-rule","email","data-msg","Please enter a valid email","name","email","ngModel","",1,"form-control"],["email","ngModel"],[1,"form-group"],["type","text","name","tel","id","subject","placeholder","tel","data-rule","minlen:4","data-msg","Please enter at least 8 chars of subject","name","tel","ngModel","",1,"form-control"],["tel","ngModel"],["name","message","rows","5","data-rule","required","data-msg","Please write something for us","placeholder","Message","name","message","ngModel","",1,"form-control"],["message","ngModel"],[1,"mb-3"],[1,"text-center"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(t,e){if(1&t){const t=r.Mb();r.Jb(0,"br"),r.Jb(1,"br"),r.Jb(2,"br"),r.Jb(3,"br"),r.Jb(4,"br"),r.Jb(5,"br"),r.Lb(6,"form",0,1),r.Lb(8,"div",2),r.Lb(9,"div",3),r.Jb(10,"input",4,5),r.Jb(12,"div",6),r.Kb(),r.Lb(13,"div",3),r.Jb(14,"input",7,8),r.Jb(16,"div",6),r.Kb(),r.Kb(),r.Lb(17,"div",9),r.Jb(18,"input",10,11),r.Jb(20,"div",6),r.Kb(),r.Lb(21,"div",9),r.Jb(22,"textarea",12,13),r.Jb(24,"div",6),r.Kb(),r.Jb(25,"div",14),r.Jb(26,"br"),r.Jb(27,"br"),r.Lb(28,"div",15),r.Lb(29,"button",16),r.Sb("click",(function(){r.Zb(t);const n=r.Yb(7);return e.inscription1(n)})),r.dc(30,"Send Message"),r.Kb(),r.Kb(),r.Kb(),r.Jb(31,"br"),r.Jb(32,"br"),r.Jb(33,"br"),r.Jb(34,"br"),r.Jb(35,"br"),r.Jb(36,"br"),r.Jb(37,"br"),r.Jb(38,"app-footer")}},directives:[Oe,Pt,me,Ot,xt,we,hE],styles:[""]}),t})(),NE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-later1"]],decls:92,vars:0,template:function(t,e){1&t&&(r.Lb(0,"h3"),r.Lb(1,"span"),r.dc(2,"+"),r.Kb(),r.dc(3," Chaudronnerie et construction Mecanique"),r.Kb(),r.Lb(4,"h3"),r.Lb(5,"span"),r.dc(6,"+"),r.Kb(),r.dc(7,"Silos et cuclones"),r.Kb(),r.Lb(8,"h3"),r.Lb(9,"span"),r.dc(10,"+"),r.Kb(),r.dc(11,"Goulottes et tremies"),r.Kb(),r.Lb(12,"h3"),r.Lb(13,"span"),r.dc(14,"+"),r.Kb(),r.dc(15,"Reservoirs et tremies"),r.Kb(),r.Lb(16,"h3"),r.Lb(17,"span"),r.dc(18,"+"),r.Kb(),r.dc(19,"Conception et fabrication des equipements de manutention industrielle"),r.Lb(20,"span"),r.dc(21,":"),r.Kb(),r.Kb(),r.Lb(22,"h3"),r.Lb(23,"span"),r.dc(24,"-"),r.Kb(),r.dc(25,"Convoyage a bandes , a rouleaux et a chaunes"),r.Kb(),r.Lb(26,"h3"),r.Lb(27,"span"),r.dc(28,"+"),r.Kb(),r.dc(29,"Machines specoales"),r.Lb(30,"span"),r.dc(31,":"),r.Kb(),r.Kb(),r.Lb(32,"h3"),r.Lb(33,"span"),r.dc(34,"-"),r.Kb(),r.dc(35,"Agitateurs"),r.Kb(),r.Lb(36,"h3"),r.Lb(37,"span"),r.dc(38,"-"),r.Kb(),r.dc(39,"broyeurs"),r.Kb(),r.Lb(40,"h3"),r.Lb(41,"span"),r.dc(42,"-"),r.Kb(),r.dc(43,"Equipements de filtration"),r.Kb(),r.Lb(44,"h3"),r.Lb(45,"span"),r.dc(46,"-"),r.Kb(),r.dc(47,"Equipement de flottation"),r.Kb(),r.Lb(48,"h3"),r.Lb(49,"span"),r.dc(50,"-"),r.Kb(),r.dc(51,"Echangeurs"),r.Kb(),r.Lb(52,"h3"),r.Lb(53,"span"),r.dc(54,"-"),r.Kb(),r.dc(55,"Injecteurs soufre liquides"),r.Kb(),r.Lb(56,"h3"),r.Lb(57,"span"),r.dc(58,"-"),r.Kb(),r.dc(59,"Skids pour equipements"),r.Kb(),r.Lb(60,"h3"),r.Lb(61,"span"),r.dc(62,"-"),r.Kb(),r.dc(63,"Pieces mecaniques"),r.Kb(),r.Lb(64,"h3"),r.Lb(65,"span"),r.dc(66,"-"),r.Kb(),r.dc(67,"Realisation d'ensenmbles mecano-soudes chaudronnes"),r.Kb(),r.Lb(68,"h3"),r.Lb(69,"span"),r.dc(70,"-"),r.Kb(),r.dc(71,"charpente metallique"),r.Kb(),r.Lb(72,"h3"),r.Lb(73,"span"),r.dc(74,"-"),r.Kb(),r.dc(75,"batiments industriels"),r.Kb(),r.Lb(76,"h3"),r.Lb(77,"span"),r.dc(78,"-"),r.Kb(),r.dc(79,"pipe rack"),r.Kb(),r.Lb(80,"h3"),r.Lb(81,"span"),r.dc(82,"-"),r.Kb(),r.dc(83,"passerelles"),r.Kb(),r.Lb(84,"h3"),r.Lb(85,"span"),r.dc(86,"-"),r.Kb(),r.dc(87,"tuyauteris industriells"),r.Kb(),r.Lb(88,"h3"),r.Lb(89,"span"),r.dc(90,"-"),r.Kb(),r.dc(91,"maniflods"),r.Kb())},styles:["span[_ngcontent-%COMP%]{color:#fc0000}h3[_ngcontent-%COMP%]{margin-top:20px;margin-left:50px}"]}),t})(),LE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-images1"]],decls:8,vars:0,consts:[["src","assets/img/bara1/02.png","alt","",1,"feres"],["src","assets/img/bara1/03.png","alt","",1,"feres"],["src","assets/img/bara1/04.png","alt","",1,"feres"],["src","assets/img/bara1/05.png","alt","",1,"feres"]],template:function(t,e){1&t&&(r.Lb(0,"h3"),r.dc(1,"Exemple "),r.Lb(2,"span"),r.dc(3,":"),r.Kb(),r.Kb(),r.Jb(4,"img",0),r.Jb(5,"img",1),r.Jb(6,"img",2),r.Jb(7,"img",3))},styles:["img[_ngcontent-%COMP%]{width:700px;height:300px;margin-top:10px}h3[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{margin-left:50px}span[_ngcontent-%COMP%]{color:red}"]}),t})(),RE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-savoir"]],decls:227,vars:0,consts:[[1,"row"],[1,"col-md-6","col-sm-6"],[1,"table","table-success","table-striped"],[1,"nasri"],["scope","col"],["scope","row"],["colspan","2"]],template:function(t,e){1&t&&(r.Jb(0,"br"),r.Jb(1,"br"),r.Jb(2,"br"),r.Jb(3,"br"),r.Jb(4,"br"),r.Lb(5,"h1"),r.dc(6,"SAVOIR FAIRE "),r.Lb(7,"span"),r.dc(8," P I P "),r.Kb(),r.Kb(),r.Jb(9,"br"),r.Jb(10,"br"),r.Jb(11,"br"),r.Jb(12,"br"),r.Jb(13,"br"),r.Jb(14,"br"),r.Lb(15,"div",0),r.Lb(16,"div",1),r.Jb(17,"app-later1"),r.Kb(),r.Lb(18,"div",1),r.Jb(19,"app-images1"),r.Kb(),r.Kb(),r.Jb(20,"br"),r.Jb(21,"br"),r.Jb(22,"br"),r.Jb(23,"br"),r.Lb(24,"h1"),r.dc(25,"MOYENS MATRERIEKS "),r.Lb(26,"span"),r.dc(27,"PIP"),r.Kb(),r.Kb(),r.Jb(28,"br"),r.Jb(29,"br"),r.Jb(30,"br"),r.Jb(31,"br"),r.Lb(32,"table",2),r.Lb(33,"thead",3),r.Lb(34,"tr"),r.Jb(35,"th",4),r.Lb(36,"th",4),r.dc(37,"Designation"),r.Kb(),r.Jb(38,"th",4),r.Lb(39,"th",4),r.dc(40,"Qte"),r.Kb(),r.Kb(),r.Kb(),r.Lb(41,"tbody"),r.Lb(42,"tr"),r.Lb(43,"th",5),r.dc(44,"1"),r.Kb(),r.Lb(45,"td"),r.Lb(46,"h5"),r.dc(47," Poste de soudge semi automatique"),r.Kb(),r.Kb(),r.Jb(48,"td"),r.Lb(49,"td"),r.Lb(50,"h5"),r.dc(51,"2"),r.Kb(),r.Kb(),r.Kb(),r.Lb(52,"tr"),r.Lb(53,"th",5),r.dc(54,"2"),r.Kb(),r.Lb(55,"td"),r.Lb(56,"h5"),r.dc(57," Poste de soudure"),r.Kb(),r.Kb(),r.Jb(58,"td"),r.Lb(59,"td"),r.Lb(60,"h5"),r.dc(61,"3"),r.Kb(),r.Kb(),r.Kb(),r.Lb(62,"tr"),r.Lb(63,"th",5),r.dc(64,"3"),r.Kb(),r.Lb(65,"td",6),r.Lb(66,"h5"),r.dc(67,"Decoupeurs Plasma"),r.Kb(),r.Kb(),r.Lb(68,"td"),r.Lb(69,"h5"),r.dc(70,"2"),r.Kb(),r.Kb(),r.Kb(),r.Lb(71,"tr"),r.Lb(72,"th",5),r.dc(73,"4"),r.Kb(),r.Lb(74,"td"),r.Lb(75,"h5"),r.dc(76,"Poste de soudage Arc"),r.Kb(),r.Kb(),r.Jb(77,"td"),r.Lb(78,"td"),r.Lb(79,"h5"),r.dc(80,"6"),r.Kb(),r.Kb(),r.Kb(),r.Lb(81,"tr"),r.Lb(82,"th",5),r.dc(83,"5"),r.Kb(),r.Lb(84,"td"),r.Lb(85,"h5"),r.dc(86,"Tour"),r.Kb(),r.Kb(),r.Jb(87,"td"),r.Lb(88,"td"),r.Lb(89,"h5"),r.dc(90,"1"),r.Kb(),r.Kb(),r.Kb(),r.Lb(91,"tr"),r.Lb(92,"th",5),r.dc(93,"6"),r.Kb(),r.Lb(94,"td"),r.Lb(95,"h5"),r.dc(96,"Fraiseuse radiale"),r.Kb(),r.Kb(),r.Jb(97,"td"),r.Lb(98,"td"),r.Lb(99,"h5"),r.dc(100,"1"),r.Kb(),r.Kb(),r.Kb(),r.Lb(101,"tr"),r.Lb(102,"th",5),r.dc(103,"7"),r.Kb(),r.Lb(104,"td"),r.Lb(105,"h5"),r.dc(106,"Perceuse radiale"),r.Kb(),r.Kb(),r.Jb(107,"td"),r.Lb(108,"td"),r.Lb(109,"h5"),r.dc(110,"1"),r.Kb(),r.Kb(),r.Kb(),r.Lb(111,"tr"),r.Lb(112,"th",5),r.dc(113,"8"),r.Kb(),r.Lb(114,"td"),r.Lb(115,"h5"),r.dc(116,"Rouleuse"),r.Kb(),r.Kb(),r.Jb(117,"td"),r.Lb(118,"td"),r.Lb(119,"h5"),r.dc(120,"1"),r.Kb(),r.Kb(),r.Kb(),r.Lb(121,"tr"),r.Lb(122,"th",5),r.dc(123,"9"),r.Kb(),r.Lb(124,"td"),r.Lb(125,"h5"),r.dc(126,"Cintreuse profiles"),r.Kb(),r.Kb(),r.Jb(127,"td"),r.Lb(128,"td"),r.Lb(129,"h5"),r.dc(130,"1"),r.Kb(),r.Kb(),r.Kb(),r.Lb(131,"tr"),r.Lb(132,"th",5),r.dc(133,"10"),r.Kb(),r.Lb(134,"td"),r.Lb(135,"h5"),r.dc(136,"Decoupeur plasma numerique"),r.Kb(),r.Kb(),r.Jb(137,"td"),r.Lb(138,"td"),r.Lb(139,"h5"),r.dc(140,"1"),r.Kb(),r.Kb(),r.Kb(),r.Lb(141,"tr"),r.Lb(142,"th",5),r.dc(143,"11"),r.Kb(),r.Lb(144,"td"),r.Lb(145,"h5"),r.dc(146,"Poinconneuse"),r.Kb(),r.Kb(),r.Jb(147,"td"),r.Lb(148,"td"),r.Lb(149,"h5"),r.dc(150,"1"),r.Kb(),r.Kb(),r.Kb(),r.Lb(151,"tr"),r.Lb(152,"th",5),r.dc(153,"12"),r.Kb(),r.Lb(154,"td"),r.Lb(155,"h5"),r.dc(156,"Scie mecanique"),r.Kb(),r.Kb(),r.Jb(157,"td"),r.Lb(158,"td"),r.Lb(159,"h5"),r.dc(160,"1"),r.Kb(),r.Kb(),r.Kb(),r.Lb(161,"tr"),r.Lb(162,"th",5),r.dc(163,"13"),r.Kb(),r.Lb(164,"td"),r.Lb(165,"h5"),r.dc(166,"Compresseur"),r.Kb(),r.Kb(),r.Jb(167,"td"),r.Lb(168,"td"),r.Lb(169,"h5"),r.dc(170,"1"),r.Kb(),r.Kb(),r.Kb(),r.Lb(171,"tr"),r.Lb(172,"th",5),r.dc(173,"14"),r.Kb(),r.Lb(174,"td"),r.Lb(175,"h5"),r.dc(176,"Sableuse"),r.Kb(),r.Kb(),r.Jb(177,"td"),r.Lb(178,"td"),r.Lb(179,"h5"),r.dc(180,"1"),r.Kb(),r.Kb(),r.Kb(),r.Lb(181,"tr"),r.Lb(182,"th",5),r.dc(183,"15"),r.Kb(),r.Lb(184,"td"),r.Lb(185,"h5"),r.dc(186,"Perceuse magnetique"),r.Kb(),r.Kb(),r.Jb(187,"td"),r.Lb(188,"td"),r.Lb(189,"h5"),r.dc(190,"1"),r.Kb(),r.Kb(),r.Kb(),r.Lb(191,"tr"),r.Lb(192,"th",5),r.dc(193,"16"),r.Kb(),r.Lb(194,"td"),r.Lb(195,"h5"),r.dc(196,"Outillage divers"),r.Kb(),r.Kb(),r.Jb(197,"td"),r.Lb(198,"td"),r.Lb(199,"h5"),r.dc(200,"1"),r.Kb(),r.Kb(),r.Kb(),r.Lb(201,"tr"),r.Lb(202,"th",5),r.dc(203,"17"),r.Kb(),r.Lb(204,"td"),r.Lb(205,"h5"),r.dc(206,"Camion"),r.Kb(),r.Kb(),r.Jb(207,"td"),r.Lb(208,"td"),r.Lb(209,"h5"),r.dc(210,"1"),r.Kb(),r.Kb(),r.Kb(),r.Lb(211,"tr"),r.Lb(212,"th",5),r.dc(213,"1"),r.Kb(),r.Lb(214,"td"),r.Lb(215,"h5"),r.dc(216,"Chariot elevateur"),r.Kb(),r.Kb(),r.Jb(217,"td"),r.Lb(218,"td"),r.Jb(219,"h5"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Jb(220,"br"),r.Jb(221,"br"),r.Jb(222,"br"),r.Jb(223,"br"),r.Jb(224,"br"),r.Jb(225,"br"),r.Jb(226,"app-footer"))},directives:[NE,LE,hE],styles:["h1[_ngcontent-%COMP%]{margin-left:500px}span[_ngcontent-%COMP%]{color:#106eea}h5[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.nasri[_ngcontent-%COMP%]{color:#000;background-color:#104755}"]}),t})();const DE=[{path:"",component:xE},{path:"home",component:xE},{path:"about",component:bo},{path:"services",component:EE},{path:"references",component:TE},{path:"team",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-team"]],decls:84,vars:0,consts:[["id","team",1,"team","section-bg"],["data-aos","fade-up",1,"container"],[1,"section-title"],[1,"row"],["data-aos","fade-up","data-aos-delay","100",1,"col-lg-3","col-md-6","d-flex","align-items-stretch"],[1,"member"],[1,"member-img"],["src","assets/img/team/11.jpg","alt","",1,"img-fluid"],[1,"social"],["href",""],[1,"icofont-facebook"],[1,"icofont-email"],[1,"icofont-instagram"],[1,"icofont-linkedin"],[1,"member-info"],["data-aos","fade-up","data-aos-delay","200",1,"col-lg-3","col-md-6","d-flex","align-items-stretch"],["src","assets/img/team/team-2.jpg","alt","",1,"img-fluid"],[1,"icofont-twitter"],["data-aos","fade-up","data-aos-delay","300",1,"col-lg-3","col-md-6","d-flex","align-items-stretch"],["src","assets/img/team/team-3.jpg","alt","",1,"img-fluid"],["data-aos","fade-up","data-aos-delay","400",1,"col-lg-3","col-md-6","d-flex","align-items-stretch"],["src","assets/img/team/team-4.jpg","alt","",1,"img-fluid"]],template:function(t,e){1&t&&(r.Lb(0,"section",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Lb(3,"h2"),r.dc(4,"Team"),r.Kb(),r.Lb(5,"h3"),r.dc(6,"Our Hardworking "),r.Lb(7,"span"),r.dc(8,"Team"),r.Kb(),r.Kb(),r.Lb(9,"p"),r.dc(10,"bienvenue ,ici notre team :"),r.Kb(),r.Kb(),r.Lb(11,"div",3),r.Lb(12,"div",4),r.Lb(13,"div",5),r.Lb(14,"div",6),r.Jb(15,"img",7),r.Lb(16,"div",8),r.Lb(17,"a",9),r.Jb(18,"i",10),r.Kb(),r.Lb(19,"a",9),r.Jb(20,"i",11),r.Kb(),r.Lb(21,"a",9),r.Jb(22,"i",12),r.Kb(),r.Lb(23,"a",9),r.Jb(24,"i",13),r.Kb(),r.Kb(),r.Kb(),r.Lb(25,"div",14),r.Lb(26,"h4"),r.dc(27,"Hamouda matri"),r.Kb(),r.Lb(28,"span"),r.dc(29,"Chief Executive Officer"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(30,"div",15),r.Lb(31,"div",5),r.Lb(32,"div",6),r.Jb(33,"img",16),r.Lb(34,"div",8),r.Lb(35,"a",9),r.Jb(36,"i",17),r.Kb(),r.Lb(37,"a",9),r.Jb(38,"i",10),r.Kb(),r.Lb(39,"a",9),r.Jb(40,"i",12),r.Kb(),r.Lb(41,"a",9),r.Jb(42,"i",13),r.Kb(),r.Kb(),r.Kb(),r.Lb(43,"div",14),r.Lb(44,"h4"),r.dc(45,"Sarah Jhonson"),r.Kb(),r.Lb(46,"span"),r.dc(47,"Product Manager"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(48,"div",18),r.Lb(49,"div",5),r.Lb(50,"div",6),r.Jb(51,"img",19),r.Lb(52,"div",8),r.Lb(53,"a",9),r.Jb(54,"i",17),r.Kb(),r.Lb(55,"a",9),r.Jb(56,"i",10),r.Kb(),r.Lb(57,"a",9),r.Jb(58,"i",12),r.Kb(),r.Lb(59,"a",9),r.Jb(60,"i",13),r.Kb(),r.Kb(),r.Kb(),r.Lb(61,"div",14),r.Lb(62,"h4"),r.dc(63,"William Anderson"),r.Kb(),r.Lb(64,"span"),r.dc(65,"CTO"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(66,"div",20),r.Lb(67,"div",5),r.Lb(68,"div",6),r.Jb(69,"img",21),r.Lb(70,"div",8),r.Lb(71,"a",9),r.Jb(72,"i",17),r.Kb(),r.Lb(73,"a",9),r.Jb(74,"i",10),r.Kb(),r.Lb(75,"a",9),r.Jb(76,"i",12),r.Kb(),r.Lb(77,"a",9),r.Jb(78,"i",13),r.Kb(),r.Kb(),r.Kb(),r.Lb(79,"div",14),r.Lb(80,"h4"),r.dc(81,"Amanda Jepson"),r.Kb(),r.Lb(82,"span"),r.dc(83,"Accountant"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb())},styles:[""]}),t})()},{path:"inscri",component:AE},{path:"domaine",component:gE},{path:"savoir",component:RE},{path:"exemple",component:mE},{path:"exemple1",component:wE},{path:"admin",component:mo},{path:"profile",component:kE},{path:"commande",component:fE},{path:"reclamation",component:jE}];let ME=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[oo.forRoot(DE)],oo]}),t})();function UE(t,e){1&t&&(r.Lb(0,"a",24),r.dc(1,"About"),r.Kb())}function FE(t,e){1&t&&(r.Lb(0,"a",25),r.dc(1,"Services"),r.Kb())}function VE(t,e){1&t&&(r.Lb(0,"a",26),r.dc(1,"Reference"),r.Kb())}function KE(t,e){1&t&&(r.Lb(0,"a",27),r.dc(1,"Contact"),r.Kb())}function qE(t,e){1&t&&(r.Lb(0,"a",28),r.dc(1,"profile"),r.Kb())}function HE(t,e){1&t&&(r.Lb(0,"a",29),r.dc(1,"commande"),r.Kb())}function BE(t,e){1&t&&(r.Lb(0,"a",30),r.dc(1,"Reclamation"),r.Kb())}function zE(t,e){1&t&&(r.Lb(0,"a",33),r.dc(1,"log in"),r.Kb())}function GE(t,e){if(1&t&&(r.Lb(0,"button",31),r.cc(1,zE,2,0,"a",32),r.Kb()),2&t){const t=r.Ub();r.yb(1),r.Vb("ngIf",!t.isUser)}}function JE(t,e){if(1&t){const t=r.Mb();r.Lb(0,"a",35),r.Sb("click",(function(){return r.Zb(t),r.Ub(2).Logout()})),r.dc(1,"logOut"),r.Kb()}}function WE(t,e){if(1&t&&(r.Lb(0,"button",31),r.cc(1,JE,2,0,"a",34),r.Kb()),2&t){const t=r.Ub();r.yb(1),r.Vb("ngIf",t.isUser)}}let QE=(()=>{class t{constructor(t){this.AuthService=t,this.isUser=!1}ngOnInit(){this.AuthService.user.subscribe(t=>{this.isUser=!!t})}Logout(){this.AuthService.logout()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(KC))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-navbar"]],decls:41,vars:9,consts:[["id","topbar",1,"d-none","d-lg-flex","align-items-center","fixed-top"],[1,"container","d-flex"],[1,"contact-info","mr-auto"],[1,"icofont-envelope"],[1,"icofont-phone"],[1,"social-links"],["href","#",1,"email"],["href","#",1,"facebook"],[1,"icofont-facebook"],["id","header",1,"fixed-top"],[1,"container","d-flex","align-items-center"],[1,"logo","mr-auto"],["href","index.html"],["src"," assets/img/clients/n1.png","alt","industris"],[1,"nav-menu","d-none","d-lg-block"],[1,"active"],["href","#about",4,"ngIf"],["href","#services",4,"ngIf"],["href","#Reference ",4,"ngIf"],["href","#contact",4,"ngIf"],["routerLink","profile",4,"ngIf"],["routerLink","commande",4,"ngIf"],["routerLink","reclamation",4,"ngIf"],["type","button","class","btn btn-outline-dark",4,"ngIf"],["href","#about"],["href","#services"],["href","#Reference "],["href","#contact"],["routerLink","profile"],["routerLink","commande"],["routerLink","reclamation"],["type","button",1,"btn","btn-outline-dark"],["routerLink","inscri",4,"ngIf"],["routerLink","inscri"],["routerLink","inscri",3,"click",4,"ngIf"],["routerLink","inscri",3,"click"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Jb(3,"i",3),r.dc(4,"pip@pip.com.tn "),r.Jb(5,"i",4),r.dc(6," +2 16 20 124 654 "),r.Kb(),r.Lb(7,"div",5),r.Lb(8,"a",6),r.Jb(9,"i",3),r.Kb(),r.Lb(10,"a",7),r.Jb(11,"i",8),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(12,"header",9),r.Lb(13,"div",10),r.Lb(14,"h1",11),r.Lb(15,"a",12),r.Jb(16,"img",13),r.Jb(17,"span"),r.Kb(),r.Kb(),r.Lb(18,"nav",14),r.Lb(19,"ul"),r.Lb(20,"li",15),r.Lb(21,"a",12),r.dc(22,"Home"),r.Kb(),r.Kb(),r.Lb(23,"li"),r.cc(24,UE,2,0,"a",16),r.Kb(),r.Lb(25,"li"),r.cc(26,FE,2,0,"a",17),r.Kb(),r.Lb(27,"li"),r.cc(28,VE,2,0,"a",18),r.Kb(),r.Lb(29,"li"),r.cc(30,KE,2,0,"a",19),r.Kb(),r.Lb(31,"li"),r.cc(32,qE,2,0,"a",20),r.Kb(),r.Lb(33,"li"),r.cc(34,HE,2,0,"a",21),r.Kb(),r.Lb(35,"li"),r.cc(36,BE,2,0,"a",22),r.Kb(),r.Lb(37,"li"),r.cc(38,GE,2,1,"button",23),r.Kb(),r.Lb(39,"li"),r.cc(40,WE,2,1,"button",23),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(24),r.Vb("ngIf",!e.isUser),r.yb(2),r.Vb("ngIf",!e.isUser),r.yb(2),r.Vb("ngIf",!e.isUser),r.yb(2),r.Vb("ngIf",!e.isUser),r.yb(2),r.Vb("ngIf",e.isUser),r.yb(2),r.Vb("ngIf",e.isUser),r.yb(2),r.Vb("ngIf",e.isUser),r.yb(2),r.Vb("ngIf",!e.isUser),r.yb(2),r.Vb("ngIf",e.isUser))},directives:[x,Ji],styles:['#preloader[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999;overflow:hidden;background:#fff}#preloader[_ngcontent-%COMP%]:before{content:"";position:fixed;top:calc(50% - 30px);left:calc(50% - 30px);border:6px solid #106eea;border-top-color:#e2eefd;border-radius:50%;width:60px;height:60px;animation:animate-preloader 1s linear infinite}@keyframes animate-preloader{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.back-to-top[_ngcontent-%COMP%]{position:fixed;display:none;right:15px;bottom:15px;z-index:99999}.back-to-top[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:24px;width:40px;height:40px;border-radius:4px;background:#106eea;color:#fff;transition:all .4s}.back-to-top[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{background:#3284f1;color:#fff}@media screen and (max-width:768px){[data-aos-delay][_ngcontent-%COMP%]{transition-delay:0!important}}#topbar[_ngcontent-%COMP%]{background:#106eea;height:40px;font-size:14px;transition:all .5s;color:#fff}#topbar.topbar-scrolled[_ngcontent-%COMP%]{top:-40px}#topbar[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:1;color:#fff;transition:.3s}#topbar[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}#topbar[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:4px;margin-left:15px}#topbar[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:first-child{margin-left:0}#topbar[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.6);padding-left:15px;display:inline-block;line-height:1px;transition:.3s}#topbar[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}#header[_ngcontent-%COMP%]{background:#fff;transition:all .5s;z-index:997;padding:25px 0;top:40px;box-shadow:0 2px 15px rgba(0,0,0,.1)}#header.header-scrolled[_ngcontent-%COMP%]{top:0;padding:15px}#header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:32px;margin:0;padding:0;line-height:1;font-weight:600;letter-spacing:.8px;font-family:Poppins,sans-serif}#header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#222}#header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#106eea}#header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:40px}@media (max-width:992px){#header[_ngcontent-%COMP%]{padding:15px;top:0}#header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:28px}}.nav-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.nav-menu[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{display:flex}.nav-menu[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative;white-space:nowrap;padding:10px 0 10px 28px}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;position:relative;color:#222;transition:.3s;font-size:15px;font-weight:600;padding:0 3px;font-family:Open Sans,sans-serif}.nav-menu[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:2px;bottom:-5px;left:0;background-color:#106eea;visibility:hidden;width:0;transition:all .3s ease-in-out 0s}.nav-menu[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:before, .nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:before, .nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%]:before{visibility:visible;width:100%}.nav-menu[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%]{color:#106eea}.nav-menu[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:block;position:absolute;left:26px;top:calc(100% + 30px);z-index:99;opacity:0;visibility:hidden;padding:10px 0;background:#fff;box-shadow:0 0 30px rgba(127,137,161,.25);transition:.3s}.nav-menu[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]:hover > ul[_ngcontent-%COMP%]{opacity:1;top:100%;visibility:visible}.nav-menu[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-width:180px;position:relative}.nav-menu[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px;font-weight:500;text-transform:none;color:#062b5b}.nav-menu[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .nav-menu[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-menu[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%]{color:#106eea}.nav-menu[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:after{content:"\\ea99";font-family:IcoFont;padding-left:5px}.nav-menu[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{top:0;left:calc(100% - 30px)}.nav-menu[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]:hover > ul[_ngcontent-%COMP%]{opacity:1;top:0;left:100%}.nav-menu[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding-right:35px}.nav-menu[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:after{content:"\\eaa0";font-family:IcoFont;position:absolute;right:15px}@media (max-width:1366px){.nav-menu[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{left:-90%}.nav-menu[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]:hover > ul[_ngcontent-%COMP%]{left:-100%}.nav-menu[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:after{content:"\\ea9d"}}']}),t})(),YE=(()=>{class t{constructor(){this.title="fin"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Jb(1,"router-outlet"))},directives:[QE,Qi],styles:[""]}),t})(),$E=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[YE]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[],imports:[[lt,ME,Ee.a.initializeApp({apiKey:"AIzaSyDOGs3Y99CMGfL96Y33zlu9eMG0VLtpwqw",authDomain:"finpfe-a31af.firebaseapp.com",projectId:"finpfe-a31af",storageBucket:"finpfe-a31af.appspot.com",messagingSenderId:"490946593784",appId:"1:490946593784:web:4b1a920706b749bd2e0c0d",measurementId:"G-RVZME0FT5S"}),Ce]]}),t})();Object(r.S)(),ut().bootstrapModule($E).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);